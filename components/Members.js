// // // // // // // // // // // "use client"; // Mark this as a Client Component

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Save, Plus, ArrowLeft } from "lucide-react"; // Icons
// // // // // // // // // // // import { useRouter } from "next/navigation"; // For navigation

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({});

// // // // // // // // // // //   const router = useRouter(); // Initialize useRouter

// // // // // // // // // // //   // Fetch members from API
// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   // Filter members based on search query
// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   // Handle edit button click
// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id); // Set the member being edited
// // // // // // // // // // //     setFormData({ ...member }); // Populate form data
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle input changes in the edit form
// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     setFormData({ ...formData, [e.target.name]: e.target.value });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Save edited member details
// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/edit/${editingMember}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify({
// // // // // // // // // // //             name: formData.name,
// // // // // // // // // // //             email: formData.email,
// // // // // // // // // // //             phone: formData.phone,
// // // // // // // // // // //             age: formData.age,
// // // // // // // // // // //             trainerName: formData.trainer,
// // // // // // // // // // //           }),
// // // // // // // // // // //         }
// // // // // // // // // // //       );

// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         const errorMessage = await response.text();
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status} - ${errorMessage}`);
// // // // // // // // // // //       }

// // // // // // // // // // //       const updatedMember = await response.json();

// // // // // // // // // // //       // Update the members list
// // // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // // //         prevMembers.map((m) =>
// // // // // // // // // // //           m._id === editingMember ? { ...m, ...updatedMember } : m
// // // // // // // // // // //         )
// // // // // // // // // // //       );

// // // // // // // // // // //       // Reset editing state
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //       setFormData({});
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //       alert(`Failed to update member: ${err.message}`);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Navigate back to the dashboard
// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen bg-gray-900 text-white flex flex-col w-full">
// // // // // // // // // // //       {/* Navbar */}
// // // // // // // // // // //       <header className="bg-gray-800 px-6 py-4 flex flex-wrap items-center justify-between shadow-md">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           {/* Back to Dashboard Button */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4 mt-2 sm:mt-0">
// // // // // // // // // // //           {/* Search Bar */}
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 rounded-lg text-white outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* Add Member Button */}
// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members Table - Updated to take full width */}
// // // // // // // // // // //       <div className="flex-1 p-4 w-full max-w-full">
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           <div className="w-full bg-gray-800 rounded-lg shadow-md">
// // // // // // // // // // //             <div className="overflow-x-auto w-full">
// // // // // // // // // // //               <table className="w-full border-collapse border border-gray-700 text-white">
// // // // // // // // // // //                 <thead>
// // // // // // // // // // //                   <tr className="bg-gray-800 text-sm md:text-base">
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Name</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Email</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Age</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Gender</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Phone</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Membership</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Trainer</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Actions</th>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 </thead>
// // // // // // // // // // //                 <tbody>
// // // // // // // // // // //                   {filteredMembers.length > 0 ? (
// // // // // // // // // // //                     filteredMembers.map((member) => (
// // // // // // // // // // //                       <tr key={member._id} className="bg-gray-700 hover:bg-gray-600 text-sm md:text-base">
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.name}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.email}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.age}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.gender}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.phone}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.membership_plan}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleEdit(member)}
// // // // // // // // // // //                             className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Edit size={16} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </tr>
// // // // // // // // // // //                     ))
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <tr>
// // // // // // // // // // //                       <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                         No members found.
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tbody>
// // // // // // // // // // //               </table>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Save, Plus, ArrowLeft } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({});

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({ ...member });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     setFormData({ ...formData, [e.target.name]: e.target.value });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/edit/${editingMember}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify({
// // // // // // // // // // //             name: formData.name,
// // // // // // // // // // //             email: formData.email,
// // // // // // // // // // //             phone: formData.phone,
// // // // // // // // // // //             age: formData.age,
// // // // // // // // // // //             trainerName: formData.trainer,
// // // // // // // // // // //           }),
// // // // // // // // // // //         }
// // // // // // // // // // //       );

// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         const errorMessage = await response.text();
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status} - ${errorMessage}`);
// // // // // // // // // // //       }

// // // // // // // // // // //       const updatedMember = await response.json();

// // // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // // //         prevMembers.map((m) =>
// // // // // // // // // // //           m._id === editingMember ? { ...m, ...updatedMember } : m
// // // // // // // // // // //         )
// // // // // // // // // // //       );

// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //       setFormData({});
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //       alert(`Failed to update member: ${err.message}`);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen bg-gray-900 text-white flex flex-col w-full">
// // // // // // // // // // //       {/* Navbar */}
// // // // // // // // // // //       <header className="bg-gray-800 px-6 py-4 flex flex-wrap items-center justify-between shadow-md">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4 mt-2 sm:mt-0">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 rounded-lg text-white outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members Table */}
// // // // // // // // // // //       <div className="flex-1 p-4 w-full max-w-full ml-64"> {/* Add ml-64 for spacing */}
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           <div className="w-full bg-gray-800 rounded-lg shadow-md">
// // // // // // // // // // //             <div className="overflow-x-auto w-full">
// // // // // // // // // // //               <table className="w-full border-collapse border border-gray-700 text-white">
// // // // // // // // // // //                 <thead>
// // // // // // // // // // //                   <tr className="bg-gray-800 text-sm md:text-base">
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Name</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Email</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Age</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Gender</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Phone</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Membership</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Trainer</th>
// // // // // // // // // // //                     <th className="p-2 border border-gray-700">Actions</th>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 </thead>
// // // // // // // // // // //                 <tbody>
// // // // // // // // // // //                   {filteredMembers.length > 0 ? (
// // // // // // // // // // //                     filteredMembers.map((member) => (
// // // // // // // // // // //                       <tr key={member._id} className="bg-gray-700 hover:bg-gray-600 text-sm md:text-base">
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.name}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.email}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.age}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.gender}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.phone}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.membership_plan}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-2 border border-gray-700">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleEdit(member)}
// // // // // // // // // // //                             className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Edit size={16} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </tr>
// // // // // // // // // // //                     ))
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <tr>
// // // // // // // // // // //                       <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                         No members found.
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tbody>
// // // // // // // // // // //               </table>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen bg-gray-900 text-white flex flex-col w-full">
// // // // // // // // // // //       {/* Navbar */}
// // // // // // // // // // //       <header className="bg-gray-800 px-6 py-4 flex flex-wrap items-center justify-between shadow-md">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4 mt-2 sm:mt-0">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members Table - Centered & Fixed */}
// // // // // // // // // // //       <div className="flex justify-center items-center flex-grow p-4">
// // // // // // // // // // //         <div className="w-full max-w-5xl bg-gray-800 rounded-lg shadow-md overflow-hidden">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <div className="overflow-x-auto">
// // // // // // // // // // //               <table className="w-full border-collapse text-white">
// // // // // // // // // // //                 <thead>
// // // // // // // // // // //                   <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                     <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                     <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                     <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                     <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                     <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                     <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                     <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                     <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 </thead>
// // // // // // // // // // //                 <tbody>
// // // // // // // // // // //                   {filteredMembers.length > 0 ? (
// // // // // // // // // // //                     filteredMembers.map((member) => (
// // // // // // // // // // //                       <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                         <td className="p-3 border border-gray-600">{member.name}</td>
// // // // // // // // // // //                         <td className="p-3 border border-gray-600">{member.email}</td>
// // // // // // // // // // //                         <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                         <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                         <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-3 border border-gray-600">
// // // // // // // // // // //                           <button className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600">
// // // // // // // // // // //                             <Edit size={16} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </tr>
// // // // // // // // // // //                     ))
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <tr>
// // // // // // // // // // //                       <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                         No members found.
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tbody>
// // // // // // // // // // //               </table>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;

// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen bg-gray-900 text-white flex flex-col items-center w-full mt-16">
// // // // // // // // // // //       {/* Navbar (Fixed in Place) */}
// // // // // // // // // // //       <header className="bg-gray-800 w-full max-w-5xl px-6 py-4 flex items-center justify-between shadow-md rounded-lg">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members List Box (Centered & Fixed) */}
// // // // // // // // // // //       <div className="w-full max-w-5xl bg-gray-800 rounded-lg shadow-md overflow-hidden mt-6 p-4">
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           <div className="overflow-x-auto">
// // // // // // // // // // //             <table className="w-full border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.name}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.email}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">
// // // // // // // // // // //                         <button className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600">
// // // // // // // // // // //                           <Edit size={16} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen bg-gray-900 text-white flex flex-col items-center w-full mt-16">
// // // // // // // // // // //       {/* Navbar (Fixed in Place) */}
// // // // // // // // // // //       <header className="bg-gray-800 w-full max-w-7xl px-6 py-4 flex items-center justify-between shadow-md rounded-lg ml-auto">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members List Box (Centered & Fixed) */}
// // // // // // // // // // //       <div className="w-full max-w-7xl bg-gray-800 rounded-lg shadow-md overflow-hidden mt-6 p-6 min-h-[600px] ml-64">
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           <div className="overflow-x-auto">
// // // // // // // // // // //             <table className="w-full border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.name}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.email}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">
// // // // // // // // // // //                         <button className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600">
// // // // // // // // // // //                           <Edit size={16} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen bg-gray-900 text-white flex flex-col items-center w-full mt-16">
// // // // // // // // // // //       {/* Navbar (Fixed in Place) */}
// // // // // // // // // // //       <header className="bg-gray-800 w-full max-w-7xl px-6 py-4 flex items-center justify-between shadow-md rounded-lg mx-auto">
// // // // // // // // // // //         {/* Removed ml-64, added mx-auto to center */}
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members List Box (Centered & Fixed) */}
// // // // // // // // // // //       <div className="w-full max-w-7xl bg-gray-800 rounded-lg shadow-md overflow-hidden mt-6 p-6 min-h-[600px] mx-auto">
// // // // // // // // // // //         {/* Removed ml-64, added mx-auto to center */}
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           <div className="overflow-x-auto">
// // // // // // // // // // //             <table className="w-full border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.name}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.email}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">
// // // // // // // // // // //                         <button className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600">
// // // // // // // // // // //                           <Edit size={16} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen w-full bg-gray-900 text-white flex flex-col items-center justify-center">
// // // // // // // // // // //       {/* Navbar */}
// // // // // // // // // // //       <header className="bg-gray-800 w-full max-w-7xl px-6 py-4 flex items-center justify-between shadow-md rounded-lg mx-auto">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members List Box (Full Background, Fixed Table) */}
// // // // // // // // // // //       <div className="w-full h-full bg-gray-800 rounded-lg shadow-md mt-6 p-6 min-h-screen flex flex-col mx-auto">
// // // // // // // // // // //         <div className="overflow-hidden">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.name}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.email}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-3 border border-gray-600">
// // // // // // // // // // //                         <button className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600">
// // // // // // // // // // //                           <Edit size={16} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen w-full bg-gray-900 text-white flex flex-col items-center justify-center">
// // // // // // // // // // //       {/* Navbar */}
// // // // // // // // // // //       <header className="bg-gray-800 w-full max-w-7xl px-6 py-4 flex items-center justify-between shadow-md rounded-lg mx-auto">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members List Box (Full Background, Fixed Table) */}
// // // // // // // // // // //       <div className="w-full h-full bg-gray-800 rounded-lg shadow-md mt-6 p-6 min-h-screen flex flex-col mx-auto">
// // // // // // // // // // //         <div className="overflow-hidden">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen w-full bg-gray-900 text-white flex flex-col items-center justify-center">
// // // // // // // // // // //       {/* Navbar */}
// // // // // // // // // // //       <header className="bg-gray-800 w-full max-w-7xl px-6 py-4 flex items-center justify-between shadow-md rounded-lg mx-auto">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="relative flex items-center space-x-4">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Members List Box (Full Background, Fixed Table) */}
// // // // // // // // // // //       <div className="w-full h-full bg-gray-800 rounded-lg shadow-md mt-6 p-6 min-h-screen flex flex-col mx-auto">
// // // // // // // // // // //         <div className="overflow-hidden">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen w-full bg-gray-900 text-white flex flex-col items-center justify-center">
// // // // // // // // // // //       {/* Navbar */}
// // // // // // // // // // //       <header className="bg-gray-800 w-full max-w-7xl px-6 py-4 flex items-center justify-between shadow-md rounded-lg mx-auto">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Search and Add Member Section */}
// // // // // // // // // // //       <div className="w-full max-w-7xl mt-6 flex items-center justify-between px-6">
// // // // // // // // // // //         <div className="relative w-full sm:w-auto">
// // // // // // // // // // //           <input
// // // // // // // // // // //             type="text"
// // // // // // // // // // //             placeholder="Search members..."
// // // // // // // // // // //             className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //             onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //           />
// // // // // // // // // // //           <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //           <Plus size={18} /> Add Member
// // // // // // // // // // //         </button>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Members List Box (Full Background, Fixed Table) */}
// // // // // // // // // // //       <div className="w-full h-full bg-gray-800 rounded-lg shadow-md mt-6 p-6 min-h-screen flex flex-col mx-auto max-w-7xl">
// // // // // // // // // // //         <div className="overflow-hidden">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="min-h-screen w-full bg-gray-900 text-white flex flex-col items-center justify-center">
// // // // // // // // // // //       {/* Navbar */}
// // // // // // // // // // //       <header className="bg-gray-800 w-full max-w-7xl px-6 py-4 flex items-center justify-between shadow-md rounded-lg mx-auto">
// // // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </header>

// // // // // // // // // // //       {/* Search and Add Member Section */}
// // // // // // // // // // //       <div className="w-full max-w-7xl mt-6 flex items-center justify-between px-6 mb-6">
// // // // // // // // // // //         <div className="relative w-full sm:w-auto">
// // // // // // // // // // //           <input
// // // // // // // // // // //             type="text"
// // // // // // // // // // //             placeholder="Search members..."
// // // // // // // // // // //             className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //             onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //           />
// // // // // // // // // // //           <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //           <Plus size={18} /> Add Member
// // // // // // // // // // //         </button>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Members List Box (Full Background, Fixed Table) */}
// // // // // // // // // // //       <div className="w-full h-full bg-gray-800 rounded-lg shadow-md p-6 min-h-screen flex flex-col mx-auto max-w-7xl mt-10">
// // // // // // // // // // //         <div className="overflow-hidden">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   // Make sure this function is defined
// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <>
// // // // // // // // // // //       {/* Back Button and Title */}
// // // // // // // // // // //       <div className="flex items-center space-x-4 mb-6">
// // // // // // // // // // //         <button
// // // // // // // // // // //           onClick={handleBackToDashboard}
// // // // // // // // // // //           className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                    border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //         >
// // // // // // // // // // //           <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //         </button>
// // // // // // // // // // //         <h2 className="text-2xl font-bold">Members List</h2>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Search and Add Member Section */}
// // // // // // // // // // //       <div className="w-full flex items-center justify-between mb-6">
// // // // // // // // // // //         <div className="relative w-full sm:w-auto">
// // // // // // // // // // //           <input
// // // // // // // // // // //             type="text"
// // // // // // // // // // //             placeholder="Search members..."
// // // // // // // // // // //             className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //             onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //           />
// // // // // // // // // // //           <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //           <Plus size={18} /> Add Member
// // // // // // // // // // //         </button>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Members List */}
// // // // // // // // // // //       <div className="w-full bg-gray-800 rounded-lg shadow-md p-6 flex flex-col">
// // // // // // // // // // //         <div className="overflow-x-auto">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;

// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     // Add padding-top to ensure content is below navbar and not overlapping with sidebar
// // // // // // // // // // //     <div className="pt-6 pl-2 pr-2 min-h-screen w-full">
// // // // // // // // // // //       {/* Back Button and Title - Explicitly set text color to white */}
// // // // // // // // // // //       <div className="flex items-center space-x-4 mb-6">
// // // // // // // // // // //         <button
// // // // // // // // // // //           onClick={handleBackToDashboard}
// // // // // // // // // // //           className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                    border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //         >
// // // // // // // // // // //           <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //         </button>
// // // // // // // // // // //         <h2 className="text-2xl font-bold text-white">Members List</h2>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Search and Add Member Section */}
// // // // // // // // // // //       <div className="w-full flex items-center justify-between mb-6">
// // // // // // // // // // //         <div className="relative w-full sm:w-auto">
// // // // // // // // // // //           <input
// // // // // // // // // // //             type="text"
// // // // // // // // // // //             placeholder="Search members..."
// // // // // // // // // // //             className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //             onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //           />
// // // // // // // // // // //           <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //           <Plus size={18} /> Add Member
// // // // // // // // // // //         </button>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Members List Box - Increased the height */}
// // // // // // // // // // //       <div className="w-full bg-gray-800 rounded-lg shadow-md p-6 flex flex-col min-h-[70vh]">
// // // // // // // // // // //         <div className="overflow-x-auto">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="8" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save, Trash, Undo } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     // Store the member before removing
// // // // // // // // // // //     const memberToDelete = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDelete);

// // // // // // // // // // //     // Remove from state immediately
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     // Set timer for undo
// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         // Restore the member in case of error
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDelete]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 6000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     // Add padding-top to ensure content is below navbar and not overlapping with sidebar
// // // // // // // // // // //     <div className="pt-17 pl-2 pr-2 min-h-screen w-full">
// // // // // // // // // // //       {/* Back Button and Title - Explicitly set text color to white */}
// // // // // // // // // // //       <div className="flex items-center space-x-4 mb-6">
// // // // // // // // // // //         <button
// // // // // // // // // // //           onClick={handleBackToDashboard}
// // // // // // // // // // //           className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                    border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //         >
// // // // // // // // // // //           <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //         </button>
// // // // // // // // // // //         <h2 className="text-2xl font-bold text-white">Members List</h2>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Search and Add Member Section */}
// // // // // // // // // // //       <div className="w-full flex items-center justify-between mb-6">
// // // // // // // // // // //         <div className="relative w-full sm:w-auto">
// // // // // // // // // // //           <input
// // // // // // // // // // //             type="text"
// // // // // // // // // // //             placeholder="Search members..."
// // // // // // // // // // //             className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //             onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //           />
// // // // // // // // // // //           <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //           <Plus size={18} /> Add Member
// // // // // // // // // // //         </button>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-6 right-6 bg-gray-800 text-white p-4 rounded-lg shadow-lg flex items-center gap-3 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded flex items-center gap-1"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={16} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Members List Box - Increased the height */}
// // // // // // // // // // //       <div className="w-full bg-gray-800 rounded-lg shadow-md p-6 flex flex-col min-h-[70vh]">
// // // // // // // // // // //         <div className="overflow-x-auto">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member, index) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 flex space-x-2">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                               className="bg-gray-600 px-3 py-1 rounded font-bold hover:bg-gray-700"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="9" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save, Trash, Undo } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     // Store the member before removing
// // // // // // // // // // //     const memberToDelete = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDelete);

// // // // // // // // // // //     // Remove from state immediately
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     // Set timer for undo
// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         // Restore the member in case of error
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDelete]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 6000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     // Add padding-top to ensure content is below navbar and not overlapping with sidebar
// // // // // // // // // // //     <div className="pt-17 pl-2 pr-2 min-h-screen w-full">
// // // // // // // // // // //       {/* Back Button and Title - Explicitly set text color to white */}
// // // // // // // // // // //       <div className="flex items-center space-x-4 mb-6">
// // // // // // // // // // //         <button
// // // // // // // // // // //           onClick={handleBackToDashboard}
// // // // // // // // // // //           className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                    border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //         >
// // // // // // // // // // //           <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //         </button>
// // // // // // // // // // //         <h2 className="text-2xl font-bold text-white">Members List</h2>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Search and Add Member Section */}
// // // // // // // // // // //       <div className="w-full flex items-center justify-between mb-6">
// // // // // // // // // // //         <div className="relative w-full sm:w-auto">
// // // // // // // // // // //           <input
// // // // // // // // // // //             type="text"
// // // // // // // // // // //             placeholder="Search members..."
// // // // // // // // // // //             className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //             onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //           />
// // // // // // // // // // //           <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //           <Plus size={18} /> Add Member
// // // // // // // // // // //         </button>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-6 right-6 bg-gray-800 text-white p-4 rounded-lg shadow-lg flex items-center gap-3 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded flex items-center gap-1"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={16} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Members List Box - Increased the height */}
// // // // // // // // // // //       <div className="w-full bg-gray-800 rounded-lg shadow-md p-6 flex flex-col min-h-[70vh]">
// // // // // // // // // // //         <div className="overflow-x-auto">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member, index) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <div className="flex space-x-2 md:space-x-3 flex-wrap justify-center">
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // // // //                                 className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Edit size={16} />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                                 className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={16} />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="9" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save, Trash, Undo } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import Link from "next/link";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`); // Fixed: Use backticks
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`); // Fixed: Use backticks
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     // Store the member before removing
// // // // // // // // // // //     const memberToDelete = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDelete);

// // // // // // // // // // //     // Remove from state immediately
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     // Set timer for undo
// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`); // Fixed: Use backticks
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         // Restore the member in case of error
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDelete]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 6000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     // Add padding-top to ensure content is below navbar and not overlapping with sidebar
// // // // // // // // // // //     <div className="pt-17 pl-2 pr-2 min-h-screen w-full">
// // // // // // // // // // //       {/* Back Button and Title - Explicitly set text color to white */}
// // // // // // // // // // //       <div className="flex items-center space-x-4 mb-6">
// // // // // // // // // // //         <button
// // // // // // // // // // //           onClick={handleBackToDashboard}
// // // // // // // // // // //           className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                    border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //         >
// // // // // // // // // // //           <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //         </button>
// // // // // // // // // // //         <h2 className="text-2xl font-bold text-white">Members List</h2>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Search and Add Member Section */}
// // // // // // // // // // //       <div className="w-full flex items-center justify-between mb-6">
// // // // // // // // // // //         <div className="relative w-full sm:w-auto">
// // // // // // // // // // //           <input
// // // // // // // // // // //             type="text"
// // // // // // // // // // //             placeholder="Search members..."
// // // // // // // // // // //             className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //             onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //           />
// // // // // // // // // // //           <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //         </div>
// // // // // // // // // // //         <Link href="/add-member">
// // // // // // // // // // //           <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //             <Plus size={18} /> Add Member
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </Link>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-6 right-6 bg-gray-800 text-white p-4 rounded-lg shadow-lg flex items-center gap-3 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded flex items-center gap-1"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={16} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Members List Box - Increased the height */}
// // // // // // // // // // //       <div className="w-full bg-gray-800 rounded-lg shadow-md p-6 flex flex-col min-h-[70vh]">
// // // // // // // // // // //         <div className="overflow-x-auto">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead>
// // // // // // // // // // //                 <tr className="bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member, index) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <div className="flex space-x-2 md:space-x-3 flex-wrap justify-center">
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // // // //                                 className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Edit size={16} />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                                 className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={16} />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="9" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save, Trash, Undo } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import Link from "next/link";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     // Store the member before removing
// // // // // // // // // // //     const memberToDelete = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDelete);

// // // // // // // // // // //     // Remove from state immediately
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     // Set timer for undo
// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         // Restore the member in case of error
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDelete]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 6000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="pt-17 pl-2 pr-2 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Sticky Header Box */}
// // // // // // // // // // //       <div className="sticky top-0 z-20 bg-gray-800 p-4 rounded-lg shadow-md mb-4">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center space-x-4 mb-4">
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleBackToDashboard}
// // // // // // // // // // //             className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                      border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //           >
// // // // // // // // // // //             <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //           </button>
// // // // // // // // // // //           <h2 className="text-2xl font-bold text-white">Members List</h2>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row */}
// // // // // // // // // // //         <div className="w-full flex items-center justify-between">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member">
// // // // // // // // // // //             <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //               <Plus size={18} /> Add Member
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-6 right-6 bg-gray-800 text-white p-4 rounded-lg shadow-lg flex items-center gap-3 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded flex items-center gap-1"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={16} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Scrollable Content Area */}
// // // // // // // // // // //       <div className="w-full bg-gray-800 rounded-lg shadow-md p-6 flex flex-col flex-grow overflow-auto">
// // // // // // // // // // //         <div className="overflow-x-auto">
// // // // // // // // // // //           {loading ? (
// // // // // // // // // // //             <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //           ) : error ? (
// // // // // // // // // // //             <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //               <thead className="sticky top-0 bg-gray-700">
// // // // // // // // // // //                 <tr className="text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody>
// // // // // // // // // // //                 {filteredMembers.length > 0 ? (
// // // // // // // // // // //                   filteredMembers.map((member, index) => (
// // // // // // // // // // //                     <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="name"
// // // // // // // // // // //                               value={formData.name}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="email"
// // // // // // // // // // //                               name="email"
// // // // // // // // // // //                               value={formData.email}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="number"
// // // // // // // // // // //                               name="age"
// // // // // // // // // // //                               value={formData.age}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="gender"
// // // // // // // // // // //                               value={formData.gender}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="phone"
// // // // // // // // // // //                               value={formData.phone}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <select
// // // // // // // // // // //                               name="membership_plan"
// // // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <option value="Gold">Gold</option>
// // // // // // // // // // //                               <option value="Silver">Silver</option>
// // // // // // // // // // //                               <option value="Platinum">Platinum</option>
// // // // // // // // // // //                             </select>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="text"
// // // // // // // // // // //                               name="trainer"
// // // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // // //                               className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                           <td className="p-2 border border-gray-600">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={handleSave}
// // // // // // // // // // //                               className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Save size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                           <td className="p-3 border border-gray-600">
// // // // // // // // // // //                             <div className="flex space-x-2 md:space-x-3 flex-wrap justify-center">
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // // // //                                 className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Edit size={16} />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                                 className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={16} />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           </td>
// // // // // // // // // // //                         </>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))
// // // // // // // // // // //                 ) : (
// // // // // // // // // // //                   <tr>
// // // // // // // // // // //                     <td colSpan="9" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                       No members found.
// // // // // // // // // // //                     </td>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 )}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save, Trash, Undo } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import Link from "next/link";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   // Add this function to handle navigation back to the dashboard
// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     const memberToDelete = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDelete);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDelete]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 6000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="p-6 flex justify-center items-start overflow-auto h-screen pt-0">
// // // // // // // // // // //       <div className="w-full max-w-8xl">
// // // // // // // // // // //         {/* Fixed Header Box */}
// // // // // // // // // // //         <div className="fixed top-0 left-0 right-0 sm:top-[6rem] sm:left-[2rem] md:left-[20rem] lg:left-[24rem] z-20 bg-gray-800 p-4 rounded-lg shadow-md mb-4">
// // // // // // // // // // //           {/* Back Button and Title Row */}
// // // // // // // // // // //           <div className="flex items-center space-x-4 mb-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard} // Use the handleBackToDashboard function here
// // // // // // // // // // //               className="bg-gray-700 px-3 py-2 rounded-lg text-white flex items-center gap-2 transition-colors
// // // // // // // // // // //                        border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={18} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-2xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* Search and Add Member Row */}
// // // // // // // // // // //           <div className="w-full flex items-center justify-between">
// // // // // // // // // // //             <div className="relative w-full sm:w-auto">
// // // // // // // // // // //               <input
// // // // // // // // // // //                 type="text"
// // // // // // // // // // //                 placeholder="Search members..."
// // // // // // // // // // //                 className="w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition"
// // // // // // // // // // //                 onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //               />
// // // // // // // // // // //               <Search className="absolute left-3 top-2.5 text-gray-400" size={20} />
// // // // // // // // // // //             </div>
// // // // // // // // // // //             <Link href="/add-member">
// // // // // // // // // // //               <button className="bg-red-500 px-4 py-2 rounded font-bold hover:bg-red-600 flex items-center gap-2">
// // // // // // // // // // //                 <Plus size={18} /> Add Member
// // // // // // // // // // //               </button>
// // // // // // // // // // //             </Link>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Undo Delete Notification */}
// // // // // // // // // // //         {deletedMember && (
// // // // // // // // // // //           <div className="fixed bottom-6 right-6 bg-gray-800 text-white p-4 rounded-lg shadow-lg flex items-center gap-3 z-50">
// // // // // // // // // // //             <span>Member deleted</span>
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleUndoDelete}
// // // // // // // // // // //               className="bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded flex items-center gap-1"
// // // // // // // // // // //             >
// // // // // // // // // // //               <Undo size={16} /> Undo
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}

// // // // // // // // // // //         {/* Table Container with Padding to Account for Fixed Header */}
// // // // // // // // // // //         <div className="pt-20 sm:pt-32"> {/* Adjust padding for mobile and larger screens */}
// // // // // // // // // // //           <div className="bg-gray-800 p-6 rounded-lg text-white h-[calc(100vh-12rem)] overflow-y-auto shadow-lg">
// // // // // // // // // // //             <div className="overflow-x-auto">
// // // // // // // // // // //               {loading ? (
// // // // // // // // // // //                 <div className="text-center py-8">Loading members...</div>
// // // // // // // // // // //               ) : error ? (
// // // // // // // // // // //                 <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 <table className="w-full table-fixed border-collapse text-white">
// // // // // // // // // // //                   <thead className="sticky top-0 bg-gray-700">
// // // // // // // // // // //                     <tr className="text-sm md:text-base">
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                       <th className="p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   </thead>
// // // // // // // // // // //                   <tbody>
// // // // // // // // // // //                     {filteredMembers.length > 0 ? (
// // // // // // // // // // //                       filteredMembers.map((member, index) => (
// // // // // // // // // // //                         <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-sm md:text-base">
// // // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // // //                             <>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">
// // // // // // // // // // //                                 <input
// // // // // // // // // // //                                   type="text"
// // // // // // // // // // //                                   name="name"
// // // // // // // // // // //                                   value={formData.name}
// // // // // // // // // // //                                   onChange={handleChange}
// // // // // // // // // // //                                   className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                                 />
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">
// // // // // // // // // // //                                 <input
// // // // // // // // // // //                                   type="email"
// // // // // // // // // // //                                   name="email"
// // // // // // // // // // //                                   value={formData.email}
// // // // // // // // // // //                                   onChange={handleChange}
// // // // // // // // // // //                                   className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                                 />
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">
// // // // // // // // // // //                                 <input
// // // // // // // // // // //                                   type="number"
// // // // // // // // // // //                                   name="age"
// // // // // // // // // // //                                   value={formData.age}
// // // // // // // // // // //                                   onChange={handleChange}
// // // // // // // // // // //                                   className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                                 />
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">
// // // // // // // // // // //                                 <select
// // // // // // // // // // //                                   name="gender"
// // // // // // // // // // //                                   value={formData.gender}
// // // // // // // // // // //                                   onChange={handleChange}
// // // // // // // // // // //                                   className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <option value="Male">Male</option>
// // // // // // // // // // //                                   <option value="Female">Female</option>
// // // // // // // // // // //                                   <option value="Other">Other</option>
// // // // // // // // // // //                                 </select>
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">
// // // // // // // // // // //                                 <input
// // // // // // // // // // //                                   type="text"
// // // // // // // // // // //                                   name="phone"
// // // // // // // // // // //                                   value={formData.phone}
// // // // // // // // // // //                                   onChange={handleChange}
// // // // // // // // // // //                                   className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                                 />
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">
// // // // // // // // // // //                                 <select
// // // // // // // // // // //                                   name="membership_plan"
// // // // // // // // // // //                                   value={formData.membership_plan}
// // // // // // // // // // //                                   onChange={handleChange}
// // // // // // // // // // //                                   className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <option value="Gold">Gold</option>
// // // // // // // // // // //                                   <option value="Silver">Silver</option>
// // // // // // // // // // //                                   <option value="Platinum">Platinum</option>
// // // // // // // // // // //                                 </select>
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">
// // // // // // // // // // //                                 <input
// // // // // // // // // // //                                   type="text"
// // // // // // // // // // //                                   name="trainer"
// // // // // // // // // // //                                   value={formData.trainer}
// // // // // // // // // // //                                   onChange={handleChange}
// // // // // // // // // // //                                   className="bg-gray-700 p-2 rounded w-full"
// // // // // // // // // // //                                 />
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                               <td className="p-2 border border-gray-600">
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={handleSave}
// // // // // // // // // // //                                   className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Save size={16} />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                             </>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600 truncate">{member.name}</td>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600 truncate">{member.email}</td>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600">{member.phone}</td>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                               <td className="p-3 border border-gray-600">
// // // // // // // // // // //                                 <div className="flex space-x-2 md:space-x-3 flex-wrap justify-center">
// // // // // // // // // // //                                   <button
// // // // // // // // // // //                                     onClick={() => handleEdit(member)}
// // // // // // // // // // //                                     className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                                   >
// // // // // // // // // // //                                     <Edit size={16} />
// // // // // // // // // // //                                   </button>
// // // // // // // // // // //                                   <button
// // // // // // // // // // //                                     onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                                     className="bg-red-500 px-3 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                                   >
// // // // // // // // // // //                                     <Trash size={16} />
// // // // // // // // // // //                                   </button>
// // // // // // // // // // //                                 </div>
// // // // // // // // // // //                               </td>
// // // // // // // // // // //                             </>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                         </tr>
// // // // // // // // // // //                       ))
// // // // // // // // // // //                     ) : (
// // // // // // // // // // //                       <tr>
// // // // // // // // // // //                         <td colSpan="9" className="p-3 text-center text-gray-400">
// // // // // // // // // // //                           No members found.
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </tr>
// // // // // // // // // // //                     )}
// // // // // // // // // // //                   </tbody>
// // // // // // // // // // //                 </table>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { Search, Edit, Plus, ArrowLeft, Save, Trash, Undo } from "lucide-react";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import Link from "next/link";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();

// // // // // // // // // // //     // Set view mode based on screen size
// // // // // // // // // // //     const handleResize = () => {
// // // // // // // // // // //       if (window.innerWidth < 768) {
// // // // // // // // // // //         setViewMode("card");
// // // // // // // // // // //       } else {
// // // // // // // // // // //         setViewMode("table");
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     // Initial check
// // // // // // // // // // //     handleResize();

// // // // // // // // // // //     // Add event listener
// // // // // // // // // // //     window.addEventListener("resize", handleResize);

// // // // // // // // // // //     // Cleanup
// // // // // // // // // // //     return () => window.removeEventListener("resize", handleResize);
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     const memberToDelete = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDelete);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDelete]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 6000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render table rows or cards based on the current view mode
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3 ">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-[400px] overflow-y-auto">
// // // // // // // // // // //           <table className="w-full border-collapse text-white">
// // // // // // // // // // //             <thead className="sticky top-0 bg-gray-700">
// // // // // // // // // // //               <tr className="text-sm md:text-base">
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //               </tr>
// // // // // // // // // // //             </thead>
// // // // // // // // // // //             <tbody>
// // // // // // // // // // //               {filteredMembers.map((member, index) => (
// // // // // // // // // // //                 <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="name"
// // // // // // // // // // //                           value={formData.name}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="email"
// // // // // // // // // // //                           name="email"
// // // // // // // // // // //                           value={formData.email}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="phone"
// // // // // // // // // // //                           value={formData.phone}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="membership_plan"
// // // // // // // // // // //                           value={formData.membership_plan}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Gold">Gold</option>
// // // // // // // // // // //                           <option value="Silver">Silver</option>
// // // // // // // // // // //                           <option value="Platinum">Platinum</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="trainer"
// // // // // // // // // // //                           value={formData.trainer}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <button
// // // // // // // // // // //                           onClick={handleSave}
// // // // // // // // // // //                           className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <Save size={14} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleEdit(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Edit size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               ))}
// // // // // // // // // // //             </tbody>
// // // // // // // // // // //           </table>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="pt-17 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Sticky Header Box */}
// // // // // // // // // // //       <div className="sticky top-0 z-20 bg-gray-800 p-3 md:p-4 rounded-lg shadow-md mb-4">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center justify-between mb-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-gray-700 px-2 py-1 md:px-3 md:py-2 rounded-lg text-white flex items-center gap-1 transition-colors
// // // // // // // // // // //                      border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={16} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-lg md:text-2xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* View toggle button */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-gray-700 px-2 py-1 text-xs md:text-sm rounded-lg hover:bg-gray-600 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row */}
// // // // // // // // // // //         <div className="w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition text-sm"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={18} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-3 py-2 rounded font-bold hover:bg-red-600 flex items-center justify-center gap-2 text-sm text-white">
// // // // // // // // // // //               <Plus size={16} /> Add Member
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50 text-sm">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Scrollable Content Area */}
// // // // // // // // // // //       <div className="w-full bg-gray-800 rounded-lg shadow-md p-3 md:p-6 flex flex-col flex-grow" style={{ minHeight: 'calc(100vh - 200px)' }}>
// // // // // // // // // // //   {loading ? (
// // // // // // // // // // //     <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //   ) : error ? (
// // // // // // // // // // //     <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //   ) : (
// // // // // // // // // // //     renderMembers()
// // // // // // // // // // //   )}
// // // // // // // // // // // </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();

// // // // // // // // // // //     // Set view mode based on screen size
// // // // // // // // // // //     const handleResize = () => {
// // // // // // // // // // //       if (window.innerWidth < 768) {
// // // // // // // // // // //         setViewMode("card");
// // // // // // // // // // //       } else {
// // // // // // // // // // //         setViewMode("table");
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     // Initial check
// // // // // // // // // // //     handleResize();

// // // // // // // // // // //     // Add event listener
// // // // // // // // // // //     window.addEventListener("resize", handleResize);

// // // // // // // // // // //     // Cleanup
// // // // // // // // // // //     return () => window.removeEventListener("resize", handleResize);
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     const memberToDelete = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDelete);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDelete]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 6000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render table rows or cards based on the current view mode
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3 ">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-y-auto">
// // // // // // // // // // //           <table className="w-full border-collapse text-white">
// // // // // // // // // // //             <thead className="sticky top-0 bg-gray-700">
// // // // // // // // // // //               <tr className="text-sm md:text-base">
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //               </tr>
// // // // // // // // // // //             </thead>
// // // // // // // // // // //             <tbody>
// // // // // // // // // // //               {filteredMembers.map((member, index) => (
// // // // // // // // // // //                 <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="name"
// // // // // // // // // // //                           value={formData.name}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="email"
// // // // // // // // // // //                           name="email"
// // // // // // // // // // //                           value={formData.email}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="phone"
// // // // // // // // // // //                           value={formData.phone}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="membership_plan"
// // // // // // // // // // //                           value={formData.membership_plan}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Gold">Gold</option>
// // // // // // // // // // //                           <option value="Silver">Silver</option>
// // // // // // // // // // //                           <option value="Platinum">Platinum</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="trainer"
// // // // // // // // // // //                           value={formData.trainer}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <button
// // // // // // // // // // //                           onClick={handleSave}
// // // // // // // // // // //                           className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <Save size={14} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleEdit(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Edit size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               ))}
// // // // // // // // // // //             </tbody>
// // // // // // // // // // //           </table>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="pt-17 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Header Section */}
// // // // // // // // // // //       <div className="sticky top-0 z-20 bg-gray-800 p-3 md:p-4 rounded-lg shadow-md">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center justify-between mb-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-gray-700 px-2 py-1 md:px-3 md:py-2 rounded-lg text-white flex items-center gap-1 transition-colors
// // // // // // // // // // //                      border-2 border-transparent hover:border-red-500 hover:bg-gray-600"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={16} className="text-red-500" strokeWidth={5} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-lg md:text-2xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* View toggle button */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-gray-700 px-2 py-1 text-xs md:text-sm rounded-lg hover:bg-gray-600 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row */}
// // // // // // // // // // //         <div className="w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-gray-700 text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500 transition text-sm"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={18} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-7 py-2 rounded font-bold hover:bg-red-600 flex items-center justify-center gap-2 text-sm text-white">
// // // // // // // // // // //               <Plus size={10} /> Add Member
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Table/Card Section with Scrollbar */}
// // // // // // // // // // //       <div className="w-full bg-gray-800 rounded-lg shadow-md p-3 md:p-6 flex-grow overflow-y-auto mt-4" style={{ height: 'calc(100vh - 180px)' }}>
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50 text-sm">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();

// // // // // // // // // // //     // Set view mode based on screen size
// // // // // // // // // // //     const handleResize = () => {
// // // // // // // // // // //       if (window.innerWidth < 768) {
// // // // // // // // // // //         setViewMode("card");
// // // // // // // // // // //       } else {
// // // // // // // // // // //         setViewMode("table");
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     // Initial check
// // // // // // // // // // //     handleResize();

// // // // // // // // // // //     // Add event listener
// // // // // // // // // // //     window.addEventListener("resize", handleResize);

// // // // // // // // // // //     // Cleanup
// // // // // // // // // // //     return () => window.removeEventListener("resize", handleResize);
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     const memberToDelete = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDelete);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDelete]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 6000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle photo upload from local storage
// // // // // // // // // // //   const handlePhotoUpload = (event, memberId) => {
// // // // // // // // // // //     const file = event.target.files[0];
// // // // // // // // // // //     if (file) {
// // // // // // // // // // //       const reader = new FileReader();
// // // // // // // // // // //       reader.onloadend = () => {
// // // // // // // // // // //         const updatedMembers = members.map(member =>
// // // // // // // // // // //           member._id === memberId ? { ...member, photo: reader.result } : member
// // // // // // // // // // //         );
// // // // // // // // // // //         setMembers(updatedMembers);
// // // // // // // // // // //       };
// // // // // // // // // // //       reader.readAsDataURL(file);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle photo deletion
// // // // // // // // // // //   const handlePhotoDelete = (memberId) => {
// // // // // // // // // // //     const updatedMembers = members.map(member =>
// // // // // // // // // // //       member._id === memberId ? { ...member, photo: null } : member
// // // // // // // // // // //     );
// // // // // // // // // // //     setMembers(updatedMembers);
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render table rows or cards based on the current view mode
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {formData.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden">
// // // // // // // // // // //                           <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handlePhotoDelete(member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {member.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden">
// // // // // // // // // // //                           <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handlePhotoDelete(member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-y-auto">
// // // // // // // // // // //           <table className="w-full border-collapse text-white">
// // // // // // // // // // //             <thead className="sticky top-0 bg-gray-700">
// // // // // // // // // // //               <tr className="text-sm md:text-base">
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Photo</th> {/* Changed from Image to Photo */}
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //               </tr>
// // // // // // // // // // //             </thead>
// // // // // // // // // // //             <tbody>
// // // // // // // // // // //               {filteredMembers.map((member, index) => (
// // // // // // // // // // //                 <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <div className="relative group">
// // // // // // // // // // //                           {formData.photo ? (
// // // // // // // // // // //                             <div className="relative w-10 h-10 rounded-full overflow-hidden">
// // // // // // // // // // //                               <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handlePhotoDelete(member._id)}
// // // // // // // // // // //                                 className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={10} className="text-white" />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center">
// // // // // // // // // // //                               <User size={16} className="text-gray-400" />
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="file"
// // // // // // // // // // //                             accept="image/*"
// // // // // // // // // // //                             onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                             className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="name"
// // // // // // // // // // //                           value={formData.name}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="email"
// // // // // // // // // // //                           name="email"
// // // // // // // // // // //                           value={formData.email}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="phone"
// // // // // // // // // // //                           value={formData.phone}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="membership_plan"
// // // // // // // // // // //                           value={formData.membership_plan}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Gold">Gold</option>
// // // // // // // // // // //                           <option value="Silver">Silver</option>
// // // // // // // // // // //                           <option value="Platinum">Platinum</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="trainer"
// // // // // // // // // // //                           value={formData.trainer}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <button
// // // // // // // // // // //                           onClick={handleSave}
// // // // // // // // // // //                           className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <Save size={14} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="relative group">
// // // // // // // // // // //                           {member.photo ? (
// // // // // // // // // // //                             <div className="relative w-10 h-10 rounded-full overflow-hidden">
// // // // // // // // // // //                               <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handlePhotoDelete(member._id)}
// // // // // // // // // // //                                 className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={10} className="text-white" />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center">
// // // // // // // // // // //                               <User size={16} className="text-gray-400" />
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="file"
// // // // // // // // // // //                             accept="image/*"
// // // // // // // // // // //                             onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                             className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleEdit(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Edit size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               ))}
// // // // // // // // // // //             </tbody>
// // // // // // // // // // //           </table>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Matching the dark blue theme seen in the screenshot
// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-[#111827] pt-4 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Header Section - Adjusted to match screenshot styling */}
// // // // // // // // // // //       <div className="bg-[#1f2937] rounded-lg shadow-md mb-4">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center justify-between p-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-[#374151] p-2 rounded-lg text-red-500 flex items-center"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} strokeWidth={3} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* View toggle button - Matches screenshot styling */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-[#374151] px-3 py-2 rounded-lg hover:bg-[#4B5563] text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row - Matches screenshot styling */}
// // // // // // // // // // //         <div className="p-4 pt-0 w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-[#374151] text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg font-bold hover:bg-red-600 flex items-center justify-center gap-2 text-white">
// // // // // // // // // // //               <Plus size={16} /> Add Member
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Table/Card Section with Scrollbar - Adjusted to match screenshot */}
// // // // // // // // // // //       <div
// // // // // // // // // // //         className="w-full bg-[#1f2937] rounded-lg shadow-md p-3 md:p-4 flex-grow overflow-y-auto"
// // // // // // // // // // //         style={{ height: 'calc(100vh - 180px)' }}
// // // // // // // // // // //       >
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-[#1f2937] text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active", // Add status field
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();

// // // // // // // // // // //     // Set view mode based on screen size
// // // // // // // // // // //     const handleResize = () => {
// // // // // // // // // // //       if (window.innerWidth < 768) {
// // // // // // // // // // //         setViewMode("card");
// // // // // // // // // // //       } else {
// // // // // // // // // // //         setViewMode("table");
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     // Initial check
// // // // // // // // // // //     handleResize();

// // // // // // // // // // //     // Add event listener
// // // // // // // // // // //     window.addEventListener("resize", handleResize);

// // // // // // // // // // //     // Cleanup
// // // // // // // // // // //     return () => window.removeEventListener("resize", handleResize);
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status, // Include status in form data
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated delete flow
// // // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // // //   };

// // // // // // // // // // //   const cancelDelete = () => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     setMemberToDelete(null);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000); // Changed to 5 seconds as requested

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle photo upload from local storage
// // // // // // // // // // //   const handlePhotoUpload = (event, memberId) => {
// // // // // // // // // // //     const file = event.target.files[0];
// // // // // // // // // // //     if (file) {
// // // // // // // // // // //       const reader = new FileReader();
// // // // // // // // // // //       reader.onloadend = () => {
// // // // // // // // // // //         const updatedMembers = members.map(member =>
// // // // // // // // // // //           member._id === memberId ? { ...member, photo: reader.result } : member
// // // // // // // // // // //         );
// // // // // // // // // // //         setMembers(updatedMembers);
// // // // // // // // // // //       };
// // // // // // // // // // //       reader.readAsDataURL(file);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle photo deletion
// // // // // // // // // // //   const handlePhotoDelete = (memberId) => {
// // // // // // // // // // //     const updatedMembers = members.map(member =>
// // // // // // // // // // //       member._id === memberId ? { ...member, photo: null } : member
// // // // // // // // // // //     );
// // // // // // // // // // //     setMembers(updatedMembers);
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render table rows or cards based on the current view mode
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {formData.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group hover:ring-2 hover:ring-red-500">
// // // // // // // // // // //                           <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handlePhotoDelete(member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group hover:ring-2 hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Status</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="status"
// // // // // // // // // // //                         value={formData.status}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => confirmDelete(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {member.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handlePhotoDelete(member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Status: </span>
// // // // // // // // // // //                       <span>{member.status || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-y-auto">
// // // // // // // // // // //           <table className="w-full border-collapse text-white">
// // // // // // // // // // //             <thead className="sticky top-0 bg-gray-700">
// // // // // // // // // // //               <tr className="text-sm md:text-base">
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Photo</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Status</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //               </tr>
// // // // // // // // // // //             </thead>
// // // // // // // // // // //             <tbody>
// // // // // // // // // // //               {filteredMembers.map((member, index) => (
// // // // // // // // // // //                 <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <div className="relative group">
// // // // // // // // // // //                           {formData.photo ? (
// // // // // // // // // // //                             <div className="relative w-10 h-10 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handlePhotoDelete(member._id)}
// // // // // // // // // // //                                 className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={10} className="text-white" />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <User size={16} className="text-gray-400" />
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="file"
// // // // // // // // // // //                             accept="image/*"
// // // // // // // // // // //                             onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                             className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="name"
// // // // // // // // // // //                           value={formData.name}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="email"
// // // // // // // // // // //                           name="email"
// // // // // // // // // // //                           value={formData.email}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="phone"
// // // // // // // // // // //                           value={formData.phone}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="membership_plan"
// // // // // // // // // // //                           value={formData.membership_plan}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Gold">Gold</option>
// // // // // // // // // // //                           <option value="Silver">Silver</option>
// // // // // // // // // // //                           <option value="Platinum">Platinum</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="trainer"
// // // // // // // // // // //                           value={formData.trainer}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="status"
// // // // // // // // // // //                           value={formData.status}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Active">Active</option>
// // // // // // // // // // //                           <option value="Inactive">Inactive</option>
// // // // // // // // // // //                           <option value="Suspended">Suspended</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <button
// // // // // // // // // // //                           onClick={handleSave}
// // // // // // // // // // //                           className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <Save size={14} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="relative group">
// // // // // // // // // // //                           {member.photo ? (
// // // // // // // // // // //                              <div className="relative w-16 h-16 rounded-full overflow-hidden outline-offset-2 group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={() => handlePhotoDelete(member._id)}
// // // // // // // // // // //                                 className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={10} className="text-white" />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <User size={16} className="text-gray-400" />
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="file"
// // // // // // // // // // //                             accept="image/*"
// // // // // // // // // // //                             onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                             className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.status || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleEdit(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Edit size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => confirmDelete(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               ))}
// // // // // // // // // // //             </tbody>
// // // // // // // // // // //           </table>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Matching the dark blue theme seen in the screenshot
// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-[#111827] pt-4 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Header Section - Adjusted to match screenshot styling */}
// // // // // // // // // // //       <div className="bg-[#1f2937] rounded-lg shadow-md mb-4">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center justify-between p-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-[#374151] p-2 rounded-lg text-red-500 flex items-center hover:ring-2 hover:ring-red-500 transition-all"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} strokeWidth={3} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* View toggle button - Matches screenshot styling */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-[#374151] px-3 py-2 rounded-lg hover:bg-[#4B5563] text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row - Matches screenshot styling */}
// // // // // // // // // // //         <div className="p-4 pt-0 w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-[#374151] text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600">
// // // // // // // // // // //               <Plus size={20} />
// // // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //       {/* Table/Card Section with Scrollbar - Adjusted to match screenshot */}
// // // // // // // // // // //       <div
// // // // // // // // // // //         className="w-full bg-[#1f2937] rounded-lg shadow-md p-3 md:p-4 flex-grow overflow-y-auto"
// // // // // // // // // // //         style={{ height: 'calc(100vh - 180px)' }}
// // // // // // // // // // //       >
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-[#1f2937] text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active", // Add status field
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();

// // // // // // // // // // //     // Set view mode based on screen size
// // // // // // // // // // //     const handleResize = () => {
// // // // // // // // // // //       if (window.innerWidth < 768) {
// // // // // // // // // // //         setViewMode("card");
// // // // // // // // // // //       } else {
// // // // // // // // // // //         setViewMode("table");
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     // Initial check
// // // // // // // // // // //     handleResize();

// // // // // // // // // // //     // Add event listener
// // // // // // // // // // //     window.addEventListener("resize", handleResize);

// // // // // // // // // // //     // Cleanup
// // // // // // // // // // //     return () => window.removeEventListener("resize", handleResize);
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status, // Include status in form data
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated delete flow
// // // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // // //   };

// // // // // // // // // // //   const cancelDelete = () => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     setMemberToDelete(null);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000); // Changed to 5 seconds as requested

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated photo upload function
// // // // // // // // // // //   const handlePhotoUpload = (event, memberId) => {
// // // // // // // // // // //     const file = event.target.files[0];
// // // // // // // // // // //     if (file) {
// // // // // // // // // // //       const reader = new FileReader();
// // // // // // // // // // //       reader.onloadend = () => {
// // // // // // // // // // //         // Update the members state
// // // // // // // // // // //         const updatedMembers = members.map(member =>
// // // // // // // // // // //           member._id === memberId ? { ...member, photo: reader.result } : member
// // // // // // // // // // //         );
// // // // // // // // // // //         setMembers(updatedMembers);

// // // // // // // // // // //         // If we're editing this member, update formData too
// // // // // // // // // // //         if (editingMember === memberId) {
// // // // // // // // // // //           setFormData({
// // // // // // // // // // //             ...formData,
// // // // // // // // // // //             photo: reader.result
// // // // // // // // // // //           });
// // // // // // // // // // //         }
// // // // // // // // // // //       };
// // // // // // // // // // //       reader.readAsDataURL(file);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated photo deletion function
// // // // // // // // // // //   const handlePhotoDelete = async (e, memberId) => {
// // // // // // // // // // //     e.stopPropagation();
// // // // // // // // // // //     e.preventDefault();

// // // // // // // // // // //     // Update members state
// // // // // // // // // // //     const updatedMembers = members.map(member =>
// // // // // // // // // // //       member._id === memberId ? { ...member, photo: null } : member
// // // // // // // // // // //     );
// // // // // // // // // // //     setMembers(updatedMembers);

// // // // // // // // // // //     // If currently editing this member, also update formData
// // // // // // // // // // //     if (editingMember === memberId) {
// // // // // // // // // // //       setFormData({
// // // // // // // // // // //         ...formData,
// // // // // // // // // // //         photo: null
// // // // // // // // // // //       });
// // // // // // // // // // //     }

// // // // // // // // // // //     // Save changes to server immediately
// // // // // // // // // // //     try {
// // // // // // // // // // //       const memberToUpdate = members.find(m => m._id === memberId);
// // // // // // // // // // //       if (memberToUpdate) {
// // // // // // // // // // //         const updatedMemberData = { ...memberToUpdate, photo: null };

// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(updatedMemberData),
// // // // // // // // // // //         });

// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         console.log("Photo deleted successfully");
// // // // // // // // // // //       }
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error deleting photo:", err);
// // // // // // // // // // //       // Revert the change in the UI if the server update fails
// // // // // // // // // // //       setMembers(prev =>
// // // // // // // // // // //         prev.map(m => m._id === memberId ? { ...m, photo: memberToUpdate.photo } : m)
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render table rows or cards based on the current view mode
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {formData.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Status</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="status"
// // // // // // // // // // //                         value={formData.status}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => confirmDelete(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {member.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Status: </span>
// // // // // // // // // // //                       <span>{member.status || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-y-auto">
// // // // // // // // // // //           <table className="w-full border-collapse text-white">
// // // // // // // // // // //             <thead className="sticky top-0 bg-gray-700">
// // // // // // // // // // //               <tr className="text-sm md:text-base">
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Photo</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Status</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //               </tr>
// // // // // // // // // // //             </thead>
// // // // // // // // // // //             <tbody>
// // // // // // // // // // //               {filteredMembers.map((member, index) => (
// // // // // // // // // // //                 <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <div className="relative group">
// // // // // // // // // // //                           {formData.photo ? (
// // // // // // // // // // //                             <div className="relative w-10 h-10 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                 className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={10} className="text-white" />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <User size={16} className="text-gray-400" />
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="file"
// // // // // // // // // // //                             accept="image/*"
// // // // // // // // // // //                             onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                             className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="name"
// // // // // // // // // // //                           value={formData.name}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="email"
// // // // // // // // // // //                           name="email"
// // // // // // // // // // //                           value={formData.email}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="phone"
// // // // // // // // // // //                           value={formData.phone}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="membership_plan"
// // // // // // // // // // //                           value={formData.membership_plan}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Gold">Gold</option>
// // // // // // // // // // //                           <option value="Silver">Silver</option>
// // // // // // // // // // //                           <option value="Platinum">Platinum</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="trainer"
// // // // // // // // // // //                           value={formData.trainer}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="status"
// // // // // // // // // // //                           value={formData.status}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Active">Active</option>
// // // // // // // // // // //                           <option value="Inactive">Inactive</option>
// // // // // // // // // // //                           <option value="Suspended">Suspended</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <button
// // // // // // // // // // //                           onClick={handleSave}
// // // // // // // // // // //                           className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <Save size={14} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="relative group">
// // // // // // // // // // //                           {member.photo ? (
// // // // // // // // // // //                              <div className="relative w-16 h-16 rounded-full overflow-hidden outline-offset-2 group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                 className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-20" // Added z-20
// // // // // // // // // // //         type="button"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={17} className="text-white" />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <User size={16} className="text-gray-400" />
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="file"
// // // // // // // // // // //                             accept="image/*"
// // // // // // // // // // //                             onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                             className="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.status || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleEdit(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Edit size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => confirmDelete(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               ))}
// // // // // // // // // // //             </tbody>
// // // // // // // // // // //           </table>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Matching the dark blue theme seen in the screenshot
// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-[#111827] pt-4 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Header Section - Adjusted to match screenshot styling */}
// // // // // // // // // // //       <div className="bg-[#1f2937] rounded-lg shadow-md mb-4">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center justify-between p-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-[#374151] p-2 rounded-lg text-red-500 flex items-center hover:ring-2 hover:ring-red-500 transition-all"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} strokeWidth={3} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* View toggle button - Matches screenshot styling */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-[#374151] px-3 py-2 rounded-lg hover:bg-[#4B5563] text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row - Matches screenshot styling */}
// // // // // // // // // // //         <div className="p-4 pt-0 w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-[#374151] text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600">
// // // // // // // // // // //               <Plus size={20} />
// // // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //       {/* Table/Card Section with Scrollbar - Adjusted to match screenshot */}
// // // // // // // // // // //       <div
// // // // // // // // // // //         className="w-full bg-[#1f2937] rounded-lg shadow-md p-3 md:p-4 flex-grow overflow-y-auto"
// // // // // // // // // // //         style={{ height: 'calc(100vh - 180px)' }}
// // // // // // // // // // //       >
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-[#1f2937] text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // // //           <div className="bg-[#1f2937] p-6 rounded-lg shadow-lg">
// // // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">Are you sure you want to delete this member?</h3>
// // // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={cancelDelete}
// // // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Cancel
// // // // // // // // // // //               </button>
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Delete
// // // // // // // // // // //               </button>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active", // Add status field
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();

// // // // // // // // // // //     // Set view mode based on screen size
// // // // // // // // // // //     const handleResize = () => {
// // // // // // // // // // //       if (window.innerWidth < 768) {
// // // // // // // // // // //         setViewMode("card");
// // // // // // // // // // //       } else {
// // // // // // // // // // //         setViewMode("table");
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     // Initial check
// // // // // // // // // // //     handleResize();

// // // // // // // // // // //     // Add event listener
// // // // // // // // // // //     window.addEventListener("resize", handleResize);

// // // // // // // // // // //     // Cleanup
// // // // // // // // // // //     return () => window.removeEventListener("resize", handleResize);
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status, // Include status in form data
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated delete flow
// // // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // // //   };

// // // // // // // // // // //   const cancelDelete = () => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     setMemberToDelete(null);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000); // Changed to 5 seconds as requested

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated photo upload function
// // // // // // // // // // //   const handlePhotoUpload = (event, memberId) => {
// // // // // // // // // // //     const file = event.target.files[0];
// // // // // // // // // // //     if (file) {
// // // // // // // // // // //       const reader = new FileReader();
// // // // // // // // // // //       reader.onloadend = () => {
// // // // // // // // // // //         // Update the members state
// // // // // // // // // // //         const updatedMembers = members.map(member =>
// // // // // // // // // // //           member._id === memberId ? { ...member, photo: reader.result } : member
// // // // // // // // // // //         );
// // // // // // // // // // //         setMembers(updatedMembers);

// // // // // // // // // // //         // If we're editing this member, update formData too
// // // // // // // // // // //         if (editingMember === memberId) {
// // // // // // // // // // //           setFormData({
// // // // // // // // // // //             ...formData,
// // // // // // // // // // //             photo: reader.result
// // // // // // // // // // //           });
// // // // // // // // // // //         }
// // // // // // // // // // //       };
// // // // // // // // // // //       reader.readAsDataURL(file);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated photo deletion function
// // // // // // // // // // //   const handlePhotoDelete = async (e, memberId) => {
// // // // // // // // // // //     e.stopPropagation();
// // // // // // // // // // //     e.preventDefault();

// // // // // // // // // // //     // Update members state
// // // // // // // // // // //     const updatedMembers = members.map(member =>
// // // // // // // // // // //       member._id === memberId ? { ...member, photo: null } : member
// // // // // // // // // // //     );
// // // // // // // // // // //     setMembers(updatedMembers);

// // // // // // // // // // //     // If currently editing this member, also update formData
// // // // // // // // // // //     if (editingMember === memberId) {
// // // // // // // // // // //       setFormData({
// // // // // // // // // // //         ...formData,
// // // // // // // // // // //         photo: null
// // // // // // // // // // //       });
// // // // // // // // // // //     }

// // // // // // // // // // //     // Save changes to server immediately
// // // // // // // // // // //     try {
// // // // // // // // // // //       const memberToUpdate = members.find(m => m._id === memberId);
// // // // // // // // // // //       if (memberToUpdate) {
// // // // // // // // // // //         const updatedMemberData = { ...memberToUpdate, photo: null };

// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(updatedMemberData),
// // // // // // // // // // //         });

// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         console.log("Photo deleted successfully");
// // // // // // // // // // //       }
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error deleting photo:", err);
// // // // // // // // // // //       // Revert the change in the UI if the server update fails
// // // // // // // // // // //       setMembers(prev =>
// // // // // // // // // // //         prev.map(m => m._id === memberId ? { ...m, photo: members.find(m => m._id === memberId).photo } : m)
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render table rows or cards based on the current view mode
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {formData.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Status</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="status"
// // // // // // // // // // //                         value={formData.status}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => confirmDelete(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {member.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Status: </span>
// // // // // // // // // // //                       <span>{member.status || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-y-auto">
// // // // // // // // // // //           <table className="w-full border-collapse text-white">
// // // // // // // // // // //             <thead className="sticky top-0 bg-gray-700 z-10">
// // // // // // // // // // //               <tr className="text-sm md:text-base">
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Photo</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Status</th>
// // // // // // // // // // //                 <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //               </tr>
// // // // // // // // // // //             </thead>
// // // // // // // // // // //             <tbody>
// // // // // // // // // // //               {filteredMembers.map((member, index) => (
// // // // // // // // // // //                 <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <div className="relative group">
// // // // // // // // // // //                           {formData.photo ? (
// // // // // // // // // // //                             <div className="relative w-10 h-10 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                 className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={10} className="text-white" />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <User size={16} className="text-gray-400" />
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="file"
// // // // // // // // // // //                             accept="image/*"
// // // // // // // // // // //                             onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                             className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="name"
// // // // // // // // // // //                           value={formData.name}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="email"
// // // // // // // // // // //                           name="email"
// // // // // // // // // // //                           value={formData.email}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="phone"
// // // // // // // // // // //                           value={formData.phone}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="membership_plan"
// // // // // // // // // // //                           value={formData.membership_plan}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Gold">Gold</option>
// // // // // // // // // // //                           <option value="Silver">Silver</option>
// // // // // // // // // // //                           <option value="Platinum">Platinum</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="text"
// // // // // // // // // // //                           name="trainer"
// // // // // // // // // // //                           value={formData.trainer}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="status"
// // // // // // // // // // //                           value={formData.status}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Active">Active</option>
// // // // // // // // // // //                           <option value="Inactive">Inactive</option>
// // // // // // // // // // //                           <option value="Suspended">Suspended</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                         <button
// // // // // // // // // // //                           onClick={handleSave}
// // // // // // // // // // //                           className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <Save size={14} />
// // // // // // // // // // //                         </button>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   ) : (
// // // // // // // // // // //                     <>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="relative group">
// // // // // // // // // // //                           {member.photo ? (
// // // // // // // // // // //                              <div className="relative w-16 h-16 rounded-full overflow-hidden outline-offset-2 group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                               <button
// // // // // // // // // // //                                 onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                 className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-20" // Added z-20
// // // // // // // // // // //         type="button"
// // // // // // // // // // //                               >
// // // // // // // // // // //                                 <Trash size={17} className="text-white" />
// // // // // // // // // // //                               </button>
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           ) : (
// // // // // // // // // // //                             <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                               <User size={16} className="text-gray-400" />
// // // // // // // // // // //                             </div>
// // // // // // // // // // //                           )}
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="file"
// // // // // // // // // // //                             accept="image/*"
// // // // // // // // // // //                             onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                             className="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">{member.status || "N/A"}</td>
// // // // // // // // // // //                       <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                         <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => handleEdit(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Edit size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={() => confirmDelete(member)}
// // // // // // // // // // //                             className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               ))}
// // // // // // // // // // //             </tbody>
// // // // // // // // // // //           </table>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Matching the dark blue theme seen in the screenshot
// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-[#111827] pt-4 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Header Section - Adjusted to match screenshot styling */}
// // // // // // // // // // //       <div className="bg-[#1f2937] rounded-lg shadow-md mb-4">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center justify-between p-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-[#374151] p-2 rounded-lg text-red-500 flex items-center hover:ring-2 hover:ring-red-500 transition-all"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} strokeWidth={3} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* View toggle button - Matches screenshot styling */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-[#374151] px-3 py-2 rounded-lg hover:bg-[#4B5563] text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row - Matches screenshot styling */}
// // // // // // // // // // //         <div className="p-4 pt-0 w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-[#374151] text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600">
// // // // // // // // // // //               <Plus size={20} />
// // // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //       {/* Table/Card Section with Scrollbar - Adjusted to match screenshot */}
// // // // // // // // // // //       <div
// // // // // // // // // // //         className="w-full bg-[#1f2937] rounded-lg shadow-md p-3 md:p-4 flex-grow overflow-y-auto"
// // // // // // // // // // //         style={{ height: 'calc(100vh - 180px)' }}
// // // // // // // // // // //       >
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-[#1f2937] text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // // //           <div className="bg-[#1f2937] p-6 rounded-lg shadow-lg">
// // // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">Are you sure you want to delete this member?</h3>
// // // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={cancelDelete}
// // // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Cancel
// // // // // // // // // // //               </button>
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Delete
// // // // // // // // // // //               </button>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active", // Add status field
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();

// // // // // // // // // // //     // Set view mode based on screen size
// // // // // // // // // // //     const handleResize = () => {
// // // // // // // // // // //       if (window.innerWidth < 768) {
// // // // // // // // // // //         setViewMode("card");
// // // // // // // // // // //       } else {
// // // // // // // // // // //         setViewMode("table");
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     // Initial check
// // // // // // // // // // //     handleResize();

// // // // // // // // // // //     // Add event listener
// // // // // // // // // // //     window.addEventListener("resize", handleResize);

// // // // // // // // // // //     // Cleanup
// // // // // // // // // // //     return () => window.removeEventListener("resize", handleResize);
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status, // Include status in form data
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated delete flow
// // // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // // //   };

// // // // // // // // // // //   const cancelDelete = () => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     setMemberToDelete(null);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000); // Changed to 5 seconds as requested

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated photo upload function
// // // // // // // // // // //   const handlePhotoUpload = (event, memberId) => {
// // // // // // // // // // //     const file = event.target.files[0];
// // // // // // // // // // //     if (file) {
// // // // // // // // // // //       const reader = new FileReader();
// // // // // // // // // // //       reader.onloadend = () => {
// // // // // // // // // // //         // Update the members state
// // // // // // // // // // //         const updatedMembers = members.map(member =>
// // // // // // // // // // //           member._id === memberId ? { ...member, photo: reader.result } : member
// // // // // // // // // // //         );
// // // // // // // // // // //         setMembers(updatedMembers);

// // // // // // // // // // //         // If we're editing this member, update formData too
// // // // // // // // // // //         if (editingMember === memberId) {
// // // // // // // // // // //           setFormData({
// // // // // // // // // // //             ...formData,
// // // // // // // // // // //             photo: reader.result
// // // // // // // // // // //           });
// // // // // // // // // // //         }
// // // // // // // // // // //       };
// // // // // // // // // // //       reader.readAsDataURL(file);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated photo deletion function
// // // // // // // // // // //   const handlePhotoDelete = async (e, memberId) => {
// // // // // // // // // // //     e.stopPropagation();
// // // // // // // // // // //     e.preventDefault();

// // // // // // // // // // //     // Update members state
// // // // // // // // // // //     const updatedMembers = members.map(member =>
// // // // // // // // // // //       member._id === memberId ? { ...member, photo: null } : member
// // // // // // // // // // //     );
// // // // // // // // // // //     setMembers(updatedMembers);

// // // // // // // // // // //     // If currently editing this member, also update formData
// // // // // // // // // // //     if (editingMember === memberId) {
// // // // // // // // // // //       setFormData({
// // // // // // // // // // //         ...formData,
// // // // // // // // // // //         photo: null
// // // // // // // // // // //       });
// // // // // // // // // // //     }

// // // // // // // // // // //     // Save changes to server immediately
// // // // // // // // // // //     try {
// // // // // // // // // // //       const memberToUpdate = members.find(m => m._id === memberId);
// // // // // // // // // // //       if (memberToUpdate) {
// // // // // // // // // // //         const updatedMemberData = { ...memberToUpdate, photo: null };

// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(updatedMemberData),
// // // // // // // // // // //         });

// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         console.log("Photo deleted successfully");
// // // // // // // // // // //       }
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error deleting photo:", err);
// // // // // // // // // // //       // Revert the change in the UI if the server update fails
// // // // // // // // // // //       setMembers(prev =>
// // // // // // // // // // //         prev.map(m => m._id === memberId ? { ...m, photo: members.find(m => m._id === memberId).photo } : m)
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render table rows or cards based on the current view mode
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {formData.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Status</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="status"
// // // // // // // // // // //                         value={formData.status}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => confirmDelete(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {member.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Status: </span>
// // // // // // // // // // //                       <span>{member.status || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view with fixed header and custom scrollbar
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-hidden">
// // // // // // // // // // //           <div className="overflow-y-auto h-full custom-scrollbar">
// // // // // // // // // // //             <table className="w-full border-collapse text-white">
// // // // // // // // // // //               <thead className="sticky top-0 bg-gray-700 z-10">
// // // // // // // // // // //                 <tr className="text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Photo</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Status</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody className="divide-y divide-gray-600">
// // // // // // // // // // //                 {filteredMembers.map((member, index) => (
// // // // // // // // // // //                   <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // // //                       <>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <div className="relative group">
// // // // // // // // // // //                             {formData.photo ? (
// // // // // // // // // // //                               <div className="relative w-10 h-10 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                   className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Trash size={10} className="text-white" />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             ) : (
// // // // // // // // // // //                               <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <User size={16} className="text-gray-400" />
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             )}
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="file"
// // // // // // // // // // //                               accept="image/*"
// // // // // // // // // // //                               onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                               className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="name"
// // // // // // // // // // //                             value={formData.name}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="email"
// // // // // // // // // // //                             name="email"
// // // // // // // // // // //                             value={formData.email}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="number"
// // // // // // // // // // //                             name="age"
// // // // // // // // // // //                             value={formData.age}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="gender"
// // // // // // // // // // //                             value={formData.gender}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Male">Male</option>
// // // // // // // // // // //                             <option value="Female">Female</option>
// // // // // // // // // // //                             <option value="Other">Other</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="phone"
// // // // // // // // // // //                             value={formData.phone}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="membership_plan"
// // // // // // // // // // //                             value={formData.membership_plan}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Gold">Gold</option>
// // // // // // // // // // //                             <option value="Silver">Silver</option>
// // // // // // // // // // //                             <option value="Platinum">Platinum</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="trainer"
// // // // // // // // // // //                             value={formData.trainer}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="status"
// // // // // // // // // // //                             value={formData.status}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Active">Active</option>
// // // // // // // // // // //                             <option value="Inactive">Inactive</option>
// // // // // // // // // // //                             <option value="Suspended">Suspended</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={handleSave}
// // // // // // // // // // //                             className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Save size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </>
// // // // // // // // // // //                     ) : (
// // // // // // // // // // //                       <>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                           <div className="relative group">
// // // // // // // // // // //                             {member.photo ? (
// // // // // // // // // // //                               <div className="relative w-16 h-16 rounded-full overflow-hidden outline-offset-2 group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                   className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-20"
// // // // // // // // // // //                                   type="button"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Trash size={17} className="text-white" />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             ) : (
// // // // // // // // // // //                               <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <User size={16} className="text-gray-400" />
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             )}
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="file"
// // // // // // // // // // //                               accept="image/*"
// // // // // // // // // // //                               onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                               className="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.status || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                           <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </>
// // // // // // // // // // //                     )}
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 ))}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Matching the dark blue theme seen in the screenshot
// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-[#111827] pt-4 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Header Section - Adjusted to match screenshot styling */}
// // // // // // // // // // //       <div className="bg-[#1f2937] rounded-lg shadow-md mb-4">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center justify-between p-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-[#374151] p-2 rounded-lg text-red-500 flex items-center hover:ring-2 hover:ring-red-500 transition-all"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} strokeWidth={3} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* View toggle button - Matches screenshot styling */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-[#374151] px-3 py-2 rounded-lg hover:bg-[#4B5563] text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row - Matches screenshot styling */}
// // // // // // // // // // //         <div className="p-4 pt-0 w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-[#374151] text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600">
// // // // // // // // // // //               <Plus size={20} />
// // // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //       {/* Table/Card Section with Scrollbar - Adjusted to match screenshot */}
// // // // // // // // // // //       <div
// // // // // // // // // // //         className="w-full bg-[#1f2937] rounded-lg shadow-md p-3 md:p-4 flex-grow overflow-y-auto"
// // // // // // // // // // //         style={{ height: 'calc(100vh - 180px)' }}
// // // // // // // // // // //       >
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-[#1f2937] text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // // //           <div className="bg-[#1f2937] p-6 rounded-lg shadow-lg">
// // // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">Are you sure you want to delete this member?</h3>
// // // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={cancelDelete}
// // // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Cancel
// // // // // // // // // // //               </button>
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Delete
// // // // // // // // // // //               </button>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const router = useRouter();
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table");
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active",
// // // // // // // // // // //   });

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // // //   };

// // // // // // // // // // //   const cancelDelete = () => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     setMemberToDelete(null);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   const handlePhotoUpload = (event, memberId) => {
// // // // // // // // // // //     const file = event.target.files[0];
// // // // // // // // // // //     if (file) {
// // // // // // // // // // //       const reader = new FileReader();
// // // // // // // // // // //       reader.onloadend = () => {
// // // // // // // // // // //         const updatedMembers = members.map(member =>
// // // // // // // // // // //           member._id === memberId ? { ...member, photo: reader.result } : member
// // // // // // // // // // //         );
// // // // // // // // // // //         setMembers(updatedMembers);

// // // // // // // // // // //         if (editingMember === memberId) {
// // // // // // // // // // //           setFormData({
// // // // // // // // // // //             ...formData,
// // // // // // // // // // //             photo: reader.result
// // // // // // // // // // //           });
// // // // // // // // // // //         }
// // // // // // // // // // //       };
// // // // // // // // // // //       reader.readAsDataURL(file);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handlePhotoDelete = async (e, memberId) => {
// // // // // // // // // // //     e.stopPropagation();
// // // // // // // // // // //     e.preventDefault();

// // // // // // // // // // //     const updatedMembers = members.map(member =>
// // // // // // // // // // //       member._id === memberId ? { ...member, photo: null } : member
// // // // // // // // // // //     );
// // // // // // // // // // //     setMembers(updatedMembers);

// // // // // // // // // // //     if (editingMember === memberId) {
// // // // // // // // // // //       setFormData({
// // // // // // // // // // //         ...formData,
// // // // // // // // // // //         photo: null
// // // // // // // // // // //       });
// // // // // // // // // // //     }

// // // // // // // // // // //     try {
// // // // // // // // // // //       const memberToUpdate = members.find(m => m._id === memberId);
// // // // // // // // // // //       if (memberToUpdate) {
// // // // // // // // // // //         const updatedMemberData = { ...memberToUpdate, photo: null };

// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(updatedMemberData),
// // // // // // // // // // //         });

// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         console.log("Photo deleted successfully");
// // // // // // // // // // //       }
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error deleting photo:", err);
// // // // // // // // // // //       setMembers(prev =>
// // // // // // // // // // //         prev.map(m => m._id === memberId ? { ...m, photo: members.find(m => m._id === memberId).photo } : m)
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {formData.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Status</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="status"
// // // // // // // // // // //                         value={formData.status}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => confirmDelete(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {member.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Status: </span>
// // // // // // // // // // //                       <span>{member.status || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-hidden">
// // // // // // // // // // //           <div className="overflow-y-auto h-full custom-scrollbar">
// // // // // // // // // // //             <table className="w-full border-collapse text-white">
// // // // // // // // // // //               <thead className="sticky top-0 bg-gray-700 z-10">
// // // // // // // // // // //                 <tr className="text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Photo</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Status</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody className="divide-y divide-gray-600">
// // // // // // // // // // //                 {filteredMembers.map((member, index) => (
// // // // // // // // // // //                   <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // // //                       <>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <div className="relative group">
// // // // // // // // // // //                             {formData.photo ? (
// // // // // // // // // // //                               <div className="relative w-10 h-10 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                   className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Trash size={10} className="text-white" />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             ) : (
// // // // // // // // // // //                               <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <User size={16} className="text-gray-400" />
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             )}
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="file"
// // // // // // // // // // //                               accept="image/*"
// // // // // // // // // // //                               onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                               className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="name"
// // // // // // // // // // //                             value={formData.name}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="email"
// // // // // // // // // // //                             name="email"
// // // // // // // // // // //                             value={formData.email}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="number"
// // // // // // // // // // //                             name="age"
// // // // // // // // // // //                             value={formData.age}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="gender"
// // // // // // // // // // //                             value={formData.gender}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Male">Male</option>
// // // // // // // // // // //                             <option value="Female">Female</option>
// // // // // // // // // // //                             <option value="Other">Other</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="phone"
// // // // // // // // // // //                             value={formData.phone}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="membership_plan"
// // // // // // // // // // //                             value={formData.membership_plan}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Gold">Gold</option>
// // // // // // // // // // //                             <option value="Silver">Silver</option>
// // // // // // // // // // //                             <option value="Platinum">Platinum</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="trainer"
// // // // // // // // // // //                             value={formData.trainer}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="status"
// // // // // // // // // // //                             value={formData.status}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Active">Active</option>
// // // // // // // // // // //                             <option value="Inactive">Inactive</option>
// // // // // // // // // // //                             <option value="Suspended">Suspended</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={handleSave}
// // // // // // // // // // //                             className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Save size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </>
// // // // // // // // // // //                     ) : (
// // // // // // // // // // //                       <>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                           <div className="relative group">
// // // // // // // // // // //                             {member.photo ? (
// // // // // // // // // // //                               <div className="relative w-16 h-16 rounded-full overflow-hidden outline-offset-2 group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                   className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-20"
// // // // // // // // // // //                                   type="button"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Trash size={17} className="text-white" />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             ) : (
// // // // // // // // // // //                               <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <User size={16} className="text-gray-400" />
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             )}
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="file"
// // // // // // // // // // //                               accept="image/*"
// // // // // // // // // // //                               onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                               className="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.status || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                           <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </>
// // // // // // // // // // //                     )}
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 ))}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-[#111827] pt-4 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       <div className="bg-[#1f2937] rounded-lg shadow-md mb-4">
// // // // // // // // // // //         <div className="flex items-center justify-between p-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-[#374151] p-2 rounded-lg text-red-500 flex items-center hover:ring-2 hover:ring-red-500 transition-all"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} strokeWidth={3} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-[#374151] px-3 py-2 rounded-lg hover:bg-[#4B5563] text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="p-4 pt-0 w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-[#374151] text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600">
// // // // // // // // // // //               <Plus size={20} />
// // // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //       <div
// // // // // // // // // // //         className="w-full bg-[#1f2937] rounded-lg shadow-md p-3 md:p-4 flex-grow overflow-y-auto"
// // // // // // // // // // //         style={{ height: 'calc(100vh - 180px)' }}
// // // // // // // // // // //       >
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-[#1f2937] text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // // //           <div className="bg-[#1f2937] p-6 rounded-lg shadow-lg">
// // // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">Are you sure you want to delete this member?</h3>
// // // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={cancelDelete}
// // // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Cancel
// // // // // // // // // // //               </button>
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Delete
// // // // // // // // // // //               </button>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const router = useRouter();
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // // //   const [showAddMemberModal, setShowAddMemberModal] = useState(false);
// // // // // // // // // // //   const [newMember, setNewMember] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     status: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) => {
// // // // // // // // // // //     const matchesSearch =
// // // // // // // // // // //       searchQuery === "" ||
// // // // // // // // // // //       member.name.toLowerCase().includes(searchQuery.toLowerCase());

// // // // // // // // // // //     const matchesStatus =
// // // // // // // // // // //       filters.status === "" || member.status === filters.status;

// // // // // // // // // // //     const matchesPlan =
// // // // // // // // // // //       filters.membership_plan === "" ||
// // // // // // // // // // //       member.membership_plan === filters.membership_plan;

// // // // // // // // // // //     const matchesGender =
// // // // // // // // // // //       filters.gender === "" || member.gender === filters.gender;

// // // // // // // // // // //     const matchesAgeMin =
// // // // // // // // // // //       !filters.ageRange.min || member.age >= Number(filters.ageRange.min);

// // // // // // // // // // //     const matchesAgeMax =
// // // // // // // // // // //       !filters.ageRange.max || member.age <= Number(filters.ageRange.max);

// // // // // // // // // // //     return (
// // // // // // // // // // //       matchesSearch &&
// // // // // // // // // // //       matchesStatus &&
// // // // // // // // // // //       matchesPlan &&
// // // // // // // // // // //       matchesGender &&
// // // // // // // // // // //       matchesAgeMin &&
// // // // // // // // // // //       matchesAgeMax
// // // // // // // // // // //     );
// // // // // // // // // // //   });

// // // // // // // // // // //   const handleFilterChange = (field, value) => {
// // // // // // // // // // //     if (field.includes(".")) {
// // // // // // // // // // //       const [parent, child] = field.split(".");
// // // // // // // // // // //       setFilters((prev) => ({
// // // // // // // // // // //         ...prev,
// // // // // // // // // // //         [parent]: {
// // // // // // // // // // //           ...prev[parent],
// // // // // // // // // // //           [child]: value,
// // // // // // // // // // //         },
// // // // // // // // // // //       }));
// // // // // // // // // // //     } else {
// // // // // // // // // // //       setFilters((prev) => ({
// // // // // // // // // // //         ...prev,
// // // // // // // // // // //         [field]: value,
// // // // // // // // // // //       }));
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const resetFilters = () => {
// // // // // // // // // // //     setFilters({
// // // // // // // // // // //       status: "",
// // // // // // // // // // //       membership_plan: "",
// // // // // // // // // // //       gender: "",
// // // // // // // // // // //       ageRange: { min: "", max: "" },
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find((m) => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter((member) => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers((prev) => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000);

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const getUniqueValues = (field) => {
// // // // // // // // // // //     return [...new Set(members.map((member) => member[field]))];
// // // // // // // // // // //   };

// // // // // // // // // // //   const uniqueStatuses = getUniqueValues("status");
// // // // // // // // // // //   const uniquePlans = getUniqueValues("membership_plan");
// // // // // // // // // // //   const uniqueGenders = getUniqueValues("gender");

// // // // // // // // // // //   const handleAddMember = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //         method: "POST",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(newMember),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const data = await response.json();
// // // // // // // // // // //       setMembers((prev) => [...prev, data]);
// // // // // // // // // // //       setShowAddMemberModal(false);
// // // // // // // // // // //       setNewMember({
// // // // // // // // // // //         name: "",
// // // // // // // // // // //         email: "",
// // // // // // // // // // //         phone: "",
// // // // // // // // // // //         age: "",
// // // // // // // // // // //         gender: "",
// // // // // // // // // // //         trainer: "",
// // // // // // // // // // //         membership_plan: "",
// // // // // // // // // // //         status: "",
// // // // // // // // // // //       });
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error adding member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // // //       <div className="w-full grid grid-cols-1">
// // // // // // // // // // //         {/* Header */}
// // // // // // // // // // //         <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8">
// // // // // // // // // // //           <div className="flex items-center">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300" />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // // //               Members
// // // // // // // // // // //             </h1>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <div className="flex items-center space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // // //             >
// // // // // // // // // // //               <span className="flex items-center">
// // // // // // // // // // //                 <svg
// // // // // // // // // // //                   xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                   className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // // //                   fill="none"
// // // // // // // // // // //                   viewBox="0 0 24 24"
// // // // // // // // // // //                   stroke="currentColor"
// // // // // // // // // // //                 >
// // // // // // // // // // //                   <path
// // // // // // // // // // //                     strokeLinecap="round"
// // // // // // // // // // //                     strokeLinejoin="round"
// // // // // // // // // // //                     strokeWidth={1.5}
// // // // // // // // // // //                     d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // // //                   />
// // // // // // // // // // //                 </svg>
// // // // // // // // // // //                 <span className="font-medium">Filter View</span>
// // // // // // // // // // //               </span>
// // // // // // // // // // //             </button>

// // // // // // // // // // //             <button
// // // // // // // // // // //               className="bg-red-600 text-white px-5 py-3 rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //               onClick={() => setShowAddMemberModal(true)}
// // // // // // // // // // //             >
// // // // // // // // // // //               <span className="flex items-center">
// // // // // // // // // // //                 <Plus className="h-5 w-5 mr-2" />
// // // // // // // // // // //                 <span className="font-medium">Add Member</span>
// // // // // // // // // // //               </span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search Bar */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10">
// // // // // // // // // // //           <div className="relative transition-all duration-500">
// // // // // // // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // // //               <Search className="h-5 w-5 text-gray-500" />
// // // // // // // // // // //             </span>
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full bg-gray-800/50 backdrop-blur-sm border border-gray-700 text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none transition-all duration-300 text-lg"
// // // // // // // // // // //               value={searchQuery}
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Filter Modal */}
// // // // // // // // // // //         {showFilterModal && (
// // // // // // // // // // //           <div className="fixed inset-0 z-10 flex items-center justify-center">
// // // // // // // // // // //             <div
// // // // // // // // // // //               className="absolute inset-0 bg-black/80 backdrop-blur-sm"
// // // // // // // // // // //               onClick={() => setShowFilterModal(false)}
// // // // // // // // // // //             ></div>

// // // // // // // // // // //             <div className="relative bg-gray-800 border border-gray-700 rounded-xl shadow-2xl shadow-red-500/20 w-full max-w-2xl overflow-hidden animate-fade-in transform transition-transform duration-300 scale-100">
// // // // // // // // // // //               <div className="p-6 border-b border-gray-700 flex justify-between items-center">
// // // // // // // // // // //                 <h3 className="text-xl font-medium text-white tracking-wide flex items-center">
// // // // // // // // // // //                   <svg
// // // // // // // // // // //                     xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                     className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // // //                     fill="none"
// // // // // // // // // // //                     viewBox="0 0 24 24"
// // // // // // // // // // //                     stroke="currentColor"
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <path
// // // // // // // // // // //                       strokeLinecap="round"
// // // // // // // // // // //                       strokeLinejoin="round"
// // // // // // // // // // //                       strokeWidth={1.5}
// // // // // // // // // // //                       d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // // //                     />
// // // // // // // // // // //                   </svg>
// // // // // // // // // // //                   Advanced Filters
// // // // // // // // // // //                 </h3>
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="text-gray-400 hover:text-white"
// // // // // // // // // // //                   onClick={() => setShowFilterModal(false)}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   <svg
// // // // // // // // // // //                     xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                     className="h-6 w-6"
// // // // // // // // // // //                     fill="none"
// // // // // // // // // // //                     viewBox="0 0 24 24"
// // // // // // // // // // //                     stroke="currentColor"
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <path
// // // // // // // // // // //                       strokeLinecap="round"
// // // // // // // // // // //                       strokeLinejoin="round"
// // // // // // // // // // //                       strokeWidth={1.5}
// // // // // // // // // // //                       d="M6 18L18 6M6 6l12 12"
// // // // // // // // // // //                     />
// // // // // // // // // // //                   </svg>
// // // // // // // // // // //                 </button>
// // // // // // // // // // //               </div>

// // // // // // // // // // //               <div className="p-6 space-y-6">
// // // // // // // // // // //                 {/* Status Filter */}
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Status
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={filters.status}
// // // // // // // // // // //                     onChange={(e) => handleFilterChange("status", e.target.value)}
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">All Statuses</option>
// // // // // // // // // // //                     <option value="Present">Present</option>
// // // // // // // // // // //                     <option value="Late">Late</option>
// // // // // // // // // // //                     <option value="Absent">Absent</option>
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 {/* Membership Plan Filter */}
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Membership Plan
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={filters.membership_plan}
// // // // // // // // // // //                     onChange={(e) => handleFilterChange("membership_plan", e.target.value)}
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">All Plans</option>
// // // // // // // // // // //                     <option value="Basic">Basic</option>
// // // // // // // // // // //                     <option value="Premium">Premium</option>
// // // // // // // // // // //                     <option value="VIP">VIP</option>
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 {/* Gender Filter */}
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Gender
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={filters.gender}
// // // // // // // // // // //                     onChange={(e) => handleFilterChange("gender", e.target.value)}
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">All Genders</option>
// // // // // // // // // // //                     <option value="Male">Male</option>
// // // // // // // // // // //                     <option value="Female">Female</option>
// // // // // // // // // // //                     <option value="Others">Others</option>
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 {/* Age Range Filter */}
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Age Range
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <div className="grid grid-cols-2 gap-4">
// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-500 mb-1">
// // // // // // // // // // //                         Min
// // // // // // // // // // //                       </label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="number"
// // // // // // // // // // //                         placeholder="0"
// // // // // // // // // // //                         className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                         value={filters.ageRange.min}
// // // // // // // // // // //                         onChange={(e) => handleFilterChange("ageRange.min", e.target.value)}
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-500 mb-1">
// // // // // // // // // // //                         Max
// // // // // // // // // // //                       </label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="number"
// // // // // // // // // // //                         placeholder="100"
// // // // // // // // // // //                         className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                         value={filters.ageRange.max}
// // // // // // // // // // //                         onChange={(e) => handleFilterChange("ageRange.max", e.target.value)}
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               </div>

// // // // // // // // // // //               <div className="px-6 py-4 border-t border-gray-700 flex justify-between">
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="text-gray-300 px-5 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-300"
// // // // // // // // // // //                   onClick={resetFilters}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Clear Filters
// // // // // // // // // // //                 </button>
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="bg-red-600 text-white px-5 py-3 rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //                   onClick={() => setShowFilterModal(false)}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Apply Filters
// // // // // // // // // // //                 </button>
// // // // // // // // // // //               </div>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}

// // // // // // // // // // //         {/* Add Member Modal */}
// // // // // // // // // // //         {showAddMemberModal && (
// // // // // // // // // // //           <div className="fixed inset-0 z-10 flex items-center justify-center">
// // // // // // // // // // //             <div
// // // // // // // // // // //               className="absolute inset-0 bg-black/80 backdrop-blur-sm"
// // // // // // // // // // //               onClick={() => setShowAddMemberModal(false)}
// // // // // // // // // // //             ></div>

// // // // // // // // // // //             <div className="relative bg-gray-800 border border-gray-700 rounded-xl shadow-2xl shadow-red-500/20 w-full max-w-2xl overflow-hidden animate-fade-in transform transition-transform duration-300 scale-100">
// // // // // // // // // // //               <div className="p-6 border-b border-gray-700 flex justify-between items-center">
// // // // // // // // // // //                 <h3 className="text-xl font-medium text-white tracking-wide flex items-center">
// // // // // // // // // // //                   <Plus className="h-5 w-5 mr-2 text-red-500" />
// // // // // // // // // // //                   Add New Member
// // // // // // // // // // //                 </h3>
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="text-gray-400 hover:text-white"
// // // // // // // // // // //                   onClick={() => setShowAddMemberModal(false)}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   <svg
// // // // // // // // // // //                     xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                     className="h-6 w-6"
// // // // // // // // // // //                     fill="none"
// // // // // // // // // // //                     viewBox="0 0 24 24"
// // // // // // // // // // //                     stroke="currentColor"
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <path
// // // // // // // // // // //                       strokeLinecap="round"
// // // // // // // // // // //                       strokeLinejoin="round"
// // // // // // // // // // //                       strokeWidth={1.5}
// // // // // // // // // // //                       d="M6 18L18 6M6 6l12 12"
// // // // // // // // // // //                     />
// // // // // // // // // // //                   </svg>
// // // // // // // // // // //                 </button>
// // // // // // // // // // //               </div>

// // // // // // // // // // //               <div className="p-6 space-y-6">
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Name
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <input
// // // // // // // // // // //                     type="text"
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={newMember.name}
// // // // // // // // // // //                     onChange={(e) => setNewMember({ ...newMember, name: e.target.value })}
// // // // // // // // // // //                   />
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Email
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <input
// // // // // // // // // // //                     type="email"
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={newMember.email}
// // // // // // // // // // //                     onChange={(e) => setNewMember({ ...newMember, email: e.target.value })}
// // // // // // // // // // //                   />
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Phone
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <input
// // // // // // // // // // //                     type="text"
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={newMember.phone}
// // // // // // // // // // //                     onChange={(e) => setNewMember({ ...newMember, phone: e.target.value })}
// // // // // // // // // // //                   />
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Age
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <input
// // // // // // // // // // //                     type="number"
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={newMember.age}
// // // // // // // // // // //                     onChange={(e) => setNewMember({ ...newMember, age: e.target.value })}
// // // // // // // // // // //                   />
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Gender
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={newMember.gender}
// // // // // // // // // // //                     onChange={(e) => setNewMember({ ...newMember, gender: e.target.value })}
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">Select Gender</option>
// // // // // // // // // // //                     <option value="Male">Male</option>
// // // // // // // // // // //                     <option value="Female">Female</option>
// // // // // // // // // // //                     <option value="Others">Others</option>
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Trainer
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <input
// // // // // // // // // // //                     type="text"
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={newMember.trainer}
// // // // // // // // // // //                     onChange={(e) => setNewMember({ ...newMember, trainer: e.target.value })}
// // // // // // // // // // //                   />
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Membership Plan
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={newMember.membership_plan}
// // // // // // // // // // //                     onChange={(e) => setNewMember({ ...newMember, membership_plan: e.target.value })}
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">Select Plan</option>
// // // // // // // // // // //                     <option value="Basic">Basic</option>
// // // // // // // // // // //                     <option value="Premium">Premium</option>
// // // // // // // // // // //                     <option value="VIP">VIP</option>
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Status
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={newMember.status}
// // // // // // // // // // //                     onChange={(e) => setNewMember({ ...newMember, status: e.target.value })}
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">Select Status</option>
// // // // // // // // // // //                     <option value="Present">Present</option>
// // // // // // // // // // //                     <option value="Late">Late</option>
// // // // // // // // // // //                     <option value="Absent">Absent</option>
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               </div>

// // // // // // // // // // //               <div className="px-6 py-4 border-t border-gray-700 flex justify-between">
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="text-gray-300 px-5 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-300"
// // // // // // // // // // //                   onClick={() => setShowAddMemberModal(false)}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Cancel
// // // // // // // // // // //                 </button>
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="bg-red-600 text-white px-5 py-3 rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //                   onClick={handleAddMember}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Add Member
// // // // // // // // // // //                 </button>
// // // // // // // // // // //               </div>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}

// // // // // // // // // // //         {/* Members Table */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // // //               <svg
// // // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // // //                 fill="none"
// // // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // // //               >
// // // // // // // // // // //                 <path
// // // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // // //                 />
// // // // // // // // // // //               </svg>
// // // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // // //                 No members found.
// // // // // // // // // // //               </p>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // // // //                   <thead>
// // // // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         ID
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Photo
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Name
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Email
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Phone
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Age
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Gender
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Trainer
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Membership Plan
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Status
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Actions
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   </thead>
// // // // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // // // //                     {filteredMembers.map((member, index) => (
// // // // // // // // // // //                       <tr
// // // // // // // // // // //                         key={member._id}
// // // // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // // //                           {index + 1}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // // //                             <User className="h-5 w-5" />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // // //                           {member.name}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.email}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.phone}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // // //                           {member.age}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.gender}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.trainer}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.membership_plan}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <span
// // // // // // // // // // //                             className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // // //                               member.status === "Present"
// // // // // // // // // // //                                 ? "bg-green-900/20 text-green-300 border border-green-500"
// // // // // // // // // // //                                 : member.status === "Late"
// // // // // // // // // // //                                 ? "bg-yellow-900/20 text-yellow-300 border border-yellow-500"
// // // // // // // // // // //                                 : "bg-red-900/20 text-red-300 border border-red-500"
// // // // // // // // // // //                             } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // // //                           >
// // // // // // // // // // //                             {member.status}
// // // // // // // // // // //                           </span>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </tr>
// // // // // // // // // // //                     ))}
// // // // // // // // // // //                   </tbody>
// // // // // // // // // // //                 </table>
// // // // // // // // // // //               </div>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useEffect, useState } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active", // Add status field
// // // // // // // // // // //   });

// // // // // // // // // // //   const router = useRouter();

// // // // // // // // // // //   const handleBackToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();

// // // // // // // // // // //     // Set view mode based on screen size
// // // // // // // // // // //     const handleResize = () => {
// // // // // // // // // // //       if (window.innerWidth < 768) {
// // // // // // // // // // //         setViewMode("card");
// // // // // // // // // // //       } else {
// // // // // // // // // // //         setViewMode("table");
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     // Initial check
// // // // // // // // // // //     handleResize();

// // // // // // // // // // //     // Add event listener
// // // // // // // // // // //     window.addEventListener("resize", handleResize);

// // // // // // // // // // //     // Cleanup
// // // // // // // // // // //     return () => window.removeEventListener("resize", handleResize);
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status, // Include status in form data
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated delete flow
// // // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // // //   };

// // // // // // // // // // //   const cancelDelete = () => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     setMemberToDelete(null);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000); // Changed to 5 seconds as requested

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }

// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated photo upload function
// // // // // // // // // // //   const handlePhotoUpload = (event, memberId) => {
// // // // // // // // // // //     const file = event.target.files[0];
// // // // // // // // // // //     if (file) {
// // // // // // // // // // //       const reader = new FileReader();
// // // // // // // // // // //       reader.onloadend = () => {
// // // // // // // // // // //         // Update the members state
// // // // // // // // // // //         const updatedMembers = members.map(member =>
// // // // // // // // // // //           member._id === memberId ? { ...member, photo: reader.result } : member
// // // // // // // // // // //         );
// // // // // // // // // // //         setMembers(updatedMembers);

// // // // // // // // // // //         // If we're editing this member, update formData too
// // // // // // // // // // //         if (editingMember === memberId) {
// // // // // // // // // // //           setFormData({
// // // // // // // // // // //             ...formData,
// // // // // // // // // // //             photo: reader.result
// // // // // // // // // // //           });
// // // // // // // // // // //         }
// // // // // // // // // // //       };
// // // // // // // // // // //       reader.readAsDataURL(file);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Updated photo deletion function
// // // // // // // // // // //   const handlePhotoDelete = async (e, memberId) => {
// // // // // // // // // // //     e.stopPropagation();
// // // // // // // // // // //     e.preventDefault();

// // // // // // // // // // //     // Update members state
// // // // // // // // // // //     const updatedMembers = members.map(member =>
// // // // // // // // // // //       member._id === memberId ? { ...member, photo: null } : member
// // // // // // // // // // //     );
// // // // // // // // // // //     setMembers(updatedMembers);

// // // // // // // // // // //     // If currently editing this member, also update formData
// // // // // // // // // // //     if (editingMember === memberId) {
// // // // // // // // // // //       setFormData({
// // // // // // // // // // //         ...formData,
// // // // // // // // // // //         photo: null
// // // // // // // // // // //       });
// // // // // // // // // // //     }

// // // // // // // // // // //     // Save changes to server immediately
// // // // // // // // // // //     try {
// // // // // // // // // // //       const memberToUpdate = members.find(m => m._id === memberId);
// // // // // // // // // // //       if (memberToUpdate) {
// // // // // // // // // // //         const updatedMemberData = { ...memberToUpdate, photo: null };

// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(updatedMemberData),
// // // // // // // // // // //         });

// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         console.log("Photo deleted successfully");
// // // // // // // // // // //       }
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error deleting photo:", err);
// // // // // // // // // // //       // Revert the change in the UI if the server update fails
// // // // // // // // // // //       setMembers(prev =>
// // // // // // // // // // //         prev.map(m => m._id === memberId ? { ...m, photo: members.find(m => m._id === memberId).photo } : m)
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render table rows or cards based on the current view mode
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {formData.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Status</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="status"
// // // // // // // // // // //                         value={formData.status}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => confirmDelete(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {member.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Status: </span>
// // // // // // // // // // //                       <span>{member.status || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view with fixed header and custom scrollbar
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-hidden">
// // // // // // // // // // //           <div className="overflow-y-auto h-full custom-scrollbar">
// // // // // // // // // // //             <table className="w-full border-collapse text-white">
// // // // // // // // // // //               <thead className="sticky top-0 bg-gray-700 z-10">
// // // // // // // // // // //                 <tr className="text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Photo</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Status</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody className="divide-y divide-gray-600">
// // // // // // // // // // //                 {filteredMembers.map((member, index) => (
// // // // // // // // // // //                   <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // // //                       <>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <div className="relative group">
// // // // // // // // // // //                             {formData.photo ? (
// // // // // // // // // // //                               <div className="relative w-10 h-10 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                   className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Trash size={10} className="text-white" />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             ) : (
// // // // // // // // // // //                               <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <User size={16} className="text-gray-400" />
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             )}
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="file"
// // // // // // // // // // //                               accept="image/*"
// // // // // // // // // // //                               onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                               className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="name"
// // // // // // // // // // //                             value={formData.name}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="email"
// // // // // // // // // // //                             name="email"
// // // // // // // // // // //                             value={formData.email}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="number"
// // // // // // // // // // //                             name="age"
// // // // // // // // // // //                             value={formData.age}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="gender"
// // // // // // // // // // //                             value={formData.gender}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Male">Male</option>
// // // // // // // // // // //                             <option value="Female">Female</option>
// // // // // // // // // // //                             <option value="Other">Other</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="phone"
// // // // // // // // // // //                             value={formData.phone}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="membership_plan"
// // // // // // // // // // //                             value={formData.membership_plan}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Gold">Gold</option>
// // // // // // // // // // //                             <option value="Silver">Silver</option>
// // // // // // // // // // //                             <option value="Platinum">Platinum</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="trainer"
// // // // // // // // // // //                             value={formData.trainer}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="status"
// // // // // // // // // // //                             value={formData.status}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Active">Active</option>
// // // // // // // // // // //                             <option value="Inactive">Inactive</option>
// // // // // // // // // // //                             <option value="Suspended">Suspended</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={handleSave}
// // // // // // // // // // //                             className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Save size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </>
// // // // // // // // // // //                     ) : (
// // // // // // // // // // //                       <>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                           <div className="relative group">
// // // // // // // // // // //                             {member.photo ? (
// // // // // // // // // // //                               <div className="relative w-16 h-16 rounded-full overflow-hidden outline-offset-2 group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                   className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-20"
// // // // // // // // // // //                                   type="button"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Trash size={17} className="text-white" />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             ) : (
// // // // // // // // // // //                               <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <User size={16} className="text-gray-400" />
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             )}
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="file"
// // // // // // // // // // //                               accept="image/*"
// // // // // // // // // // //                               onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                               className="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.status || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                           <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </>
// // // // // // // // // // //                     )}
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 ))}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Matching the dark blue theme seen in the screenshot
// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-[#111827] pt-4 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Header Section - Adjusted to match screenshot styling */}
// // // // // // // // // // //       <div className="bg-[#1f2937] rounded-lg shadow-md mb-4">
// // // // // // // // // // //         {/* Back Button and Title Row */}
// // // // // // // // // // //         <div className="flex items-center justify-between p-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleBackToDashboard}
// // // // // // // // // // //               className="bg-[#374151] p-2 rounded-lg text-red-500 flex items-center hover:ring-2 hover:ring-red-500 transition-all"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} strokeWidth={3} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {/* View toggle button - Matches screenshot styling */}
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-[#374151] px-3 py-2 rounded-lg hover:bg-[#4B5563] text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Row - Matches screenshot styling */}
// // // // // // // // // // //         <div className="p-4 pt-0 w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-[#374151] text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600">
// // // // // // // // // // //               <Plus size={20} />
// // // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //       {/* Table/Card Section with Scrollbar - Adjusted to match screenshot */}
// // // // // // // // // // //       <div
// // // // // // // // // // //         className="w-full bg-[#1f2937] rounded-lg shadow-md p-3 md:p-4 flex-grow overflow-y-auto"
// // // // // // // // // // //         style={{ height: 'calc(100vh - 180px)' }}
// // // // // // // // // // //       >
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-[#1f2937] text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // // //           <div className="bg-[#1f2937] p-6 rounded-lg shadow-lg">
// // // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">Are you sure you want to delete this member?</h3>
// // // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={cancelDelete}
// // // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Cancel
// // // // // // // // // // //               </button>
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Delete
// // // // // // // // // // //               </button>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { Search, Plus, User, Edit, Trash, Save, ArrowLeft } from "lucide-react";

// // // // // // // // // // // const MembersPage = () => {
// // // // // // // // // // //   const router = useRouter();
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     status: "Active",
// // // // // // // // // // //   });

// // // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //   const fetchMembers = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //         method: "GET",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const data = await response.json();
// // // // // // // // // // //       setMembers(data);
// // // // // // // // // // //       setError(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //       console.error("Error fetching members:", err);
// // // // // // // // // // //     } finally {
// // // // // // // // // // //       setIsLoading(false);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       status: member.status,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/${editingMember}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // //         }
// // // // // // // // // // //       );
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // // //         prevMembers.map((member) =>
// // // // // // // // // // //           member._id === updatedMember._id ? updatedMember : member
// // // // // // // // // // //         )
// // // // // // // // // // //       );
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/${memberId}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         }
// // // // // // // // // // //       );
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // // //         prevMembers.filter((member) => member._id !== memberId)
// // // // // // // // // // //       );
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name.toLowerCase().includes(searchTerm.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const navigateToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   if (isLoading)
// // // // // // // // // // //     return (
// // // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // // //         <div className="text-center">
// // // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Loading members...</p>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     );

// // // // // // // // // // //   if (error)
// // // // // // // // // // //     return (
// // // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // // //         <div className="text-center">
// // // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     );

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // // //       <div className="w-full grid grid-cols-1">
// // // // // // // // // // //         {/* Header Section */}
// // // // // // // // // // //         <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8">
// // // // // // // // // // //           <div className="flex items-center">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={navigateToDashboard}
// // // // // // // // // // //               className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} className="text-red-500 group-hover:scale-110 transform transition-all duration-300" />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // // //               Members List
// // // // // // // // // // //             </h1>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Section */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10">
// // // // // // // // // // //           <div className="relative transition-all duration-500">
// // // // // // // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // // //               <Search size={20} className="text-gray-500" />
// // // // // // // // // // //             </span>
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-14 pr-4 py-3 bg-gray-800/50 backdrop-blur-sm border border-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //               value={searchTerm}
// // // // // // // // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <button
// // // // // // // // // // //             className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600 mt-4"
// // // // // // // // // // //             onClick={() => router.push("/add-member")}
// // // // // // // // // // //           >
// // // // // // // // // // //             <Plus size={20} />
// // // // // // // // // // //             <span>Add Member</span>
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Members Table */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // // //           <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // // //             <div className="overflow-x-auto">
// // // // // // // // // // //               <table className="w-full divide-y divide-gray-800">
// // // // // // // // // // //                 <thead>
// // // // // // // // // // //                   <tr className="bg-gray-900/50">
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       ID
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Photo
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Name
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Email
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Age
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Gender
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Phone
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Membership
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Trainer
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Status
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Actions
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 </thead>
// // // // // // // // // // //                 <tbody className="divide-y divide-gray-800">
// // // // // // // // // // //                   {filteredMembers.map((member, index) => (
// // // // // // // // // // //                     <tr
// // // // // // // // // // //                       key={member._id}
// // // // // // // // // // //                       className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // // //                         {index + 1}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                         <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // // //                           <img
// // // // // // // // // // //                             src={member.photo || "https://via.placeholder.com/150"}
// // // // // // // // // // //                             alt={member.name}
// // // // // // // // // // //                             className="h-10 w-10 rounded-full"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="name"
// // // // // // // // // // //                             value={formData.name}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.name
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="email"
// // // // // // // // // // //                             name="email"
// // // // // // // // // // //                             value={formData.email}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.email
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="number"
// // // // // // // // // // //                             name="age"
// // // // // // // // // // //                             value={formData.age}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.age
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="gender"
// // // // // // // // // // //                             value={formData.gender}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Male">Male</option>
// // // // // // // // // // //                             <option value="Female">Female</option>
// // // // // // // // // // //                             <option value="Other">Other</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.gender
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="phone"
// // // // // // // // // // //                             value={formData.phone}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.phone
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="membership_plan"
// // // // // // // // // // //                             value={formData.membership_plan}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Gold">Gold</option>
// // // // // // // // // // //                             <option value="Silver">Silver</option>
// // // // // // // // // // //                             <option value="Platinum">Platinum</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.membership_plan
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="trainer"
// // // // // // // // // // //                             value={formData.trainer}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.trainer
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="status"
// // // // // // // // // // //                             value={formData.status}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Active">Active</option>
// // // // // // // // // // //                             <option value="Inactive">Inactive</option>
// // // // // // // // // // //                             <option value="Suspended">Suspended</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.status
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={handleSave}
// // // // // // // // // // //                             className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Save size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))}
// // // // // // // // // // //                 </tbody>
// // // // // // // // // // //               </table>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default MembersPage;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { Search, Plus, User, Edit, Trash, Save, ArrowLeft } from "lucide-react";

// // // // // // // // // // // const MembersPage = () => {
// // // // // // // // // // //   const router = useRouter();
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     status: "Active",
// // // // // // // // // // //   });

// // // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setIsLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       status: member.status,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/${editingMember}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // //         }
// // // // // // // // // // //       );
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // // //         prevMembers.map((member) =>
// // // // // // // // // // //           member._id === updatedMember._id ? updatedMember : member
// // // // // // // // // // //         )
// // // // // // // // // // //       );
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/${memberId}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         }
// // // // // // // // // // //       );
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // // //         prevMembers.filter((member) => member._id !== memberId)
// // // // // // // // // // //       );
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name.toLowerCase().includes(searchTerm.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   const navigateToDashboard = () => {
// // // // // // // // // // //     router.push("/dashboard");
// // // // // // // // // // //   };

// // // // // // // // // // //   if (isLoading)
// // // // // // // // // // //     return (
// // // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // // //         <div className="text-center">
// // // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Loading members...</p>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     );

// // // // // // // // // // //   if (error)
// // // // // // // // // // //     return (
// // // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // // //         <div className="text-center">
// // // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     );

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // // //       <div className="w-full grid grid-cols-1">
// // // // // // // // // // //         {/* Header Section */}
// // // // // // // // // // //         <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8">
// // // // // // // // // // //           <div className="flex items-center">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={navigateToDashboard}
// // // // // // // // // // //               className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} className="text-red-500 group-hover:scale-110 transform transition-all duration-300" />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // // //               Members List
// // // // // // // // // // //             </h1>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search and Add Member Section */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10">
// // // // // // // // // // //           <div className="relative transition-all duration-500">
// // // // // // // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // // //               <Search size={20} className="text-gray-500" />
// // // // // // // // // // //             </span>
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-14 pr-4 py-3 bg-gray-800/50 backdrop-blur-sm border border-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //               value={searchTerm}
// // // // // // // // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <button
// // // // // // // // // // //             className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600 mt-4"
// // // // // // // // // // //             onClick={() => router.push("/add-member")}
// // // // // // // // // // //           >
// // // // // // // // // // //             <Plus size={20} />
// // // // // // // // // // //             <span>Add Member</span>
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Members Table */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // // //           <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // // //             <div className="overflow-x-auto">
// // // // // // // // // // //               <table className="w-full divide-y divide-gray-800">
// // // // // // // // // // //                 <thead>
// // // // // // // // // // //                   <tr className="bg-gray-900/50">
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       ID
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Photo
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Name
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Email
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Age
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Gender
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Phone
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Membership
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Trainer
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Status
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                     <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                       Actions
// // // // // // // // // // //                     </th>
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 </thead>
// // // // // // // // // // //                 <tbody className="divide-y divide-gray-800">
// // // // // // // // // // //                   {filteredMembers.map((member, index) => (
// // // // // // // // // // //                     <tr
// // // // // // // // // // //                       key={member._id}
// // // // // // // // // // //                       className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // // //                         {index + 1}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                         <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // // //                           <img
// // // // // // // // // // //                             src={member.photo || "https://via.placeholder.com/150"}
// // // // // // // // // // //                             alt={member.name}
// // // // // // // // // // //                             className="h-10 w-10 rounded-full"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="name"
// // // // // // // // // // //                             value={formData.name}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.name
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="email"
// // // // // // // // // // //                             name="email"
// // // // // // // // // // //                             value={formData.email}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.email
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="number"
// // // // // // // // // // //                             name="age"
// // // // // // // // // // //                             value={formData.age}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.age
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="gender"
// // // // // // // // // // //                             value={formData.gender}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Male">Male</option>
// // // // // // // // // // //                             <option value="Female">Female</option>
// // // // // // // // // // //                             <option value="Other">Other</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.gender
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="phone"
// // // // // // // // // // //                             value={formData.phone}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.phone
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="membership_plan"
// // // // // // // // // // //                             value={formData.membership_plan}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Gold">Gold</option>
// // // // // // // // // // //                             <option value="Silver">Silver</option>
// // // // // // // // // // //                             <option value="Platinum">Platinum</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.membership_plan
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="trainer"
// // // // // // // // // // //                             value={formData.trainer}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.trainer
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="status"
// // // // // // // // // // //                             value={formData.status}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Active">Active</option>
// // // // // // // // // // //                             <option value="Inactive">Inactive</option>
// // // // // // // // // // //                             <option value="Suspended">Suspended</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           member.status
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                       <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={handleSave}
// // // // // // // // // // //                             className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Save size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         ) : (
// // // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         )}
// // // // // // // // // // //                       </td>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   ))}
// // // // // // // // // // //                 </tbody>
// // // // // // // // // // //               </table>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default MembersPage;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { ArrowLeft, Edit, Plus, Save, Search, Trash, Undo, User } from "lucide-react";
// // // // // // // // // // // import Link from "next/link";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { useState, useEffect } from "react";

// // // // // // // // // // // const Members = () => {
// // // // // // // // // // //   const router = useRouter();
// // // // // // // // // // //   const [searchQuery, setSearchQuery] = useState("");
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [loading, setLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // table or card
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active",
// // // // // // // // // // //   });

// // // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         setLoading(true);
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   // Handle search
// // // // // // // // // // //   const filteredMembers = members.filter((member) =>
// // // // // // // // // // //     member.name && member.name.toLowerCase().includes(searchQuery.toLowerCase())
// // // // // // // // // // //   );

// // // // // // // // // // //   // Handle edit
// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle form changes
// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Save edited member
// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(`http://localhost:5001/api/admin/members/${editingMember}`, {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       });
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(members.map(member => member._id === updatedMember._id ? updatedMember : member));
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle delete
// // // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find(m => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter(member => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(`http://localhost:5001/api/admin/members/${memberId}`, {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers(prev => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000); // 5 seconds delay

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }
// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers(prev => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Toggle view mode
// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   // Render members in table or card view
// // // // // // // // // // //   const renderMembers = () => {
// // // // // // // // // // //     if (filteredMembers.length === 0) {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="text-center py-8 text-white">
// // // // // // // // // // //           No members found.
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }

// // // // // // // // // // //     if (viewMode === "card") {
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 h-full overflow-y-auto">
// // // // // // // // // // //           {filteredMembers.map((member, index) => (
// // // // // // // // // // //             <div
// // // // // // // // // // //               key={member._id}
// // // // // // // // // // //               className="bg-gray-700 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               {editingMember === member._id ? (
// // // // // // // // // // //                 // Edit mode for card view
// // // // // // // // // // //                 <div className="space-y-3">
// // // // // // // // // // //                   <div className="flex justify-between">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <button
// // // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded font-bold hover:bg-green-600 flex items-center gap-1"
// // // // // // // // // // //                     >
// // // // // // // // // // //                       <Save size={16} /> Save
// // // // // // // // // // //                     </button>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-2">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {formData.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Name</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="name"
// // // // // // // // // // //                         value={formData.name}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Email</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="email"
// // // // // // // // // // //                         name="email"
// // // // // // // // // // //                         value={formData.email}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Age</label>
// // // // // // // // // // //                         <input
// // // // // // // // // // //                           type="number"
// // // // // // // // // // //                           name="age"
// // // // // // // // // // //                           value={formData.age}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         />
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <label className="block text-xs text-gray-300">Gender</label>
// // // // // // // // // // //                         <select
// // // // // // // // // // //                           name="gender"
// // // // // // // // // // //                           value={formData.gender}
// // // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // // //                           className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                         >
// // // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // // //                         </select>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Phone</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="phone"
// // // // // // // // // // //                         value={formData.phone}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Membership</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="membership_plan"
// // // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Gold">Gold</option>
// // // // // // // // // // //                         <option value="Silver">Silver</option>
// // // // // // // // // // //                         <option value="Platinum">Platinum</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Trainer</label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="text"
// // // // // // // // // // //                         name="trainer"
// // // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-300">Status</label>
// // // // // // // // // // //                       <select
// // // // // // // // // // //                         name="status"
// // // // // // // // // // //                         value={formData.status}
// // // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // // //                         className="bg-gray-800 p-2 rounded w-full mt-1 text-white"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // // // //                       </select>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               ) : (
// // // // // // // // // // //                 // Display mode for card view
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <div className="flex justify-between items-center mb-3">
// // // // // // // // // // //                     <div className="font-bold text-lg">#{index + 1}</div>
// // // // // // // // // // //                     <div className="flex space-x-2">
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                       <button
// // // // // // // // // // //                         onClick={() => confirmDelete(member)}
// // // // // // // // // // //                         className="bg-red-500 px-2 py-1 rounded hover:bg-red-600 flex items-center"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <Trash size={16} />
// // // // // // // // // // //                       </button>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>

// // // // // // // // // // //                   <div className="space-y-1">
// // // // // // // // // // //                     <div className="relative group">
// // // // // // // // // // //                       {member.photo ? (
// // // // // // // // // // //                         <div className="relative w-16 h-16 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                             className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Trash size={12} className="text-white" />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       ) : (
// // // // // // // // // // //                         <div className="w-16 h-16 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                           <User size={24} className="text-gray-400" />
// // // // // // // // // // //                         </div>
// // // // // // // // // // //                       )}
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="file"
// // // // // // // // // // //                         accept="image/*"
// // // // // // // // // // //                         onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                         className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Name: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.name}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="truncate">
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Email: </span>
// // // // // // // // // // //                       <span>{member.email}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div className="grid grid-cols-2 gap-2">
// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Age: </span>
// // // // // // // // // // //                         <span>{member.age}</span>
// // // // // // // // // // //                       </div>

// // // // // // // // // // //                       <div>
// // // // // // // // // // //                         <span className="text-gray-300 text-sm">Gender: </span>
// // // // // // // // // // //                         <span>{member.gender || "N/A"}</span>
// // // // // // // // // // //                       </div>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Phone: </span>
// // // // // // // // // // //                       <span>{member.phone}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Plan: </span>
// // // // // // // // // // //                       <span className="font-medium">{member.membership_plan || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Trainer: </span>
// // // // // // // // // // //                       <span>{member.trainer || "N/A"}</span>
// // // // // // // // // // //                     </div>

// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <span className="text-gray-300 text-sm">Status: </span>
// // // // // // // // // // //                       <span>{member.status || "N/A"}</span>
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ))}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     } else {
// // // // // // // // // // //       // Table view
// // // // // // // // // // //       return (
// // // // // // // // // // //         <div className="h-full overflow-hidden">
// // // // // // // // // // //           <div className="overflow-y-auto h-full custom-scrollbar">
// // // // // // // // // // //             <table className="w-full border-collapse text-white">
// // // // // // // // // // //               <thead className="sticky top-0 bg-gray-700 z-10">
// // // // // // // // // // //                 <tr className="text-sm md:text-base">
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">ID</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Photo</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Name</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Email</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Age</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Gender</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Phone</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Membership</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Trainer</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Status</th>
// // // // // // // // // // //                   <th className="p-2 md:p-3 border border-gray-600">Actions</th>
// // // // // // // // // // //                 </tr>
// // // // // // // // // // //               </thead>
// // // // // // // // // // //               <tbody className="divide-y divide-gray-600">
// // // // // // // // // // //                 {filteredMembers.map((member, index) => (
// // // // // // // // // // //                   <tr key={member._id} className="bg-gray-800 hover:bg-gray-700 text-xs sm:text-sm md:text-base">
// // // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // // //                       <>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <div className="relative group">
// // // // // // // // // // //                             {formData.photo ? (
// // // // // // // // // // //                               <div className="relative w-10 h-10 rounded-full overflow-hidden group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <img src={formData.photo} alt="User" className="w-full h-full object-cover" />
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                   className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Trash size={10} className="text-white" />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             ) : (
// // // // // // // // // // //                               <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <User size={16} className="text-gray-400" />
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             )}
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="file"
// // // // // // // // // // //                               accept="image/*"
// // // // // // // // // // //                               onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                               className="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="name"
// // // // // // // // // // //                             value={formData.name}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="email"
// // // // // // // // // // //                             name="email"
// // // // // // // // // // //                             value={formData.email}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="number"
// // // // // // // // // // //                             name="age"
// // // // // // // // // // //                             value={formData.age}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="gender"
// // // // // // // // // // //                             value={formData.gender}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Male">Male</option>
// // // // // // // // // // //                             <option value="Female">Female</option>
// // // // // // // // // // //                             <option value="Other">Other</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="phone"
// // // // // // // // // // //                             value={formData.phone}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="membership_plan"
// // // // // // // // // // //                             value={formData.membership_plan}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Gold">Gold</option>
// // // // // // // // // // //                             <option value="Silver">Silver</option>
// // // // // // // // // // //                             <option value="Platinum">Platinum</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <input
// // // // // // // // // // //                             type="text"
// // // // // // // // // // //                             name="trainer"
// // // // // // // // // // //                             value={formData.trainer}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           />
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <select
// // // // // // // // // // //                             name="status"
// // // // // // // // // // //                             value={formData.status}
// // // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // // //                             className="bg-gray-700 p-1 md:p-2 rounded w-full text-xs sm:text-sm text-white"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <option value="Active">Active</option>
// // // // // // // // // // //                             <option value="Inactive">Inactive</option>
// // // // // // // // // // //                             <option value="Suspended">Suspended</option>
// // // // // // // // // // //                           </select>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-2 border border-gray-600">
// // // // // // // // // // //                           <button
// // // // // // // // // // //                             onClick={handleSave}
// // // // // // // // // // //                             className="bg-green-500 px-2 py-1 rounded font-bold hover:bg-green-600"
// // // // // // // // // // //                           >
// // // // // // // // // // //                             <Save size={14} />
// // // // // // // // // // //                           </button>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </>
// // // // // // // // // // //                     ) : (
// // // // // // // // // // //                       <>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{index + 1}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                           <div className="relative group">
// // // // // // // // // // //                             {member.photo ? (
// // // // // // // // // // //                               <div className="relative w-16 h-16 rounded-full overflow-hidden outline-offset-2 group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <img src={member.photo} alt={member.name} className="w-full h-full object-cover" />
// // // // // // // // // // //                                 <button
// // // // // // // // // // //                                   onClick={(e) => handlePhotoDelete(e, member._id)}
// // // // // // // // // // //                                   className="absolute top-0 right-0 bg-red-500 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-20"
// // // // // // // // // // //                                   type="button"
// // // // // // // // // // //                                 >
// // // // // // // // // // //                                   <Trash size={17} className="text-white" />
// // // // // // // // // // //                                 </button>
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             ) : (
// // // // // // // // // // //                               <div className="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center group-hover:ring group-hover:ring-2 group-hover:ring-red-500">
// // // // // // // // // // //                                 <User size={16} className="text-gray-400" />
// // // // // // // // // // //                               </div>
// // // // // // // // // // //                             )}
// // // // // // // // // // //                             <input
// // // // // // // // // // //                               type="file"
// // // // // // // // // // //                               accept="image/*"
// // // // // // // // // // //                               onChange={(e) => handlePhotoUpload(e, member._id)}
// // // // // // // // // // //                               className="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
// // // // // // // // // // //                             />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.name}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[100px] md:max-w-none">{member.email}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.age}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.gender || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.phone}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.membership_plan || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600 truncate max-w-[80px] md:max-w-none">{member.trainer || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">{member.status || "N/A"}</td>
// // // // // // // // // // //                         <td className="p-1 md:p-3 border border-gray-600">
// // // // // // // // // // //                           <div className="flex space-x-1 md:space-x-2 justify-center">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // // //                               className="bg-red-500 px-2 py-1 rounded font-bold hover:bg-red-600"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={14} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </>
// // // // // // // // // // //                     )}
// // // // // // // // // // //                   </tr>
// // // // // // // // // // //                 ))}
// // // // // // // // // // //               </tbody>
// // // // // // // // // // //             </table>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       );
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-[#111827] pt-4 px-2 md:px-4 min-h-screen w-full flex flex-col">
// // // // // // // // // // //       {/* Header Section */}
// // // // // // // // // // //       <div className="bg-[#1f2937] rounded-lg shadow-md mb-4">
// // // // // // // // // // //         <div className="flex items-center justify-between p-4">
// // // // // // // // // // //           <div className="flex items-center space-x-2 md:space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={() => router.push("/dashboard")}
// // // // // // // // // // //               className="bg-[#374151] p-2 rounded-lg text-red-500 flex items-center hover:ring-2 hover:ring-red-500 transition-all"
// // // // // // // // // // //             >
// // // // // // // // // // //               <ArrowLeft size={20} strokeWidth={3} />
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h2 className="text-xl font-bold text-white">Members List</h2>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // // //             className="bg-[#374151] px-3 py-2 rounded-lg hover:bg-[#4B5563] text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className="p-4 pt-0 w-full flex flex-col sm:flex-row items-center justify-between gap-2">
// // // // // // // // // // //           <div className="relative w-full sm:w-auto flex-1">
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search members..."
// // // // // // // // // // //               className="w-full pl-9 pr-3 py-2 bg-[#374151] text-white rounded-lg outline-none focus:ring-2 focus:ring-red-500"
// // // // // // // // // // //               onChange={(e) => setSearchQuery(e.target.value)}
// // // // // // // // // // //             />
// // // // // // // // // // //             <Search className="absolute left-2 top-2 text-gray-400" size={20} />
// // // // // // // // // // //           </div>
// // // // // // // // // // //           <Link href="/add-member" className="w-full sm:w-auto">
// // // // // // // // // // //             <button className="w-full sm:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600">
// // // // // // // // // // //               <Plus size={20} />
// // // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </Link>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Table/Card Section */}
// // // // // // // // // // //       <div
// // // // // // // // // // //         className="w-full bg-[#1f2937] rounded-lg shadow-md p-3 md:p-4 flex-grow overflow-y-auto"
// // // // // // // // // // //         style={{ height: 'calc(100vh - 180px)' }}
// // // // // // // // // // //       >
// // // // // // // // // // //         {loading ? (
// // // // // // // // // // //           <div className="text-center py-8 text-white">Loading members...</div>
// // // // // // // // // // //         ) : error ? (
// // // // // // // // // // //           <div className="text-center py-8 text-red-400">{error}</div>
// // // // // // // // // // //         ) : (
// // // // // // // // // // //           renderMembers()
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>

// // // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // // //       {deletedMember && (
// // // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-[#1f2937] text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //           <span>Member deleted</span>
// // // // // // // // // // //           <button
// // // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //           >
// // // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}

// // // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // // //           <div className="bg-[#1f2937] p-6 rounded-lg shadow-lg">
// // // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">Are you sure you want to delete this member?</h3>
// // // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Cancel
// // // // // // // // // // //               </button>
// // // // // // // // // // //               <button
// // // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // // //               >
// // // // // // // // // // //                 Delete
// // // // // // // // // // //               </button>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       )}
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default Members;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { useRouter } from "next/navigation";

// // // // // // // // // // // const MembersPage = () => {
// // // // // // // // // // //   const router = useRouter();
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active",
// // // // // // // // // // //   });

// // // // // // // // // // //   // Filter states
// // // // // // // // // // //   const [filters, setFilters] = useState({
// // // // // // // // // // //     status: "",
// // // // // // // // // // //     plan: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     dateRange: {
// // // // // // // // // // //       start: "",
// // // // // // // // // // //       end: "",
// // // // // // // // // // //     },
// // // // // // // // // // //   });

// // // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setIsLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   // Get unique values for filter options
// // // // // // // // // // //   const getUniqueValues = (field) => {
// // // // // // // // // // //     return [...new Set(members.map((member) => member[field]))];
// // // // // // // // // // //   };

// // // // // // // // // // //   const uniquePlans = getUniqueValues("membership_plan");
// // // // // // // // // // //   const uniqueStatuses = getUniqueValues("status");
// // // // // // // // // // //   const uniqueGenders = getUniqueValues("gender");

// // // // // // // // // // //   // Filter members based on search and filters
// // // // // // // // // // //   const filteredMembers = members.filter((member) => {
// // // // // // // // // // //     // Ensure properties are defined before calling toLowerCase
// // // // // // // // // // //     const name = member.name || "";
// // // // // // // // // // //     const email = member.email || "";
// // // // // // // // // // //     const status = member.status || "";

// // // // // // // // // // //     // Search filter
// // // // // // // // // // //     const matchesSearch =
// // // // // // // // // // //       searchTerm === "" ||
// // // // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // // // // //     // Status filter
// // // // // // // // // // //     const matchesStatus =
// // // // // // // // // // //       filters.status === "" || member.status === filters.status;

// // // // // // // // // // //     // Plan filter
// // // // // // // // // // //     const matchesPlan =
// // // // // // // // // // //       filters.plan === "" || member.membership_plan === filters.plan;

// // // // // // // // // // //     // Gender filter
// // // // // // // // // // //     const matchesGender =
// // // // // // // // // // //       filters.gender === "" || member.gender === filters.gender;

// // // // // // // // // // //     // Date range filter
// // // // // // // // // // //     const memberDate = new Date(member.joinedDate);
// // // // // // // // // // //     const matchesDateStart =
// // // // // // // // // // //       !filters.dateRange.start || memberDate >= new Date(filters.dateRange.start);
// // // // // // // // // // //     const matchesDateEnd =
// // // // // // // // // // //       !filters.dateRange.end || memberDate <= new Date(filters.dateRange.end);

// // // // // // // // // // //     return (
// // // // // // // // // // //       matchesSearch &&
// // // // // // // // // // //       matchesStatus &&
// // // // // // // // // // //       matchesPlan &&
// // // // // // // // // // //       matchesGender &&
// // // // // // // // // // //       matchesDateStart &&
// // // // // // // // // // //       matchesDateEnd
// // // // // // // // // // //     );
// // // // // // // // // // //   });

// // // // // // // // // // //   // Handle filter changes
// // // // // // // // // // //   const handleFilterChange = (field, value) => {
// // // // // // // // // // //     if (field.includes(".")) {
// // // // // // // // // // //       const [parent, child] = field.split(".");
// // // // // // // // // // //       setFilters((prev) => ({
// // // // // // // // // // //         ...prev,
// // // // // // // // // // //         [parent]: {
// // // // // // // // // // //           ...prev[parent],
// // // // // // // // // // //           [child]: value,
// // // // // // // // // // //         },
// // // // // // // // // // //       }));
// // // // // // // // // // //     } else {
// // // // // // // // // // //       setFilters((prev) => ({
// // // // // // // // // // //         ...prev,
// // // // // // // // // // //         [field]: value,
// // // // // // // // // // //       }));
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Reset all filters
// // // // // // // // // // //   const resetFilters = () => {
// // // // // // // // // // //     setFilters({
// // // // // // // // // // //       status: "",
// // // // // // // // // // //       plan: "",
// // // // // // // // // // //       gender: "",
// // // // // // // // // // //       dateRange: {
// // // // // // // // // // //         start: "",
// // // // // // // // // // //         end: "",
// // // // // // // // // // //       },
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle edit member
// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle form changes
// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Save edited member
// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/${editingMember}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // //         }
// // // // // // // // // // //       );
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(
// // // // // // // // // // //         members.map((member) =>
// // // // // // // // // // //           member._id === updatedMember._id ? updatedMember : member
// // // // // // // // // // //         )
// // // // // // // // // // //       );
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle delete member
// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/${memberId}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "DELETE",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         }
// // // // // // // // // // //       );
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       setMembers(members.filter((member) => member._id !== memberId));
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Toggle view mode
// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   if (isLoading)
// // // // // // // // // // //     return (
// // // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // // //         <div className="text-center">
// // // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // // // // // //             Loading members...
// // // // // // // // // // //           </p>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     );

// // // // // // // // // // //   if (error)
// // // // // // // // // // //     return (
// // // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // // //         <div className="text-center">
// // // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     );

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // // //       <div className="w-full grid grid-cols-1">
// // // // // // // // // // //         {/* Header Section */}
// // // // // // // // // // //         <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8">
// // // // // // // // // // //           <div className="flex items-center">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={() => router.push("/dashboard")}
// // // // // // // // // // //               className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //             >
// // // // // // // // // // //               <svg
// // // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                 className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // // // //                 fill="none"
// // // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // // //               >
// // // // // // // // // // //                 <path
// // // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // // //                   strokeWidth={2}
// // // // // // // // // // //                   d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // // // //                 />
// // // // // // // // // // //               </svg>
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // // //               Members List
// // // // // // // // // // //             </h1>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <button
// // // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //             onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // // //           >
// // // // // // // // // // //             <span className="flex items-center">
// // // // // // // // // // //               <svg
// // // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // // //                 fill="none"
// // // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // // //               >
// // // // // // // // // // //                 <path
// // // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // // //                   strokeWidth={1.5}
// // // // // // // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // // //                 />
// // // // // // // // // // //               </svg>
// // // // // // // // // // //               <span className="font-medium">Filter View</span>
// // // // // // // // // // //             </span>
// // // // // // // // // // //           </button>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search Bar */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10">
// // // // // // // // // // //           <div
// // // // // // // // // // //             className={`relative transition-all duration-500 ${
// // // // // // // // // // //               searchFocused ? "scale-105" : ""
// // // // // // // // // // //             }`}
// // // // // // // // // // //           >
// // // // // // // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // // //               <svg
// // // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                 className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // // // //                   searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // // // //                 }`}
// // // // // // // // // // //                 fill="none"
// // // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // // //                 strokeWidth={1.5}
// // // // // // // // // // //               >
// // // // // // // // // // //                 <path
// // // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // // // //                 />
// // // // // // // // // // //               </svg>
// // // // // // // // // // //             </span>
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search by name, email, or status"
// // // // // // // // // // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // // // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // // // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // // // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // // // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // // // //               value={searchTerm}
// // // // // // // // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // // //               onFocus={() => setSearchFocused(true)}
// // // // // // // // // // //               onBlur={() => setSearchFocused(false)}
// // // // // // // // // // //             />
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Filter Modal */}
// // // // // // // // // // //         {showFilterModal && (
// // // // // // // // // // //           <div className="fixed inset-0 z-10 flex items-center justify-center">
// // // // // // // // // // //             <div
// // // // // // // // // // //               className="absolute inset-0 bg-black/80 backdrop-blur-sm"
// // // // // // // // // // //               onClick={() => setShowFilterModal(false)}
// // // // // // // // // // //             ></div>

// // // // // // // // // // //             <div className="relative bg-gray-800 border border-gray-700 rounded-xl shadow-2xl shadow-red-500/20 w-full max-w-2xl overflow-hidden animate-fade-in transform transition-transform duration-300 scale-100">
// // // // // // // // // // //               <div className="p-6 border-b border-gray-700 flex justify-between items-center">
// // // // // // // // // // //                 <h3 className="text-xl font-medium text-white tracking-wide flex items-center">
// // // // // // // // // // //                   <svg
// // // // // // // // // // //                     xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                     className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // // //                     fill="none"
// // // // // // // // // // //                     viewBox="0 0 24 24"
// // // // // // // // // // //                     stroke="currentColor"
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <path
// // // // // // // // // // //                       strokeLinecap="round"
// // // // // // // // // // //                       strokeLinejoin="round"
// // // // // // // // // // //                       strokeWidth={1.5}
// // // // // // // // // // //                       d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // // //                     />
// // // // // // // // // // //                   </svg>
// // // // // // // // // // //                   Advanced Filters
// // // // // // // // // // //                 </h3>
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="text-gray-400 hover:text-white"
// // // // // // // // // // //                   onClick={() => setShowFilterModal(false)}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   <svg
// // // // // // // // // // //                     xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                     className="h-6 w-6"
// // // // // // // // // // //                     fill="none"
// // // // // // // // // // //                     viewBox="0 0 24 24"
// // // // // // // // // // //                     stroke="currentColor"
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <path
// // // // // // // // // // //                       strokeLinecap="round"
// // // // // // // // // // //                       strokeLinejoin="round"
// // // // // // // // // // //                       strokeWidth={1.5}
// // // // // // // // // // //                       d="M6 18L18 6M6 6l12 12"
// // // // // // // // // // //                     />
// // // // // // // // // // //                   </svg>
// // // // // // // // // // //                 </button>
// // // // // // // // // // //               </div>

// // // // // // // // // // //               <div className="p-6 space-y-6">
// // // // // // // // // // //                 {/* Status Filter */}
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Status
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={filters.status}
// // // // // // // // // // //                     onChange={(e) =>
// // // // // // // // // // //                       handleFilterChange("status", e.target.value)
// // // // // // // // // // //                     }
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">All Statuses</option>
// // // // // // // // // // //                     {uniqueStatuses.map((status) => (
// // // // // // // // // // //                       <option key={status} value={status}>
// // // // // // // // // // //                         {status}
// // // // // // // // // // //                       </option>
// // // // // // // // // // //                     ))}
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 {/* Plan Filter */}
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Membership Plan
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={filters.plan}
// // // // // // // // // // //                     onChange={(e) => handleFilterChange("plan", e.target.value)}
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">All Plans</option>
// // // // // // // // // // //                     {uniquePlans.map((plan) => (
// // // // // // // // // // //                       <option key={plan} value={plan}>
// // // // // // // // // // //                         {plan}
// // // // // // // // // // //                       </option>
// // // // // // // // // // //                     ))}
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 {/* Gender Filter */}
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Gender
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <select
// // // // // // // // // // //                     className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                     value={filters.gender}
// // // // // // // // // // //                     onChange={(e) =>
// // // // // // // // // // //                       handleFilterChange("gender", e.target.value)
// // // // // // // // // // //                     }
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <option value="">All Genders</option>
// // // // // // // // // // //                     {uniqueGenders.map((gender) => (
// // // // // // // // // // //                       <option key={gender} value={gender}>
// // // // // // // // // // //                         {gender}
// // // // // // // // // // //                       </option>
// // // // // // // // // // //                     ))}
// // // // // // // // // // //                   </select>
// // // // // // // // // // //                 </div>

// // // // // // // // // // //                 {/* Date Range Filter */}
// // // // // // // // // // //                 <div>
// // // // // // // // // // //                   <label className="block text-sm font-medium text-gray-400 mb-2">
// // // // // // // // // // //                     Joined Date Range
// // // // // // // // // // //                   </label>
// // // // // // // // // // //                   <div className="grid grid-cols-2 gap-4">
// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-500 mb-1">
// // // // // // // // // // //                         From
// // // // // // // // // // //                       </label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="date"
// // // // // // // // // // //                         className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                         value={filters.dateRange.start}
// // // // // // // // // // //                         onChange={(e) =>
// // // // // // // // // // //                           handleFilterChange("dateRange.start", e.target.value)
// // // // // // // // // // //                         }
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                     <div>
// // // // // // // // // // //                       <label className="block text-xs text-gray-500 mb-1">
// // // // // // // // // // //                         To
// // // // // // // // // // //                       </label>
// // // // // // // // // // //                       <input
// // // // // // // // // // //                         type="date"
// // // // // // // // // // //                         className="w-full bg-gray-900 border border-gray-700 text-white py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
// // // // // // // // // // //                         value={filters.dateRange.end}
// // // // // // // // // // //                         onChange={(e) =>
// // // // // // // // // // //                           handleFilterChange("dateRange.end", e.target.value)
// // // // // // // // // // //                         }
// // // // // // // // // // //                       />
// // // // // // // // // // //                     </div>
// // // // // // // // // // //                   </div>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               </div>

// // // // // // // // // // //               <div className="px-6 py-4 border-t border-gray-700 flex justify-between">
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="text-gray-300 px-5 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-300"
// // // // // // // // // // //                   onClick={resetFilters}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Clear Filters
// // // // // // // // // // //                 </button>
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="bg-red-600 text-white px-5 py-3 rounded-lg hover:bg-red-700 transition-colors duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //                   onClick={() => setShowFilterModal(false)}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Apply Filters
// // // // // // // // // // //                 </button>
// // // // // // // // // // //               </div>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}

// // // // // // // // // // //         {/* Members Table */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // // //               <svg
// // // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // // //                 fill="none"
// // // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // // //               >
// // // // // // // // // // //                 <path
// // // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // // //                 />
// // // // // // // // // // //               </svg>
// // // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // // //                 No members found.
// // // // // // // // // // //               </p>
// // // // // // // // // // //               {(filters.status ||
// // // // // // // // // // //                 filters.plan ||
// // // // // // // // // // //                 filters.gender ||
// // // // // // // // // // //                 filters.dateRange.start ||
// // // // // // // // // // //                 filters.dateRange.end) && (
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   className="mt-4 text-red-400 hover:text-red-300 transition-colors duration-300"
// // // // // // // // // // //                   onClick={resetFilters}
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Clear filters and try again
// // // // // // // // // // //                 </button>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // // // //                   <thead>
// // // // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         ID
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Photo
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Name
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Email
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Plan
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Status
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Actions
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   </thead>
// // // // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // // // //                     {filteredMembers.map((member, index) => (
// // // // // // // // // // //                       <tr
// // // // // // // // // // //                         key={member._id}
// // // // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // // //                           {index + 1}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // // //                             <svg
// // // // // // // // // // //                               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                               className="h-5 w-5"
// // // // // // // // // // //                               fill="none"
// // // // // // // // // // //                               viewBox="0 0 24 24"
// // // // // // // // // // //                               stroke="currentColor"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <path
// // // // // // // // // // //                                 strokeLinecap="round"
// // // // // // // // // // //                                 strokeLinejoin="round"
// // // // // // // // // // //                                 strokeWidth={1.5}
// // // // // // // // // // //                                 d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
// // // // // // // // // // //                               />
// // // // // // // // // // //                             </svg>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // // //                           {member.name}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.email}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.membership_plan}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <span
// // // // // // // // // // //                             className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // // //                               member.status === "Active"
// // // // // // // // // // //                                 ? "bg-green-900/20 text-green-300 border border-green-500"
// // // // // // // // // // //                                 : member.status === "Inactive"
// // // // // // // // // // //                                 ? "bg-yellow-900/20 text-yellow-300 border border-yellow-500"
// // // // // // // // // // //                                 : "bg-red-900/20 text-red-300 border border-red-500"
// // // // // // // // // // //                             } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // // //                           >
// // // // // // // // // // //                             {member.status}
// // // // // // // // // // //                           </span>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               Edit
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleDelete(member._id)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               Delete
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </tr>
// // // // // // // // // // //                     ))}
// // // // // // // // // // //                   </tbody>
// // // // // // // // // // //                 </table>
// // // // // // // // // // //               </div>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default MembersPage;
// // // // // // // // // // // "use client";

// // // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // // // // const MembersPage = () => {
// // // // // // // // // // //   const router = useRouter();
// // // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     phone: "",
// // // // // // // // // // //     membership_plan: "",
// // // // // // // // // // //     trainer: "",
// // // // // // // // // // //     photo: null,
// // // // // // // // // // //     status: "Active",
// // // // // // // // // // //   });

// // // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // // //   useEffect(() => {
// // // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // // //           method: "GET",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //         });
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         const data = await response.json();
// // // // // // // // // // //         setMembers(data);
// // // // // // // // // // //         setError(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // // //       } finally {
// // // // // // // // // // //         setIsLoading(false);
// // // // // // // // // // //       }
// // // // // // // // // // //     };

// // // // // // // // // // //     fetchMembers();
// // // // // // // // // // //   }, []);

// // // // // // // // // // //   // Handle search
// // // // // // // // // // //   const filteredMembers = members.filter((member) => {
// // // // // // // // // // //     const name = member.name || "";
// // // // // // // // // // //     const email = member.email || "";
// // // // // // // // // // //     const status = member.status || "";

// // // // // // // // // // //     return (
// // // // // // // // // // //       searchTerm === "" ||
// // // // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase())
// // // // // // // // // // //     );
// // // // // // // // // // //   });

// // // // // // // // // // //   // Handle edit
// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name,
// // // // // // // // // // //       email: member.email,
// // // // // // // // // // //       age: member.age,
// // // // // // // // // // //       gender: member.gender,
// // // // // // // // // // //       phone: member.phone,
// // // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // // //       photo: member.photo,
// // // // // // // // // // //       status: member.status,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle form changes
// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Save edited member
// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5001/api/admin/members/${editingMember}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // //         }
// // // // // // // // // // //       );
// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }
// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       setMembers(
// // // // // // // // // // //         members.map((member) =>
// // // // // // // // // // //           member._id === updatedMember._id ? updatedMember : member
// // // // // // // // // // //         )
// // // // // // // // // // //       );
// // // // // // // // // // //       setEditingMember(null);
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle delete
// // // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // // //     const memberToDeleteObj = members.find((m) => m._id === memberId);
// // // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // // //     setMembers(members.filter((member) => member._id !== memberId));

// // // // // // // // // // //     if (deleteTimer) clearTimeout(deleteTimer);

// // // // // // // // // // //     const timer = setTimeout(async () => {
// // // // // // // // // // //       try {
// // // // // // // // // // //         const response = await fetch(
// // // // // // // // // // //           `http://localhost:5001/api/admin/members/${memberId}`,
// // // // // // // // // // //           {
// // // // // // // // // // //             method: "DELETE",
// // // // // // // // // // //             headers: {
// // // // // // // // // // //               "Content-Type": "application/json",
// // // // // // // // // // //             },
// // // // // // // // // // //           }
// // // // // // // // // // //         );
// // // // // // // // // // //         if (!response.ok) {
// // // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //         }
// // // // // // // // // // //         setDeletedMember(null);
// // // // // // // // // // //       } catch (err) {
// // // // // // // // // // //         console.error("Error deleting member:", err);
// // // // // // // // // // //         setMembers((prev) => [...prev, memberToDeleteObj]);
// // // // // // // // // // //       }
// // // // // // // // // // //     }, 5000); // 5 seconds delay

// // // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // // //       clearTimeout(deleteTimer);
// // // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // // //     }
// // // // // // // // // // //     if (deletedMember) {
// // // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   // Toggle view mode
// // // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // // //   };

// // // // // // // // // // //   if (isLoading)
// // // // // // // // // // //     return (
// // // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // // //         <div className="text-center">
// // // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // // // // // //             Loading members...
// // // // // // // // // // //           </p>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     );

// // // // // // // // // // //   if (error)
// // // // // // // // // // //     return (
// // // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // // //         <div className="text-center">
// // // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     );

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // // //       <div className="w-full grid grid-cols-1">
// // // // // // // // // // //         {/* Header Section */}
// // // // // // // // // // //         <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8 sticky top-0 bg-gray-900 z-50">
// // // // // // // // // // //           <div className="flex items-center">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={() => router.push("/dashboard")}
// // // // // // // // // // //               className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //             >
// // // // // // // // // // //               <svg
// // // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                 className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // // // //                 fill="none"
// // // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // // //               >
// // // // // // // // // // //                 <path
// // // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // // //                   strokeWidth={2}
// // // // // // // // // // //                   d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // // // //                 />
// // // // // // // // // // //               </svg>
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // // //               Members List
// // // // // // // // // // //             </h1>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           <div className="flex items-center space-x-4">
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={toggleViewMode}
// // // // // // // // // // //               className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //             >
// // // // // // // // // // //               {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // // //               className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // // //             >
// // // // // // // // // // //               <span className="flex items-center">
// // // // // // // // // // //                 <svg
// // // // // // // // // // //                   xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                   className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // // //                   fill="none"
// // // // // // // // // // //                   viewBox="0 0 24 24"
// // // // // // // // // // //                   stroke="currentColor"
// // // // // // // // // // //                 >
// // // // // // // // // // //                   <path
// // // // // // // // // // //                     strokeLinecap="round"
// // // // // // // // // // //                     strokeLinejoin="round"
// // // // // // // // // // //                     strokeWidth={1.5}
// // // // // // // // // // //                     d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // // //                   />
// // // // // // // // // // //                 </svg>
// // // // // // // // // // //                 <span className="font-medium">Filter View</span>
// // // // // // // // // // //               </span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={() => router.push("/add-member")}
// // // // // // // // // // //               className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // // // // //             >
// // // // // // // // // // //               <Plus size={20} />
// // // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Search Bar */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10 sticky top-20 bg-gray-900 z-40">
// // // // // // // // // // //           <div
// // // // // // // // // // //             className={`relative transition-all duration-500 ${
// // // // // // // // // // //               searchFocused ? "scale-105" : ""
// // // // // // // // // // //             }`}
// // // // // // // // // // //           >
// // // // // // // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // // //               <svg
// // // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                 className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // // // //                   searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // // // //                 }`}
// // // // // // // // // // //                 fill="none"
// // // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // // //                 strokeWidth={1.5}
// // // // // // // // // // //               >
// // // // // // // // // // //                 <path
// // // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // // // //                 />
// // // // // // // // // // //               </svg>
// // // // // // // // // // //             </span>
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               placeholder="Search by name, email, or status"
// // // // // // // // // // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // // // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // // // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // // // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // // // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // // // //               value={searchTerm}
// // // // // // // // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // // //               onFocus={() => setSearchFocused(true)}
// // // // // // // // // // //               onBlur={() => setSearchFocused(false)}
// // // // // // // // // // //             />
// // // // // // // // // // //           </div>
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Members Table */}
// // // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // // //               <svg
// // // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // // //                 fill="none"
// // // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // // //               >
// // // // // // // // // // //                 <path
// // // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // // //                 />
// // // // // // // // // // //               </svg>
// // // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // // //                 No members found.
// // // // // // // // // // //               </p>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // // // //                   <thead>
// // // // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         ID
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Photo
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Name
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Email
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Age
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Gender
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Phone
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Membership Plan
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Trainer
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Status
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // // //                         Actions
// // // // // // // // // // //                       </th>
// // // // // // // // // // //                     </tr>
// // // // // // // // // // //                   </thead>
// // // // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // // // //                     {filteredMembers.map((member, index) => (
// // // // // // // // // // //                       <tr
// // // // // // // // // // //                         key={member._id}
// // // // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // // //                       >
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // // //                           {index + 1}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // // //                             <User size={20} />
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // // //                           {member.name}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.email}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.age}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.gender}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.phone}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.membership_plan}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // // //                           {member.trainer}
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <span
// // // // // // // // // // //                             className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // // //                               member.status === "Active"
// // // // // // // // // // //                                 ? "text-green-300 border border-green-500"
// // // // // // // // // // //                                 : member.status === "Inactive"
// // // // // // // // // // //                                 ? "text-yellow-300 border border-yellow-500"
// // // // // // // // // // //                                 : "text-red-300 border border-red-500"
// // // // // // // // // // //                             } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // // //                           >
// // // // // // // // // // //                             {member.status}
// // // // // // // // // // //                           </span>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => handleEdit(member)}
// // // // // // // // // // //                               className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Edit size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                             <button
// // // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // // //                             >
// // // // // // // // // // //                               <Trash size={16} />
// // // // // // // // // // //                             </button>
// // // // // // // // // // //                           </div>
// // // // // // // // // // //                         </td>
// // // // // // // // // // //                       </tr>
// // // // // // // // // // //                     ))}
// // // // // // // // // // //                   </tbody>
// // // // // // // // // // //                 </table>
// // // // // // // // // // //               </div>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>

// // // // // // // // // // //         {/* Undo Delete Notification */}
// // // // // // // // // // //         {deletedMember && (
// // // // // // // // // // //           <div className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // // //             <span>Member deleted</span>
// // // // // // // // // // //             <button
// // // // // // // // // // //               onClick={handleUndoDelete}
// // // // // // // // // // //               className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // // //             >
// // // // // // // // // // //               <Undo size={14} /> Undo
// // // // // // // // // // //             </button>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}

// // // // // // // // // // //         {/* Confirm Delete Dialog */}
// // // // // // // // // // //         {showConfirmDialog && (
// // // // // // // // // // //           <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // // //             <div className="bg-gray-800 p-6 rounded-lg shadow-lg">
// // // // // // // // // // //               <h3 className="text-white text-lg font-bold mb-4">
// // // // // // // // // // //                 Are you sure you want to delete this member?
// // // // // // // // // // //               </h3>
// // // // // // // // // // //               <div className="flex justify-end space-x-4">
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // // //                   className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Cancel
// // // // // // // // // // //                 </button>
// // // // // // // // // // //                 <button
// // // // // // // // // // //                   onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // // //                   className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // // //                 >
// // // // // // // // // // //                   Delete
// // // // // // // // // // //                 </button>
// // // // // // // // // // //               </div>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>
// // // // // // // // // // //         )}
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default MembersPage;
// // // // // // // // // // "use client";

// // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // // // const MembersPage = () => {
// // // // // // // // // //   const router = useRouter();
// // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: [],
// // // // // // // // // //     membership_plan: [],
// // // // // // // // // //     status: [],
// // // // // // // // // //     dateRange: { start: "", end: "" },
// // // // // // // // // //   });
// // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // //     name: "",
// // // // // // // // // //     email: "",
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: "",
// // // // // // // // // //     phone: "",
// // // // // // // // // //     membership_plan: "",
// // // // // // // // // //     trainer: "",
// // // // // // // // // //     photo: null,
// // // // // // // // // //     status: "Active",
// // // // // // // // // //   });
// // // // // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // //   useEffect(() => {
// // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // //       try {
// // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // //           method: "GET",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         });
// // // // // // // // // //         if (!response.ok) {
// // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //         }
// // // // // // // // // //         const data = await response.json();
// // // // // // // // // //         setMembers(data);
// // // // // // // // // //         setError(null);
// // // // // // // // // //       } catch (err) {
// // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // //       } finally {
// // // // // // // // // //         setIsLoading(false);
// // // // // // // // // //       }
// // // // // // // // // //     };

// // // // // // // // // //     fetchMembers();
// // // // // // // // // //   }, []);

// // // // // // // // // //   // Handle search
// // // // // // // // // //   const filteredMembers = members.filter((member) => {
// // // // // // // // // //     const name = member.name || "";
// // // // // // // // // //     const email = member.email || "";
// // // // // // // // // //     const status = member.status || "";

// // // // // // // // // //     // Search filter (case-insensitive)
// // // // // // // // // //     const matchesSearch =
// // // // // // // // // //       searchTerm === "" ||
// // // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // // // //     // Age filter
// // // // // // // // // //     const ageMatch =
// // // // // // // // // //       filterCriteria.age === "" ||
// // // // // // // // // //       (member.age !== null &&
// // // // // // // // // //         member.age !== undefined &&
// // // // // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // // // // //     // Gender filter (multiple selection)
// // // // // // // // // //     const genderMatch =
// // // // // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // // // // //     const membershipPlanMatch =
// // // // // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // // // // //     // Status filter (multiple selection)
// // // // // // // // // //     const statusMatch =
// // // // // // // // // //       filterCriteria.status.length === 0 ||
// // // // // // // // // //       filterCriteria.status.includes(member.status);

// // // // // // // // // //     // Date range filter
// // // // // // // // // //     const memberDate = new Date(member.joinedDate); // Assuming `joinedDate` is a field
// // // // // // // // // //     const matchesDateStart =
// // // // // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // // // // //       memberDate >= new Date(filterCriteria.dateRange.start);
// // // // // // // // // //     const matchesDateEnd =
// // // // // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // // // // //       memberDate <= new Date(filterCriteria.dateRange.end);

// // // // // // // // // //     // Return true only if all filters match
// // // // // // // // // //     return (
// // // // // // // // // //       matchesSearch &&
// // // // // // // // // //       ageMatch &&
// // // // // // // // // //       genderMatch &&
// // // // // // // // // //       membershipPlanMatch &&
// // // // // // // // // //       statusMatch &&
// // // // // // // // // //       matchesDateStart &&
// // // // // // // // // //       matchesDateEnd
// // // // // // // // // //     );
// // // // // // // // // //   });

// // // // // // // // // //   // Handle edit
// // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // //     setFormData({
// // // // // // // // // //       name: member.name,
// // // // // // // // // //       email: member.email,
// // // // // // // // // //       age: member.age,
// // // // // // // // // //       gender: member.gender,
// // // // // // // // // //       phone: member.phone,
// // // // // // // // // //       membership_plan: member.membership_plan,
// // // // // // // // // //       trainer: member.trainer,
// // // // // // // // // //       photo: member.photo,
// // // // // // // // // //       status: member.status,
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Handle form changes
// // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // //     setFormData({
// // // // // // // // // //       ...formData,
// // // // // // // // // //       [name]: value,
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Save edited member
// // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5001/api/admin/members/${editingMember}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "PUT",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // //         }
// // // // // // // // // //       );
// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }
// // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // //       setMembers(
// // // // // // // // // //         members.map((member) =>
// // // // // // // // // //           member._id === updatedMember._id ? updatedMember : member
// // // // // // // // // //         )
// // // // // // // // // //       );
// // // // // // // // // //       setEditingMember(null);
// // // // // // // // // //       setSaveSuccess(true);
// // // // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000); // Hide success message after 3 seconds
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Handle delete
// // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // //   };

// // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // //     const memberToDeleteObj = members.find((m) => m._id === memberId);
// // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // //     setMembers(members.filter((member) => member._id !== memberId));

// // // // // // // // // //     // Start the 5-second timer
// // // // // // // // // //     setUndoTimer(5);
// // // // // // // // // //     const timer = setInterval(() => {
// // // // // // // // // //       setUndoTimer((prev) => {
// // // // // // // // // //         if (prev === 1) {
// // // // // // // // // //           clearInterval(timer);
// // // // // // // // // //           deleteMemberFromDatabase(memberId); // Delete from the database after 5 seconds
// // // // // // // // // //           return 0;
// // // // // // // // // //         }
// // // // // // // // // //         return prev - 1;
// // // // // // // // // //       });
// // // // // // // // // //     }, 1000);

// // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // //   };

// // // // // // // // // //   // Delete member from the database
// // // // // // // // // //   const deleteMemberFromDatabase = async (memberId) => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5001/api/admin/members/${memberId}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "DELETE",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         }
// // // // // // // // // //       );
// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Undo delete functionality
// // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // //       clearInterval(deleteTimer);
// // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // //     }
// // // // // // // // // //     if (deletedMember) {
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     }
// // // // // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // // // // //   };

// // // // // // // // // //   // Toggle view mode
// // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // //   };

// // // // // // // // // //   // Apply filter
// // // // // // // // // //   const applyFilter = () => {
// // // // // // // // // //     setShowFilterModal(false);
// // // // // // // // // //   };

// // // // // // // // // //   // Reset filters
// // // // // // // // // //   const resetFilters = () => {
// // // // // // // // // //     setFilterCriteria({
// // // // // // // // // //       age: "",
// // // // // // // // // //       gender: [],
// // // // // // // // // //       membership_plan: [],
// // // // // // // // // //       status: [],
// // // // // // // // // //       dateRange: { start: "", end: "" },
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   if (isLoading)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //             Loading members...
// // // // // // // // // //           </p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   if (error)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   return (
// // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // //       <div className="w-full grid grid-cols-1">
// // // // // // // // // //         {/* Header Section */}
// // // // // // // // // //         <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8 sticky top-0 bg-gray-900 z-50">
// // // // // // // // // //           <div className="flex items-center">
// // // // // // // // // //             <button
// // // // // // // // // //               onClick={() => router.push("/dashboard")}
// // // // // // // // // //               className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //             >
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={2}
// // // // // // // // // //                   d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //             </button>
// // // // // // // // // //             <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // //               Members List
// // // // // // // // // //             </h1>
// // // // // // // // // //           </div>

// // // // // // // // // //           <div className="flex items-center space-x-4">
// // // // // // // // // //             <button
// // // // // // // // // //               onClick={toggleViewMode}
// // // // // // // // // //               className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //             >
// // // // // // // // // //               {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // //             </button>
// // // // // // // // // //             <button
// // // // // // // // // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // //               className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //             >
// // // // // // // // // //               <span className="flex items-center">
// // // // // // // // // //                 <svg
// // // // // // // // // //                   xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                   className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // //                   fill="none"
// // // // // // // // // //                   viewBox="0 0 24 24"
// // // // // // // // // //                   stroke="currentColor"
// // // // // // // // // //                 >
// // // // // // // // // //                   <path
// // // // // // // // // //                     strokeLinecap="round"
// // // // // // // // // //                     strokeLinejoin="round"
// // // // // // // // // //                     strokeWidth={1.5}
// // // // // // // // // //                     d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // //                   />
// // // // // // // // // //                 </svg>
// // // // // // // // // //                 <span className="font-medium">Filter View</span>
// // // // // // // // // //               </span>
// // // // // // // // // //             </button>
// // // // // // // // // //             <button
// // // // // // // // // //               onClick={() => router.push("/add-member")}
// // // // // // // // // //               className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // // // //             >
// // // // // // // // // //               <Plus size={20} />
// // // // // // // // // //               <span>Add Member</span>
// // // // // // // // // //             </button>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>

// // // // // // // // // //         {/* Search Bar */}
// // // // // // // // // //         <div className="w-full px-8 pt-10 sticky top-20 bg-gray-900 z-40">
// // // // // // // // // //           <div
// // // // // // // // // //             className={`relative transition-all duration-500 ${
// // // // // // // // // //               searchFocused ? "scale-105" : ""
// // // // // // // // // //             }`}
// // // // // // // // // //           >
// // // // // // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // // //                   searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // // //                 }`}
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //                 strokeWidth={1.5}
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //             </span>
// // // // // // // // // //             <input
// // // // // // // // // //               type="text"
// // // // // // // // // //               placeholder="Search by name, email, or status"
// // // // // // // // // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // // //               value={searchTerm}
// // // // // // // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // //               onFocus={() => setSearchFocused(true)}
// // // // // // // // // //               onBlur={() => setSearchFocused(false)}
// // // // // // // // // //             />
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>

// // // // // // // // // //         {/* Clear Filters Button */}
// // // // // // // // // //         {(filterCriteria.age ||
// // // // // // // // // //           filterCriteria.gender.length > 0 ||
// // // // // // // // // //           filterCriteria.membership_plan.length > 0 ||
// // // // // // // // // //           filterCriteria.status.length > 0 ||
// // // // // // // // // //           filterCriteria.dateRange.start ||
// // // // // // // // // //           filterCriteria.dateRange.end) && (
// // // // // // // // // //           <div className="w-full px-8 pt-4">
// // // // // // // // // //             <button
// // // // // // // // // //               onClick={resetFilters}
// // // // // // // // // //               className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //             >
// // // // // // // // // //               Clear Filters
// // // // // // // // // //             </button>
// // // // // // // // // //           </div>
// // // // // // // // // //         )}

// // // // // // // // // //         {/* Members Table */}
// // // // // // // // // //         {viewMode === "table" ? (
// // // // // // // // // //           <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //             {filteredMembers.length === 0 ? (
// // // // // // // // // //               <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // //                 <svg
// // // // // // // // // //                   xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                   className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // //                   fill="none"
// // // // // // // // // //                   viewBox="0 0 24 24"
// // // // // // // // // //                   stroke="currentColor"
// // // // // // // // // //                 >
// // // // // // // // // //                   <path
// // // // // // // // // //                     strokeLinecap="round"
// // // // // // // // // //                     strokeLinejoin="round"
// // // // // // // // // //                     strokeWidth={1}
// // // // // // // // // //                     d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // //                   />
// // // // // // // // // //                 </svg>
// // // // // // // // // //                 <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //                   No members found.
// // // // // // // // // //                 </p>
// // // // // // // // // //               </div>
// // // // // // // // // //             ) : (
// // // // // // // // // //               <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // //                 <div className="overflow-x-auto">
// // // // // // // // // //                   <table className="w-full divide-y divide-gray-800">
// // // // // // // // // //                     <thead>
// // // // // // // // // //                       <tr className="bg-gray-900/50">
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           ID
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Photo
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Name
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Email
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Age
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Gender
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Phone
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Membership Plan
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Trainer
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Status
// // // // // // // // // //                         </th>
// // // // // // // // // //                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                           Actions
// // // // // // // // // //                         </th>
// // // // // // // // // //                       </tr>
// // // // // // // // // //                     </thead>
// // // // // // // // // //                     <tbody className="divide-y divide-gray-800">
// // // // // // // // // //                       {filteredMembers.map((member, index) => (
// // // // // // // // // //                         <tr
// // // // // // // // // //                           key={member._id}
// // // // // // // // // //                           className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // //                         >
// // // // // // // // // //                           <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // //                             {index + 1}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm">
// // // // // // // // // //                             <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // //                               <User size={20} />
// // // // // // // // // //                             </div>
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <input
// // // // // // // // // //                                 type="text"
// // // // // // // // // //                                 name="name"
// // // // // // // // // //                                 value={formData.name}
// // // // // // // // // //                                 onChange={handleChange}
// // // // // // // // // //                                 className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                               />
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               member.name
// // // // // // // // // //                             )}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <input
// // // // // // // // // //                                 type="email"
// // // // // // // // // //                                 name="email"
// // // // // // // // // //                                 value={formData.email}
// // // // // // // // // //                                 onChange={handleChange}
// // // // // // // // // //                                 className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                               />
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               member.email
// // // // // // // // // //                             )}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <input
// // // // // // // // // //                                 type="number"
// // // // // // // // // //                                 name="age"
// // // // // // // // // //                                 value={formData.age}
// // // // // // // // // //                                 onChange={handleChange}
// // // // // // // // // //                                 className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                               />
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               member.age
// // // // // // // // // //                             )}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <select
// // // // // // // // // //                                 name="gender"
// // // // // // // // // //                                 value={formData.gender}
// // // // // // // // // //                                 onChange={handleChange}
// // // // // // // // // //                                 className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <option value="Male">Male</option>
// // // // // // // // // //                                 <option value="Female">Female</option>
// // // // // // // // // //                                 <option value="Other">Other</option>
// // // // // // // // // //                               </select>
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               member.gender
// // // // // // // // // //                             )}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <input
// // // // // // // // // //                                 type="text"
// // // // // // // // // //                                 name="phone"
// // // // // // // // // //                                 value={formData.phone}
// // // // // // // // // //                                 onChange={handleChange}
// // // // // // // // // //                                 className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                               />
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               member.phone
// // // // // // // // // //                             )}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <select
// // // // // // // // // //                                 name="membership_plan"
// // // // // // // // // //                                 value={formData.membership_plan}
// // // // // // // // // //                                 onChange={handleChange}
// // // // // // // // // //                                 className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <option value="Monthly">Monthly</option>
// // // // // // // // // //                                 <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                                 <option value="Yearly">Yearly</option>
// // // // // // // // // //                               </select>
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               member.membership_plan
// // // // // // // // // //                             )}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <select
// // // // // // // // // //                                 name="trainer"
// // // // // // // // // //                                 value={formData.trainer}
// // // // // // // // // //                                 onChange={handleChange}
// // // // // // // // // //                                 className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                                 <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                                 <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                               </select>
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               member.trainer
// // // // // // // // // //                             )}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <input
// // // // // // // // // //                                 type="text"
// // // // // // // // // //                                 name="status"
// // // // // // // // // //                                 value={formData.status}
// // // // // // // // // //                                 onChange={handleChange}
// // // // // // // // // //                                 className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                               />
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               <span
// // // // // // // // // //                                 className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // //                                   member.status === "Active"
// // // // // // // // // //                                     ? "text-green-300 border border-green-500"
// // // // // // // // // //                                     : member.status === "Inactive"
// // // // // // // // // //                                     ? "text-yellow-300 border border-yellow-500"
// // // // // // // // // //                                     : "text-red-300 border border-red-500"
// // // // // // // // // //                                 } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // //                               >
// // // // // // // // // //                                 {member.status}
// // // // // // // // // //                               </span>
// // // // // // // // // //                             )}
// // // // // // // // // //                           </td>
// // // // // // // // // //                           <td className="py-5 px-6 text-sm">
// // // // // // // // // //                             <div className="flex space-x-2">
// // // // // // // // // //                               {editingMember === member._id ? (
// // // // // // // // // //                                 <button
// // // // // // // // // //                                   onClick={handleSave}
// // // // // // // // // //                                   className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                                 >
// // // // // // // // // //                                   <Save size={16} />
// // // // // // // // // //                                 </button>
// // // // // // // // // //                               ) : (
// // // // // // // // // //                                 <button
// // // // // // // // // //                                   onClick={() => handleEdit(member)}
// // // // // // // // // //                                   className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                                 >
// // // // // // // // // //                                   <Edit size={16} />
// // // // // // // // // //                                 </button>
// // // // // // // // // //                               )}
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={() => confirmDelete(member)}
// // // // // // // // // //                                 className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Trash size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             </div>
// // // // // // // // // //                           </td>
// // // // // // // // // //                         </tr>
// // // // // // // // // //                       ))}
// // // // // // // // // //                     </tbody>
// // // // // // // // // //                   </table>
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //             )}
// // // // // // // // // //           </div>
// // // // // // // // // //         ) : (
// // // // // // // // // //           // Card View
// // // // // // // // // //           <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //             <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // // // // //               {filteredMembers.map((member) => (
// // // // // // // // // //                 <div
// // // // // // // // // //                   key={member._id}
// // // // // // // // // //                   className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // // // // //                 >
// // // // // // // // // //                   <div className="flex items-center space-x-4">
// // // // // // // // // //                     <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // // // // //                       <User size={20} />
// // // // // // // // // //                     </div>
// // // // // // // // // //                     <div>
// // // // // // // // // //                       <h3 className="text-lg font-medium text-white">
// // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // //                           <input
// // // // // // // // // //                             type="text"
// // // // // // // // // //                             name="name"
// // // // // // // // // //                             value={formData.name}
// // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // //                             className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                           />
// // // // // // // // // //                         ) : (
// // // // // // // // // //                           member.name
// // // // // // // // // //                         )}
// // // // // // // // // //                       </h3>
// // // // // // // // // //                       <p className="text-sm text-gray-300">
// // // // // // // // // //                         {editingMember === member._id ? (
// // // // // // // // // //                           <input
// // // // // // // // // //                             type="email"
// // // // // // // // // //                             name="email"
// // // // // // // // // //                             value={formData.email}
// // // // // // // // // //                             onChange={handleChange}
// // // // // // // // // //                             className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                           />
// // // // // // // // // //                         ) : (
// // // // // // // // // //                           member.email
// // // // // // // // // //                         )}
// // // // // // // // // //                       </p>
// // // // // // // // // //                     </div>
// // // // // // // // // //                   </div>
// // // // // // // // // //                   <div className="mt-4 space-y-2">
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       <span className="font-medium">Age:</span>{" "}
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="number"
// // // // // // // // // //                           name="age"
// // // // // // // // // //                           value={formData.age}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.age
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       <span className="font-medium">Gender:</span>{" "}
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <select
// // // // // // // // // //                           name="gender"
// // // // // // // // // //                           value={formData.gender}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         >
// // // // // // // // // //                           <option value="Male">Male</option>
// // // // // // // // // //                           <option value="Female">Female</option>
// // // // // // // // // //                           <option value="Other">Other</option>
// // // // // // // // // //                         </select>
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.gender
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       <span className="font-medium">Phone:</span>{" "}
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="text"
// // // // // // // // // //                           name="phone"
// // // // // // // // // //                           value={formData.phone}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.phone
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <select
// // // // // // // // // //                           name="membership_plan"
// // // // // // // // // //                           value={formData.membership_plan}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         >
// // // // // // // // // //                           <option value="Monthly">Monthly</option>
// // // // // // // // // //                           <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                           <option value="Yearly">Yearly</option>
// // // // // // // // // //                         </select>
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.membership_plan
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       <span className="font-medium">Trainer:</span>{" "}
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <select
// // // // // // // // // //                           name="trainer"
// // // // // // // // // //                           value={formData.trainer}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         >
// // // // // // // // // //                           <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                           <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                           <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                         </select>
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.trainer
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       <span className="font-medium">Status:</span>{" "}
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="text"
// // // // // // // // // //                           name="status"
// // // // // // // // // //                           value={formData.status}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.status
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                   </div>
// // // // // // // // // //                   <div className="mt-4 flex space-x-2">
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <button
// // // // // // // // // //                         onClick={handleSave}
// // // // // // // // // //                         className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                       >
// // // // // // // // // //                         <Save size={16} />
// // // // // // // // // //                       </button>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       <button
// // // // // // // // // //                         onClick={() => handleEdit(member)}
// // // // // // // // // //                         className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                       >
// // // // // // // // // //                         <Edit size={16} />
// // // // // // // // // //                       </button>
// // // // // // // // // //                     )}
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={() => confirmDelete(member)}
// // // // // // // // // //                       className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Trash size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   </div>
// // // // // // // // // //                 </div>
// // // // // // // // // //               ))}
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         )}

// // // // // // // // // //         {/* Undo Delete Notification */}
// // // // // // // // // //         {deletedMember && (
// // // // // // // // // //           <div className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //             <span>Member deleted. Undo in {undoTimer} seconds</span>
// // // // // // // // // //             <button
// // // // // // // // // //               onClick={handleUndoDelete}
// // // // // // // // // //               className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // //             >
// // // // // // // // // //               <Undo size={14} /> Undo
// // // // // // // // // //             </button>
// // // // // // // // // //           </div>
// // // // // // // // // //         )}

// // // // // // // // // //         {/* Confirm Delete Dialog */}
// // // // // // // // // //         {showConfirmDialog && (
// // // // // // // // // //           <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // //             <div className="bg-gray-800 p-6 rounded-lg shadow-lg">
// // // // // // // // // //               <h3 className="text-white text-lg font-bold mb-4">
// // // // // // // // // //                 Are you sure you want to delete this member?
// // // // // // // // // //               </h3>
// // // // // // // // // //               <div className="flex justify-end space-x-4">
// // // // // // // // // //                 <button
// // // // // // // // // //                   onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // //                   className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // //                 >
// // // // // // // // // //                   Cancel
// // // // // // // // // //                 </button>
// // // // // // // // // //                 <button
// // // // // // // // // //                   onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // //                   className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //                 >
// // // // // // // // // //                   Delete
// // // // // // // // // //                 </button>
// // // // // // // // // //               </div>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         )}

// // // // // // // // // //         {/* Filter Modal */}

// // // // // // // // // //         {showFilterModal && (
// // // // // // // // // //   <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // //     <div className="bg-gray-800 p-6 rounded-lg shadow-lg w-[600px]"> {/* Increased width */}
// // // // // // // // // //       <h3 className="text-white text-lg font-bold mb-4">Advanced Filters</h3>
// // // // // // // // // //       <div className="space-y-4">
// // // // // // // // // //         {/* Age Filter */}
// // // // // // // // // //         <div>
// // // // // // // // // //           <label className="block text-sm font-medium text-gray-300">Age</label>
// // // // // // // // // //           <select
// // // // // // // // // //             className="bg-gray-700 text-white p-2 rounded w-full"
// // // // // // // // // //             value={filterCriteria.age}
// // // // // // // // // //             onChange={(e) =>
// // // // // // // // // //               setFilterCriteria({ ...filterCriteria, age: e.target.value })
// // // // // // // // // //             }
// // // // // // // // // //           >
// // // // // // // // // //             <option value="">Select Age</option>
// // // // // // // // // //             {Array.from({ length: 100 }, (_, i) => (
// // // // // // // // // //               <option key={i} value={i + 1}>
// // // // // // // // // //                 {i + 1}
// // // // // // // // // //               </option>
// // // // // // // // // //             ))}
// // // // // // // // // //           </select>
// // // // // // // // // //         </div>

// // // // // // // // // //         {/* Gender Filter */}
// // // // // // // // // //         <div>
// // // // // // // // // //           <label className="block text-sm font-medium text-gray-300">Gender</label>
// // // // // // // // // //           <select
// // // // // // // // // //             className="bg-gray-700 text-white p-2 rounded w-full"
// // // // // // // // // //             value={filterCriteria.gender}
// // // // // // // // // //             onChange={(e) =>
// // // // // // // // // //               setFilterCriteria({
// // // // // // // // // //                 ...filterCriteria,
// // // // // // // // // //                 gender: e.target.value ? [e.target.value] : [],
// // // // // // // // // //               })
// // // // // // // // // //             }
// // // // // // // // // //           >
// // // // // // // // // //             <option value="">Select Gender</option>
// // // // // // // // // //             <option value="Male">Male</option>
// // // // // // // // // //             <option value="Female">Female</option>
// // // // // // // // // //             <option value="Other">Other</option>
// // // // // // // // // //           </select>
// // // // // // // // // //         </div>

// // // // // // // // // //         {/* Membership Plan Filter */}
// // // // // // // // // //         <div>
// // // // // // // // // //           <label className="block text-sm font-medium text-gray-300">Membership Plan</label>
// // // // // // // // // //           <select
// // // // // // // // // //             className="bg-gray-700 text-white p-2 rounded w-full"
// // // // // // // // // //             value={filterCriteria.membership_plan}
// // // // // // // // // //             onChange={(e) =>
// // // // // // // // // //               setFilterCriteria({
// // // // // // // // // //                 ...filterCriteria,
// // // // // // // // // //                 membership_plan: e.target.value ? [e.target.value] : [],
// // // // // // // // // //               })
// // // // // // // // // //             }
// // // // // // // // // //           >
// // // // // // // // // //             <option value="">Select Membership Plan</option>
// // // // // // // // // //             <option value="Monthly">Monthly</option>
// // // // // // // // // //             <option value="Quarterly">Quarterly</option>
// // // // // // // // // //             <option value="Yearly">Yearly</option>
// // // // // // // // // //           </select>
// // // // // // // // // //         </div>

// // // // // // // // // //         {/* Status Filter */}
// // // // // // // // // //         <div>
// // // // // // // // // //           <label className="block text-sm font-medium text-gray-300">Status</label>
// // // // // // // // // //           <select
// // // // // // // // // //             className="bg-gray-700 text-white p-2 rounded w-full"
// // // // // // // // // //             value={filterCriteria.status}
// // // // // // // // // //             onChange={(e) =>
// // // // // // // // // //               setFilterCriteria({
// // // // // // // // // //                 ...filterCriteria,
// // // // // // // // // //                 status: e.target.value ? [e.target.value] : [],
// // // // // // // // // //               })
// // // // // // // // // //             }
// // // // // // // // // //           >
// // // // // // // // // //             <option value="">Select Status</option>
// // // // // // // // // //             <option value="Active">Active</option>
// // // // // // // // // //             <option value="Inactive">Inactive</option>
// // // // // // // // // //             <option value="Suspended">Suspended</option>
// // // // // // // // // //           </select>
// // // // // // // // // //         </div>

// // // // // // // // // //         {/* Joined Date Range Filter */}
// // // // // // // // // //         <div>
// // // // // // // // // //           <label className="block text-sm font-medium text-gray-300">Joined Date Range</label>
// // // // // // // // // //           <div className="grid grid-cols-2 gap-4">
// // // // // // // // // //             <div>
// // // // // // // // // //               <label className="block text-xs text-gray-500 mb-1">From</label>
// // // // // // // // // //               <input
// // // // // // // // // //                 type="date"
// // // // // // // // // //                 className="bg-gray-700 text-white p-2 rounded w-full"
// // // // // // // // // //                 value={filterCriteria.dateRange.start}
// // // // // // // // // //                 onChange={(e) =>
// // // // // // // // // //                   setFilterCriteria({
// // // // // // // // // //                     ...filterCriteria,
// // // // // // // // // //                     dateRange: { ...filterCriteria.dateRange, start: e.target.value },
// // // // // // // // // //                   })
// // // // // // // // // //                 }
// // // // // // // // // //               />
// // // // // // // // // //             </div>
// // // // // // // // // //             <div>
// // // // // // // // // //               <label className="block text-xs text-gray-500 mb-1">To</label>
// // // // // // // // // //               <input
// // // // // // // // // //                 type="date"
// // // // // // // // // //                 className="bg-gray-700 text-white p-2 rounded w-full"
// // // // // // // // // //                 value={filterCriteria.dateRange.end}
// // // // // // // // // //                 onChange={(e) =>
// // // // // // // // // //                   setFilterCriteria({
// // // // // // // // // //                     ...filterCriteria,
// // // // // // // // // //                     dateRange: { ...filterCriteria.dateRange, end: e.target.value },
// // // // // // // // // //                   })
// // // // // // // // // //                 }
// // // // // // // // // //               />
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>

// // // // // // // // // //         {/* Apply and Reset Filters */}
// // // // // // // // // //         <div className="flex justify-between">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={applyFilter}
// // // // // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             Apply Filters
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={resetFilters}
// // // // // // // // // //             className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // //           >
// // // // // // // // // //             Clear Filters
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     </div>
// // // // // // // // // //   </div>
// // // // // // // // // // )}
// // // // // // // // // //         {/* Save Success Notification */}
// // // // // // // // // //         {saveSuccess && (
// // // // // // // // // //           <div className="fixed bottom-4 right-4 bg-green-500 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //             <span>Saved successfully!</span>
// // // // // // // // // //           </div>
// // // // // // // // // //         )}
// // // // // // // // // //       </div>
// // // // // // // // // //     </div>
// // // // // // // // // //   );
// // // // // // // // // // };

// // // // // // // // // // export default MembersPage;
// // // // // // // // // // "use client";

// // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // // // const MembersPage = () => {
// // // // // // // // // //   const router = useRouter();
// // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: [],
// // // // // // // // // //     membership_plan: [],
// // // // // // // // // //     status: [],
// // // // // // // // // //     dateRange: { start: "", end: "" },
// // // // // // // // // //   });
// // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // //     name: "",
// // // // // // // // // //     email: "",
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: "",
// // // // // // // // // //     phone: "",
// // // // // // // // // //     membership_plan: "",
// // // // // // // // // //     trainer: "",
// // // // // // // // // //     photo: null,
// // // // // // // // // //     status: "Active",
// // // // // // // // // //   });
// // // // // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // //   useEffect(() => {
// // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // //       try {
// // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // //           method: "GET",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         });
// // // // // // // // // //         if (!response.ok) {
// // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //         }
// // // // // // // // // //         const data = await response.json();
// // // // // // // // // //         setMembers(data);
// // // // // // // // // //         setError(null);
// // // // // // // // // //       } catch (err) {
// // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // //       } finally {
// // // // // // // // // //         setIsLoading(false);
// // // // // // // // // //       }
// // // // // // // // // //     };

// // // // // // // // // //     fetchMembers();
// // // // // // // // // //   }, []);

// // // // // // // // // //   // Handle search
// // // // // // // // // //   const filteredMembers = members.filter((member) => {
// // // // // // // // // //     const name = member.name || "";
// // // // // // // // // //     const email = member.email || "";
// // // // // // // // // //     const status = member.status || "";

// // // // // // // // // //     // Search filter (case-insensitive)
// // // // // // // // // //     const matchesSearch =
// // // // // // // // // //       searchTerm === "" ||
// // // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // // // //     // Age filter
// // // // // // // // // //     const ageMatch =
// // // // // // // // // //       filterCriteria.age === "" ||
// // // // // // // // // //       (member.age !== null &&
// // // // // // // // // //         member.age !== undefined &&
// // // // // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // // // // //     // Gender filter (multiple selection)
// // // // // // // // // //     const genderMatch =
// // // // // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // // // // //     const membershipPlanMatch =
// // // // // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // // // // //     // Status filter (multiple selection)
// // // // // // // // // //     const statusMatch =
// // // // // // // // // //       filterCriteria.status.length === 0 ||
// // // // // // // // // //       filterCriteria.status.includes(member.status);

// // // // // // // // // //     // Date range filter
// // // // // // // // // //     const memberDate = new Date(member.joinedDate); // Assuming `joinedDate` is a field
// // // // // // // // // //     const matchesDateStart =
// // // // // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // // // // //       memberDate >= new Date(filterCriteria.dateRange.start);
// // // // // // // // // //     const matchesDateEnd =
// // // // // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // // // // //       memberDate <= new Date(filterCriteria.dateRange.end);

// // // // // // // // // //     // Return true only if all filters match
// // // // // // // // // //     return (
// // // // // // // // // //       matchesSearch &&
// // // // // // // // // //       ageMatch &&
// // // // // // // // // //       genderMatch &&
// // // // // // // // // //       membershipPlanMatch &&
// // // // // // // // // //       statusMatch &&
// // // // // // // // // //       matchesDateStart &&
// // // // // // // // // //       matchesDateEnd
// // // // // // // // // //     );
// // // // // // // // // //   });

// // // // // // // // // //   // Handle edit
// // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // //     setFormData({
// // // // // // // // // //       name: member.name || "",
// // // // // // // // // //       email: member.email || "",
// // // // // // // // // //       age: member.age || "",
// // // // // // // // // //       gender: member.gender || "",
// // // // // // // // // //       phone: member.phone || "",
// // // // // // // // // //       membership_plan: member.membership_plan || "",
// // // // // // // // // //       trainer: member.trainer || "",
// // // // // // // // // //       photo: member.photo || null,
// // // // // // // // // //       status: member.status || "Active",
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Handle form changes
// // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // //     setFormData({
// // // // // // // // // //       ...formData,
// // // // // // // // // //       [name]: value,
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Save edited member
// // // // // // // // // //   const handleSave = async (id, updatedData) => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5001/api/admin/members/${editingMember}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "PUT",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // //         }
// // // // // // // // // //       );
// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }
// // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // //       setMembers(
// // // // // // // // // //         members.map((member) =>
// // // // // // // // // //           member._id === updatedMember._id ? updatedMember : member
// // // // // // // // // //         )
// // // // // // // // // //       );
// // // // // // // // // //       setEditingMember(null);
// // // // // // // // // //       setSaveSuccess(true);
// // // // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000); // Hide success message after 3 seconds
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Handle delete
// // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // //   };

// // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // //     const memberToDeleteObj = members.find((m) => m._id === memberId);
// // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // //     setMembers(members.filter((member) => member._id !== memberId));

// // // // // // // // // //     // Start the 5-second timer
// // // // // // // // // //     setUndoTimer(5);
// // // // // // // // // //     const timer = setInterval(() => {
// // // // // // // // // //       setUndoTimer((prev) => {
// // // // // // // // // //         if (prev === 1) {
// // // // // // // // // //           clearInterval(timer);
// // // // // // // // // //           deleteMemberFromDatabase(memberId); // Delete from the database after 5 seconds
// // // // // // // // // //           return 0;
// // // // // // // // // //         }
// // // // // // // // // //         return prev - 1;
// // // // // // // // // //       });
// // // // // // // // // //     }, 1000);

// // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // //   };

// // // // // // // // // //   // Delete member from the database
// // // // // // // // // //   const deleteMemberFromDatabase = async (memberId) => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5001/api/admin/members/${memberId}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "DELETE",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         }
// // // // // // // // // //       );
// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Undo delete functionality
// // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // //       clearInterval(deleteTimer);
// // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // //     }
// // // // // // // // // //     if (deletedMember) {
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     }
// // // // // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // // // // //   };

// // // // // // // // // //   // Toggle view mode
// // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // //   };

// // // // // // // // // //   // Apply filter
// // // // // // // // // //   const applyFilter = () => {
// // // // // // // // // //     setShowFilterModal(false);
// // // // // // // // // //   };

// // // // // // // // // //   // Reset filters
// // // // // // // // // //   const resetFilters = () => {
// // // // // // // // // //     setFilterCriteria({
// // // // // // // // // //       age: "",
// // // // // // // // // //       gender: [],
// // // // // // // // // //       membership_plan: [],
// // // // // // // // // //       status: [],
// // // // // // // // // //       dateRange: { start: "", end: "" },
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   if (isLoading)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //             Loading members...
// // // // // // // // // //           </p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   if (error)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   return (
// // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // //       {/* Header Section */}
// // // // // // // // // //       <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8 sticky top-0 bg-gray-900 z-50">
// // // // // // // // // //         <div className="flex items-center">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/dashboard")}
// // // // // // // // // //             className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 strokeWidth={2}
// // // // // // // // // //                 d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </button>
// // // // // // // // // //           <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // //             Members List
// // // // // // // // // //           </h1>
// // // // // // // // // //         </div>

// // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <span className="flex items-center">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1.5}
// // // // // // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <span className="font-medium">Filter View</span>
// // // // // // // // // //             </span>
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/add-member")}
// // // // // // // // // //             className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             <Plus size={20} />
// // // // // // // // // //             <span>Add Member</span>
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Search Bar */}
// // // // // // // // // //       <div className="w-full px-8 pt-10 sticky top-20 bg-gray-900 z-40">
// // // // // // // // // //         <div
// // // // // // // // // //           className={`relative transition-all duration-500 ${
// // // // // // // // // //             searchFocused ? "scale-105" : ""
// // // // // // // // // //           }`}
// // // // // // // // // //         >
// // // // // // // // // //           <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // // //                 searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // // //               }`}
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //               strokeWidth={1.5}
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </span>
// // // // // // // // // //           <input
// // // // // // // // // //             type="text"
// // // // // // // // // //             placeholder="Search by name, email, or status"
// // // // // // // // // //             className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // // //               border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // // //               dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // // //               text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // // //               transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // // //             value={searchTerm}
// // // // // // // // // //             onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // //             onFocus={() => setSearchFocused(true)}
// // // // // // // // // //             onBlur={() => setSearchFocused(false)}
// // // // // // // // // //           />
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Clear Filters Button */}
// // // // // // // // // //       {(filterCriteria.age ||
// // // // // // // // // //         filterCriteria.gender.length > 0 ||
// // // // // // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // // // // // //         filterCriteria.status.length > 0 ||
// // // // // // // // // //         filterCriteria.dateRange.start ||
// // // // // // // // // //         filterCriteria.dateRange.end) && (
// // // // // // // // // //         <div className="w-full px-8 pt-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={resetFilters}
// // // // // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             Clear Filters
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Members Table */}
// // // // // // // // // //       {viewMode === "table" ? (
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //                 No members found.
// // // // // // // // // //               </p>
// // // // // // // // // //             </div>
// // // // // // // // // //           ) : (
// // // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // // //                   <thead>
// // // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         ID
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Photo
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Name
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Email
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Age
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Gender
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Phone
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Membership Plan
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Trainer
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Status
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Actions
// // // // // // // // // //                       </th>
// // // // // // // // // //                     </tr>
// // // // // // // // // //                   </thead>
// // // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // // //                     {filteredMembers.map((member, index) => (
// // // // // // // // // //                       <tr
// // // // // // // // // //                         key={member._id}
// // // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // //                       >
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // //                           {index + 1}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // //                             <User size={20} />
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="name"
// // // // // // // // // //                               value={formData.name}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.name
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="email"
// // // // // // // // // //                               name="email"
// // // // // // // // // //                               value={formData.email}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.email
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="number"
// // // // // // // // // //                               name="age"
// // // // // // // // // //                               value={formData.age}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.age
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="gender"
// // // // // // // // // //                               value={formData.gender}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.gender
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="phone"
// // // // // // // // // //                               value={formData.phone}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.phone
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="membership_plan"
// // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Monthly">Monthly</option>
// // // // // // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                               <option value="Yearly">Yearly</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.membership_plan
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="trainer"
// // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                               <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                               <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.trainer
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="status"
// // // // // // // // // //                               value={formData.status}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             <span
// // // // // // // // // //                               className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // //                                 member.status === "Active"
// // // // // // // // // //                                   ? "text-green-300 border border-green-500"
// // // // // // // // // //                                   : member.status === "Inactive"
// // // // // // // // // //                                   ? "text-yellow-300 border border-yellow-500"
// // // // // // // // // //                                   : "text-red-300 border border-red-500"
// // // // // // // // // //                               } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // //                             >
// // // // // // // // // //                               {member.status}
// // // // // // // // // //                             </span>
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={handleSave}
// // // // // // // // // //                                 className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Save size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // // //                                 className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Edit size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             )}
// // // // // // // // // //                             <button
// // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                             >
// // // // // // // // // //                               <Trash size={16} />
// // // // // // // // // //                             </button>
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                       </tr>
// // // // // // // // // //                     ))}
// // // // // // // // // //                   </tbody>
// // // // // // // // // //                 </table>
// // // // // // // // // //               </div>
// // // // // // // // // //             </div>
// // // // // // // // // //           )}
// // // // // // // // // //         </div>
// // // // // // // // // //       ) : (
// // // // // // // // // //         // Card View
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // // // // //             {filteredMembers.map((member) => (
// // // // // // // // // //               <div
// // // // // // // // // //                 key={member._id}
// // // // // // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // // // // //               >
// // // // // // // // // //                 <div className="flex items-center space-x-4">
// // // // // // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // // // // //                     <User size={20} />
// // // // // // // // // //                   </div>
// // // // // // // // // //                   <div>
// // // // // // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="text"
// // // // // // // // // //                           name="name"
// // // // // // // // // //                           value={formData.name}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.name
// // // // // // // // // //                       )}
// // // // // // // // // //                     </h3>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="email"
// // // // // // // // // //                           name="email"
// // // // // // // // // //                           value={formData.email}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.email
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                   </div>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 space-y-2">
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="number"
// // // // // // // // // //                         name="age"
// // // // // // // // // //                         value={formData.age}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.age
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="gender"
// // // // // // // // // //                         value={formData.gender}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Male">Male</option>
// // // // // // // // // //                         <option value="Female">Female</option>
// // // // // // // // // //                         <option value="Other">Other</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.gender
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Phone:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="phone"
// // // // // // // // // //                         value={formData.phone}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.phone
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="membership_plan"
// // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Monthly">Monthly</option>
// // // // // // // // // //                         <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                         <option value="Yearly">Yearly</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.membership_plan
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Trainer:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="trainer"
// // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                         <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                         <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.trainer
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Status:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="status"
// // // // // // // // // //                         value={formData.status}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.status
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 flex space-x-2">
// // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Save size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   ) : (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={() => handleEdit(member)}
// // // // // // // // // //                       className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Edit size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   )}
// // // // // // // // // //                   <button
// // // // // // // // // //                     onClick={() => confirmDelete(member)}
// // // // // // // // // //                     className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                   >
// // // // // // // // // //                     <Trash size={16} />
// // // // // // // // // //                   </button>
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //             ))}
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // //       {deletedMember && (
// // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //           <span>Member deleted. Undo in {undoTimer} seconds</span>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // //           >
// // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // //           <div className="bg-gray-800 p-6 rounded-lg shadow-lg">
// // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">
// // // // // // // // // //               Are you sure you want to delete this member?
// // // // // // // // // //             </h3>
// // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Cancel
// // // // // // // // // //               </button>
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Delete
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Save Success Notification */}
// // // // // // // // // //       {saveSuccess && (
// // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-green-500 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //           <span>Saved successfully!</span>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}
// // // // // // // // // //     </div>
// // // // // // // // // //   );
// // // // // // // // // // };

// // // // // // // // // // export default MembersPage;
// // // // // // // // // // "use client";

// // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // // // const MembersPage = () => {
// // // // // // // // // //   const router = useRouter();
// // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: [],
// // // // // // // // // //     membership_plan: [],
// // // // // // // // // //     status: [],
// // // // // // // // // //     dateRange: { start: "", end: "" },
// // // // // // // // // //   });
// // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // //     name: "",
// // // // // // // // // //     email: "",
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: "",
// // // // // // // // // //     phone: "",
// // // // // // // // // //     membership_plan: "",
// // // // // // // // // //     trainer: "",
// // // // // // // // // //     photo: null,
// // // // // // // // // //     status: "Active",
// // // // // // // // // //   });
// // // // // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // //   useEffect(() => {
// // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // //       try {
// // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // //           method: "GET",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         });
// // // // // // // // // //         if (!response.ok) {
// // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //         }
// // // // // // // // // //         const data = await response.json();
// // // // // // // // // //         console.log("API Response:", data); // Log the API response
// // // // // // // // // //         setMembers(data || []); // Ensure members is always an array
// // // // // // // // // //         setError(null);
// // // // // // // // // //       } catch (err) {
// // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // //       } finally {
// // // // // // // // // //         setIsLoading(false);
// // // // // // // // // //       }
// // // // // // // // // //     };

// // // // // // // // // //     fetchMembers();
// // // // // // // // // //   }, []);

// // // // // // // // // //   // Handle search
// // // // // // // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // // // // // // //     const name = member.name || "";
// // // // // // // // // //     const email = member.email || "";
// // // // // // // // // //     const status = member.status || "";

// // // // // // // // // //     // Search filter (case-insensitive)
// // // // // // // // // //     const matchesSearch =
// // // // // // // // // //       searchTerm === "" ||
// // // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // // // //     // Age filter
// // // // // // // // // //     const ageMatch =
// // // // // // // // // //       filterCriteria.age === "" ||
// // // // // // // // // //       (member.age !== null &&
// // // // // // // // // //         member.age !== undefined &&
// // // // // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // // // // //     // Gender filter (multiple selection)
// // // // // // // // // //     const genderMatch =
// // // // // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // // // // //     const membershipPlanMatch =
// // // // // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // // // // //     // Status filter (multiple selection)
// // // // // // // // // //     const statusMatch =
// // // // // // // // // //       filterCriteria.status.length === 0 ||
// // // // // // // // // //       filterCriteria.status.includes(member.status);

// // // // // // // // // //     // Date range filter
// // // // // // // // // //     const memberDate = new Date(member.joinedDate); // Assuming `joinedDate` is a field
// // // // // // // // // //     const matchesDateStart =
// // // // // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // // // // //       memberDate >= new Date(filterCriteria.dateRange.start);
// // // // // // // // // //     const matchesDateEnd =
// // // // // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // // // // //       memberDate <= new Date(filterCriteria.dateRange.end);

// // // // // // // // // //     // Return true only if all filters match
// // // // // // // // // //     return (
// // // // // // // // // //       matchesSearch &&
// // // // // // // // // //       ageMatch &&
// // // // // // // // // //       genderMatch &&
// // // // // // // // // //       membershipPlanMatch &&
// // // // // // // // // //       statusMatch &&
// // // // // // // // // //       matchesDateStart &&
// // // // // // // // // //       matchesDateEnd
// // // // // // // // // //     );
// // // // // // // // // //   });

// // // // // // // // // //   // Handle edit
// // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // //     setFormData({
// // // // // // // // // //       name: member.name || "",
// // // // // // // // // //       email: member.email || "",
// // // // // // // // // //       age: member.age || "",
// // // // // // // // // //       gender: member.gender || "",
// // // // // // // // // //       phone: member.phone || "",
// // // // // // // // // //       membership_plan: member.membership_plan || "",
// // // // // // // // // //       trainer: member.trainer || "",
// // // // // // // // // //       photo: member.photo || null,
// // // // // // // // // //       status: member.status || "Active",
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Handle form changes
// // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // //     setFormData({
// // // // // // // // // //       ...formData,
// // // // // // // // // //       [name]: value,
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Save edited member
// // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5001/api/admin/members/${editingMember}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "PUT",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //           body: JSON.stringify(formData), // Ensure formData contains the updated fields
// // // // // // // // // //         }
// // // // // // // // // //       );

// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }

// // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // //       console.log("Updated Member:", updatedMember); // Log the response

// // // // // // // // // //       // Update the local state with the updated member
// // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // //         prevMembers.map((member) =>
// // // // // // // // // //           member._id === updatedMember._id ? updatedMember : member
// // // // // // // // // //         )
// // // // // // // // // //       );

// // // // // // // // // //       setEditingMember(null);
// // // // // // // // // //       setSaveSuccess(true);
// // // // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000);
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Handle delete
// // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // //   };

// // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // //     const memberToDeleteObj = members.find((m) => m._id === memberId);
// // // // // // // // // //     if (!memberToDeleteObj) {
// // // // // // // // // //       console.error("Member not found");
// // // // // // // // // //       return;
// // // // // // // // // //     }
// // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // //     setMembers(members.filter((member) => member._id !== memberId));

// // // // // // // // // //     // Start the 5-second timer
// // // // // // // // // //     setUndoTimer(5);
// // // // // // // // // //     const timer = setInterval(() => {
// // // // // // // // // //       setUndoTimer((prev) => {
// // // // // // // // // //         if (prev === 1) {
// // // // // // // // // //           clearInterval(timer);
// // // // // // // // // //           deleteMemberFromDatabase(memberId); // Delete from the database after 5 seconds
// // // // // // // // // //           return 0;
// // // // // // // // // //         }
// // // // // // // // // //         return prev - 1;
// // // // // // // // // //       });
// // // // // // // // // //     }, 1000);

// // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // //   };

// // // // // // // // // //   // Delete member from the database
// // // // // // // // // //   const deleteMemberFromDatabase = async (memberId) => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5001/api/admin/members/${memberId}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "DELETE",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         }
// // // // // // // // // //       );
// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Undo delete functionality
// // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // //       clearInterval(deleteTimer);
// // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // //     }
// // // // // // // // // //     if (deletedMember) {
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     }
// // // // // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // // // // //   };

// // // // // // // // // //   // Toggle view mode
// // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // //   };

// // // // // // // // // //   // Apply filter
// // // // // // // // // //   const applyFilter = () => {
// // // // // // // // // //     setShowFilterModal(false);
// // // // // // // // // //   };

// // // // // // // // // //   // Reset filters
// // // // // // // // // //   const resetFilters = () => {
// // // // // // // // // //     setFilterCriteria({
// // // // // // // // // //       age: "",
// // // // // // // // // //       gender: [],
// // // // // // // // // //       membership_plan: [],
// // // // // // // // // //       status: [],
// // // // // // // // // //       dateRange: { start: "", end: "" },
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   if (isLoading)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //             Loading members...
// // // // // // // // // //           </p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   if (error)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   return (
// // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // //       {/* Header Section */}
// // // // // // // // // //       <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8 sticky top-0 bg-gray-900 z-50">
// // // // // // // // // //         <div className="flex items-center">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/dashboard")}
// // // // // // // // // //             className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 strokeWidth={2}
// // // // // // // // // //                 d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </button>
// // // // // // // // // //           <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // //             Members List
// // // // // // // // // //           </h1>
// // // // // // // // // //         </div>

// // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <span className="flex items-center">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1.5}
// // // // // // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <span className="font-medium">Filter View</span>
// // // // // // // // // //             </span>
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/add-member")}
// // // // // // // // // //             className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             <Plus size={20} />
// // // // // // // // // //             <span>Add Member</span>
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Search Bar */}
// // // // // // // // // //       <div className="w-full px-8 pt-10 sticky top-20 bg-gray-900 z-40">
// // // // // // // // // //         <div
// // // // // // // // // //           className={`relative transition-all duration-500 ${
// // // // // // // // // //             searchFocused ? "scale-105" : ""
// // // // // // // // // //           }`}
// // // // // // // // // //         >
// // // // // // // // // //           <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // // //                 searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // // //               }`}
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //               strokeWidth={1.5}
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </span>
// // // // // // // // // //           <input
// // // // // // // // // //             type="text"
// // // // // // // // // //             placeholder="Search by name, email, or status"
// // // // // // // // // //             className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // // //               border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // // //               dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // // //               text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // // //               transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // // //             value={searchTerm}
// // // // // // // // // //             onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // //             onFocus={() => setSearchFocused(true)}
// // // // // // // // // //             onBlur={() => setSearchFocused(false)}
// // // // // // // // // //           />
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Clear Filters Button */}
// // // // // // // // // //       {(filterCriteria.age ||
// // // // // // // // // //         filterCriteria.gender.length > 0 ||
// // // // // // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // // // // // //         filterCriteria.status.length > 0 ||
// // // // // // // // // //         filterCriteria.dateRange.start ||
// // // // // // // // // //         filterCriteria.dateRange.end) && (
// // // // // // // // // //         <div className="w-full px-8 pt-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={resetFilters}
// // // // // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             Clear Filters
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Members Table */}
// // // // // // // // // //       {viewMode === "table" ? (
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //                 No members found.
// // // // // // // // // //               </p>
// // // // // // // // // //             </div>
// // // // // // // // // //           ) : (
// // // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // // //                   <thead>
// // // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         ID
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Photo
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Name
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Email
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Age
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Gender
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Phone
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Membership Plan
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Trainer
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Status
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Actions
// // // // // // // // // //                       </th>
// // // // // // // // // //                     </tr>
// // // // // // // // // //                   </thead>
// // // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // // //                     {filteredMembers.map((member, index) => (
// // // // // // // // // //                       <tr
// // // // // // // // // //                         key={member._id}
// // // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // //                       >
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // //                           {index + 1}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // //                             <User size={20} />
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="name"
// // // // // // // // // //                               value={formData.name}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.name
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="email"
// // // // // // // // // //                               name="email"
// // // // // // // // // //                               value={formData.email}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.email
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="number"
// // // // // // // // // //                               name="age"
// // // // // // // // // //                               value={formData.age}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.age
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="gender"
// // // // // // // // // //                               value={formData.gender}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.gender
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="phone"
// // // // // // // // // //                               value={formData.phone}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.phone
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="membership_plan"
// // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Monthly">Monthly</option>
// // // // // // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                               <option value="Yearly">Yearly</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.membership_plan
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="trainer"
// // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                               <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                               <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.trainer
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="status"
// // // // // // // // // //                               value={formData.status}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             <span
// // // // // // // // // //                               className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // //                                 member.status === "Active"
// // // // // // // // // //                                   ? "text-green-300 border border-green-500"
// // // // // // // // // //                                   : member.status === "Inactive"
// // // // // // // // // //                                   ? "text-yellow-300 border border-yellow-500"
// // // // // // // // // //                                   : "text-red-300 border border-red-500"
// // // // // // // // // //                               } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // //                             >
// // // // // // // // // //                               {member.status}
// // // // // // // // // //                             </span>
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={handleSave}
// // // // // // // // // //                                 className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Save size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // // //                                 className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Edit size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             )}
// // // // // // // // // //                             <button
// // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                             >
// // // // // // // // // //                               <Trash size={16} />
// // // // // // // // // //                             </button>
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                       </tr>
// // // // // // // // // //                     ))}
// // // // // // // // // //                   </tbody>
// // // // // // // // // //                 </table>
// // // // // // // // // //               </div>
// // // // // // // // // //             </div>
// // // // // // // // // //           )}
// // // // // // // // // //         </div>
// // // // // // // // // //       ) : (
// // // // // // // // // //         // Card View
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // // // // //             {filteredMembers.map((member) => (
// // // // // // // // // //               <div
// // // // // // // // // //                 key={member._id}
// // // // // // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // // // // //               >
// // // // // // // // // //                 <div className="flex items-center space-x-4">
// // // // // // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // // // // //                     <User size={20} />
// // // // // // // // // //                   </div>
// // // // // // // // // //                   <div>
// // // // // // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="text"
// // // // // // // // // //                           name="name"
// // // // // // // // // //                           value={formData.name}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.name
// // // // // // // // // //                       )}
// // // // // // // // // //                     </h3>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="email"
// // // // // // // // // //                           name="email"
// // // // // // // // // //                           value={formData.email}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.email
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                   </div>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 space-y-2">
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="number"
// // // // // // // // // //                         name="age"
// // // // // // // // // //                         value={formData.age}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.age
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="gender"
// // // // // // // // // //                         value={formData.gender}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Male">Male</option>
// // // // // // // // // //                         <option value="Female">Female</option>
// // // // // // // // // //                         <option value="Other">Other</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.gender
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Phone:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="phone"
// // // // // // // // // //                         value={formData.phone}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.phone
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="membership_plan"
// // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Monthly">Monthly</option>
// // // // // // // // // //                         <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                         <option value="Yearly">Yearly</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.membership_plan
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Trainer:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="trainer"
// // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                         <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                         <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.trainer
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Status:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="status"
// // // // // // // // // //                         value={formData.status}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.status
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 flex space-x-2">
// // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Save size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   ) : (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={() => handleEdit(member)}
// // // // // // // // // //                       className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Edit size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   )}
// // // // // // // // // //                   <button
// // // // // // // // // //                     onClick={() => confirmDelete(member)}
// // // // // // // // // //                     className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                   >
// // // // // // // // // //                     <Trash size={16} />
// // // // // // // // // //                   </button>
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //             ))}
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // //       {deletedMember && (
// // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //           <span>Member deleted. Undo in {undoTimer} seconds</span>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // //           >
// // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // //           <div className="bg-gray-800 p-6 rounded-lg shadow-lg">
// // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">
// // // // // // // // // //               Are you sure you want to delete this member?
// // // // // // // // // //             </h3>
// // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Cancel
// // // // // // // // // //               </button>
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Delete
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Save Success Notification */}
// // // // // // // // // //       {saveSuccess && (
// // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-green-500 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //           <span>Saved successfully!</span>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}
// // // // // // // // // //     </div>
// // // // // // // // // //   );
// // // // // // // // // // };

// // // // // // // // // // export default MembersPage;
// // // // // // // // // // "use client";

// // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // // // const MembersPage = () => {
// // // // // // // // // //   const router = useRouter();
// // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: [],
// // // // // // // // // //     membership_plan: [],
// // // // // // // // // //     status: [],
// // // // // // // // // //     dateRange: { start: "", end: "" },
// // // // // // // // // //   });
// // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // //     name: "",
// // // // // // // // // //     email: "",
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: "",
// // // // // // // // // //     phone: "",
// // // // // // // // // //     membership_plan: "",
// // // // // // // // // //     trainer: "",
// // // // // // // // // //     photo: null,
// // // // // // // // // //     status: "Active",
// // // // // // // // // //   });
// // // // // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // //   useEffect(() => {
// // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // //       try {
// // // // // // // // // //         const response = await fetch("http://localhost:5001/api/admin/members", {
// // // // // // // // // //           method: "GET",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         });
// // // // // // // // // //         if (!response.ok) {
// // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //         }
// // // // // // // // // //         const data = await response.json();
// // // // // // // // // //         console.log("API Response:", data); // Log the API response
// // // // // // // // // //         setMembers(data || []); // Ensure members is always an array
// // // // // // // // // //         setError(null);
// // // // // // // // // //       } catch (err) {
// // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // //       } finally {
// // // // // // // // // //         setIsLoading(false);
// // // // // // // // // //       }
// // // // // // // // // //     };

// // // // // // // // // //     fetchMembers();
// // // // // // // // // //   }, []);

// // // // // // // // // //   // Handle search
// // // // // // // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // // // // // // //     const name = member.name || "";
// // // // // // // // // //     const email = member.email || "";
// // // // // // // // // //     const status = member.status || "";

// // // // // // // // // //     // Search filter (case-insensitive)
// // // // // // // // // //     const matchesSearch =
// // // // // // // // // //       searchTerm === "" ||
// // // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // // // //     // Age filter
// // // // // // // // // //     const ageMatch =
// // // // // // // // // //       filterCriteria.age === "" ||
// // // // // // // // // //       (member.age !== null &&
// // // // // // // // // //         member.age !== undefined &&
// // // // // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // // // // //     // Gender filter (multiple selection)
// // // // // // // // // //     const genderMatch =
// // // // // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // // // // //     const membershipPlanMatch =
// // // // // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // // // // //     // Status filter (multiple selection)
// // // // // // // // // //     const statusMatch =
// // // // // // // // // //       filterCriteria.status.length === 0 ||
// // // // // // // // // //       filterCriteria.status.includes(member.status);

// // // // // // // // // //     // Date range filter
// // // // // // // // // //     const memberDate = new Date(member.joinedDate); // Assuming `joinedDate` is a field
// // // // // // // // // //     const matchesDateStart =
// // // // // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // // // // //       memberDate >= new Date(filterCriteria.dateRange.start);
// // // // // // // // // //     const matchesDateEnd =
// // // // // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // // // // //       memberDate <= new Date(filterCriteria.dateRange.end);

// // // // // // // // // //     // Return true only if all filters match
// // // // // // // // // //     return (
// // // // // // // // // //       matchesSearch &&
// // // // // // // // // //       ageMatch &&
// // // // // // // // // //       genderMatch &&
// // // // // // // // // //       membershipPlanMatch &&
// // // // // // // // // //       statusMatch &&
// // // // // // // // // //       matchesDateStart &&
// // // // // // // // // //       matchesDateEnd
// // // // // // // // // //     );
// // // // // // // // // //   });

// // // // // // // // // //   // Handle edit
// // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // //     setFormData({
// // // // // // // // // //       name: member.name || "",
// // // // // // // // // //       email: member.email || "",
// // // // // // // // // //       age: member.age || "",
// // // // // // // // // //       gender: member.gender || "",
// // // // // // // // // //       phone: member.phone || "",
// // // // // // // // // //       membership_plan: member.membership_plan || "",
// // // // // // // // // //       trainer: member.trainer || "",
// // // // // // // // // //       photo: member.photo || null,
// // // // // // // // // //       status: member.status || "Active",
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Handle form changes
// // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // //     setFormData({
// // // // // // // // // //       ...formData,
// // // // // // // // // //       [name]: value,
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Save edited member
// // // // // // // // // //   // Save edited member
// // // // // // // // // // const handleSave = async () => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5001/api/admin/members/${editingMember}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "PUT",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // //         }
// // // // // // // // // //       );

// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }

// // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // //       console.log("Updated Member:", updatedMember);

// // // // // // // // // //       // Update the local state with the updated member
// // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // //         prevMembers.map((member) =>
// // // // // // // // // //           member._id === editingMember ? { ...member, ...formData } : member
// // // // // // // // // //         )
// // // // // // // // // //       );

// // // // // // // // // //       setEditingMember(null); // Exit edit mode
// // // // // // // // // //       setSaveSuccess(true); // Show success message
// // // // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000); // Hide success message after 3 seconds
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // //     }
// // // // // // // // // //   };
// // // // // // // // // //   // Handle delete
// // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // //   };

// // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // //     const memberToDeleteObj = members.find((m) => m._id === memberId);
// // // // // // // // // //     if (!memberToDeleteObj) {
// // // // // // // // // //       console.error("Member not found");
// // // // // // // // // //       return;
// // // // // // // // // //     }
// // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // //     setMembers(members.filter((member) => member._id !== memberId));

// // // // // // // // // //     // Start the 5-second timer
// // // // // // // // // //     setUndoTimer(5);
// // // // // // // // // //     const timer = setInterval(() => {
// // // // // // // // // //       setUndoTimer((prev) => {
// // // // // // // // // //         if (prev === 1) {
// // // // // // // // // //           clearInterval(timer);
// // // // // // // // // //           deleteMemberFromDatabase(memberId); // Delete from the database after 5 seconds
// // // // // // // // // //           return 0;
// // // // // // // // // //         }
// // // // // // // // // //         return prev - 1;
// // // // // // // // // //       });
// // // // // // // // // //     }, 1000);

// // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // //   };

// // // // // // // // // //   // Delete member from the database
// // // // // // // // // //   const deleteMemberFromDatabase = async (memberId) => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5001/api/admin/members/${memberId}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "DELETE",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         }
// // // // // // // // // //       );
// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Undo delete functionality
// // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // //       clearInterval(deleteTimer);
// // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // //     }
// // // // // // // // // //     if (deletedMember) {
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     }
// // // // // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // // // // //   };

// // // // // // // // // //   // Toggle view mode
// // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // //   };

// // // // // // // // // //   // Apply filter
// // // // // // // // // //   const applyFilter = () => {
// // // // // // // // // //     setShowFilterModal(false);
// // // // // // // // // //   };

// // // // // // // // // //   // Reset filters
// // // // // // // // // //   const resetFilters = () => {
// // // // // // // // // //     setFilterCriteria({
// // // // // // // // // //       age: "",
// // // // // // // // // //       gender: [],
// // // // // // // // // //       membership_plan: [],
// // // // // // // // // //       status: [],
// // // // // // // // // //       dateRange: { start: "", end: "" },
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   if (isLoading)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //             Loading members...
// // // // // // // // // //           </p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   if (error)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   return (
// // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // //       {/* Header Section */}
// // // // // // // // // //       <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8 sticky top-0 bg-gray-900 z-50">
// // // // // // // // // //         <div className="flex items-center">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/dashboard")}
// // // // // // // // // //             className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 strokeWidth={2}
// // // // // // // // // //                 d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </button>
// // // // // // // // // //           <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // //             Members List
// // // // // // // // // //           </h1>
// // // // // // // // // //         </div>

// // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <span className="flex items-center">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1.5}
// // // // // // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <span className="font-medium">Filter View</span>
// // // // // // // // // //             </span>
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/add-member")}
// // // // // // // // // //             className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             <Plus size={20} />
// // // // // // // // // //             <span>Add Member</span>
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Search Bar */}
// // // // // // // // // //       <div className="w-full px-8 pt-10 sticky top-20 bg-gray-900 z-40">
// // // // // // // // // //         <div
// // // // // // // // // //           className={`relative transition-all duration-500 ${
// // // // // // // // // //             searchFocused ? "scale-105" : ""
// // // // // // // // // //           }`}
// // // // // // // // // //         >
// // // // // // // // // //           <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // // //                 searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // // //               }`}
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //               strokeWidth={1.5}
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </span>
// // // // // // // // // //           <input
// // // // // // // // // //             type="text"
// // // // // // // // // //             placeholder="Search by name, email, or status"
// // // // // // // // // //             className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // // //               border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // // //               dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // // //               text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // // //               transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // // //             value={searchTerm}
// // // // // // // // // //             onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // //             onFocus={() => setSearchFocused(true)}
// // // // // // // // // //             onBlur={() => setSearchFocused(false)}
// // // // // // // // // //           />
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Clear Filters Button */}
// // // // // // // // // //       {(filterCriteria.age ||
// // // // // // // // // //         filterCriteria.gender.length > 0 ||
// // // // // // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // // // // // //         filterCriteria.status.length > 0 ||
// // // // // // // // // //         filterCriteria.dateRange.start ||
// // // // // // // // // //         filterCriteria.dateRange.end) && (
// // // // // // // // // //         <div className="w-full px-8 pt-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={resetFilters}
// // // // // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             Clear Filters
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Members Table */}
// // // // // // // // // //       {viewMode === "table" ? (
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //                 No members found.
// // // // // // // // // //               </p>
// // // // // // // // // //             </div>
// // // // // // // // // //           ) : (
// // // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // // //                   <thead>
// // // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         ID
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Photo
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Name
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Email
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Age
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Gender
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Phone
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Membership Plan
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Trainer
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Status
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Actions
// // // // // // // // // //                       </th>
// // // // // // // // // //                     </tr>
// // // // // // // // // //                   </thead>
// // // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // // //                     {filteredMembers.map((member, index) => (
// // // // // // // // // //                       <tr
// // // // // // // // // //                         key={member._id}
// // // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // //                       >
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // //                           {index + 1}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // //                             <User size={20} />
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="name"
// // // // // // // // // //                               value={formData.name}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.name
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="email"
// // // // // // // // // //                               name="email"
// // // // // // // // // //                               value={formData.email}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.email
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="number"
// // // // // // // // // //                               name="age"
// // // // // // // // // //                               value={formData.age}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.age
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="gender"
// // // // // // // // // //                               value={formData.gender}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.gender
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="phone"
// // // // // // // // // //                               value={formData.phone}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.phone
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="membership_plan"
// // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Monthly">Monthly</option>
// // // // // // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                               <option value="Yearly">Yearly</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.membership_plan
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="trainer"
// // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                               <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                               <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.trainer
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="status"
// // // // // // // // // //                               value={formData.status}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             <span
// // // // // // // // // //                               className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // //                                 member.status === "Active"
// // // // // // // // // //                                   ? "text-green-300 border border-green-500"
// // // // // // // // // //                                   : member.status === "Inactive"
// // // // // // // // // //                                   ? "text-yellow-300 border border-yellow-500"
// // // // // // // // // //                                   : "text-red-300 border border-red-500"
// // // // // // // // // //                               } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // //                             >
// // // // // // // // // //                               {member.status}
// // // // // // // // // //                             </span>
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={handleSave}
// // // // // // // // // //                                 className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Save size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // // //                                 className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Edit size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             )}
// // // // // // // // // //                             <button
// // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                             >
// // // // // // // // // //                               <Trash size={16} />
// // // // // // // // // //                             </button>
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                       </tr>
// // // // // // // // // //                     ))}
// // // // // // // // // //                   </tbody>
// // // // // // // // // //                 </table>
// // // // // // // // // //               </div>
// // // // // // // // // //             </div>
// // // // // // // // // //           )}
// // // // // // // // // //         </div>
// // // // // // // // // //       ) : (
// // // // // // // // // //         // Card View
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // // // // //             {filteredMembers.map((member) => (
// // // // // // // // // //               <div
// // // // // // // // // //                 key={member._id}
// // // // // // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // // // // //               >
// // // // // // // // // //                 <div className="flex items-center space-x-4">
// // // // // // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // // // // //                     <User size={20} />
// // // // // // // // // //                   </div>
// // // // // // // // // //                   <div>
// // // // // // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="text"
// // // // // // // // // //                           name="name"
// // // // // // // // // //                           value={formData.name}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.name
// // // // // // // // // //                       )}
// // // // // // // // // //                     </h3>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="email"
// // // // // // // // // //                           name="email"
// // // // // // // // // //                           value={formData.email}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.email
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                   </div>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 space-y-2">
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="number"
// // // // // // // // // //                         name="age"
// // // // // // // // // //                         value={formData.age}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.age
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="gender"
// // // // // // // // // //                         value={formData.gender}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Male">Male</option>
// // // // // // // // // //                         <option value="Female">Female</option>
// // // // // // // // // //                         <option value="Other">Other</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.gender
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Phone:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="phone"
// // // // // // // // // //                         value={formData.phone}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.phone
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="membership_plan"
// // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Monthly">Monthly</option>
// // // // // // // // // //                         <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                         <option value="Yearly">Yearly</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.membership_plan
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Trainer:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="trainer"
// // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                         <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                         <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.trainer
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Status:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="status"
// // // // // // // // // //                         value={formData.status}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.status
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 flex space-x-2">
// // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Save size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   ) : (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={() => handleEdit(member)}
// // // // // // // // // //                       className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Edit size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   )}
// // // // // // // // // //                   <button
// // // // // // // // // //                     onClick={() => confirmDelete(member)}
// // // // // // // // // //                     className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                   >
// // // // // // // // // //                     <Trash size={16} />
// // // // // // // // // //                   </button>
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //             ))}
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // //       {deletedMember && (
// // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //           <span>Member deleted. Undo in {undoTimer} seconds</span>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // //           >
// // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // //           <div className="bg-gray-800 p-6 rounded-lg shadow-lg">
// // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">
// // // // // // // // // //               Are you sure you want to delete this member?
// // // // // // // // // //             </h3>
// // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Cancel
// // // // // // // // // //               </button>
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Delete
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Save Success Notification */}
// // // // // // // // // //       {saveSuccess && (
// // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-green-500 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //           <span>Saved successfully!</span>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}
// // // // // // // // // //     </div>
// // // // // // // // // //   );
// // // // // // // // // // };

// // // // // // // // // // export default MembersPage;
// // // // // // // // // // "use client";

// // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // // // const MembersPage = () => {
// // // // // // // // // //   const router = useRouter();
// // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: [],
// // // // // // // // // //     membership_plan: [],
// // // // // // // // // //     status: [],
// // // // // // // // // //     dateRange: { start: "", end: "" },
// // // // // // // // // //   });
// // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // //     name: "",
// // // // // // // // // //     email: "",
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: "",
// // // // // // // // // //     phone: "",
// // // // // // // // // //     membership_plan: "",
// // // // // // // // // //     trainer: "",
// // // // // // // // // //     photo: null,
// // // // // // // // // //     status: "Active",
// // // // // // // // // //   });
// // // // // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // //   useEffect(() => {
// // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // //       try {
// // // // // // // // // //         const response = await fetch("http://localhost:5000/api/admin/members", {
// // // // // // // // // //           method: "GET",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         });
// // // // // // // // // //         if (!response.ok) {
// // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //         }
// // // // // // // // // //         const data = await response.json();
// // // // // // // // // //         console.log("API Response:", data); // Log the API response
// // // // // // // // // //         setMembers(data || []); // Ensure members is always an array
// // // // // // // // // //         setError(null);
// // // // // // // // // //       } catch (err) {
// // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // //       } finally {
// // // // // // // // // //         setIsLoading(false);
// // // // // // // // // //       }
// // // // // // // // // //     };

// // // // // // // // // //     fetchMembers();
// // // // // // // // // //   }, []);

// // // // // // // // // //   // Handle search
// // // // // // // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // // // // // // //     const name = member.name || "";
// // // // // // // // // //     const email = member.email || "";
// // // // // // // // // //     const status = member.status || "";

// // // // // // // // // //     // Search filter (case-insensitive)
// // // // // // // // // //     const matchesSearch =
// // // // // // // // // //       searchTerm === "" ||
// // // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // // // //     // Age filter
// // // // // // // // // //     const ageMatch =
// // // // // // // // // //       filterCriteria.age === "" ||
// // // // // // // // // //       (member.age !== null &&
// // // // // // // // // //         member.age !== undefined &&
// // // // // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // // // // //     // Gender filter (multiple selection)
// // // // // // // // // //     const genderMatch =
// // // // // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // // // // //     const membershipPlanMatch =
// // // // // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // // // // //     // Status filter (multiple selection)
// // // // // // // // // //     const statusMatch =
// // // // // // // // // //       filterCriteria.status.length === 0 ||
// // // // // // // // // //       filterCriteria.status.includes(member.status);

// // // // // // // // // //     // Date range filter
// // // // // // // // // //     const memberDate = new Date(member.joinedDate); // Assuming `joinedDate` is a field
// // // // // // // // // //     const matchesDateStart =
// // // // // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // // // // //       memberDate >= new Date(filterCriteria.dateRange.start);
// // // // // // // // // //     const matchesDateEnd =
// // // // // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // // // // //       memberDate <= new Date(filterCriteria.dateRange.end);

// // // // // // // // // //     // Return true only if all filters match
// // // // // // // // // //     return (
// // // // // // // // // //       matchesSearch &&
// // // // // // // // // //       ageMatch &&
// // // // // // // // // //       genderMatch &&
// // // // // // // // // //       membershipPlanMatch &&
// // // // // // // // // //       statusMatch &&
// // // // // // // // // //       matchesDateStart &&
// // // // // // // // // //       matchesDateEnd
// // // // // // // // // //     );
// // // // // // // // // //   });

// // // // // // // // // //   // Handle edit
// // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // // //     setEditingMember(member._id);
// // // // // // // // // //     setFormData({
// // // // // // // // // //       name: member.name || "",
// // // // // // // // // //       email: member.email || "",
// // // // // // // // // //       age: member.age || "",
// // // // // // // // // //       gender: member.gender || "",
// // // // // // // // // //       phone: member.phone || "",
// // // // // // // // // //       membership_plan: member.membership_plan || "",
// // // // // // // // // //       trainer: member.trainer || "",
// // // // // // // // // //       photo: member.photo || null,
// // // // // // // // // //       status: member.status || "Active",
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Handle form changes
// // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // //     setFormData({
// // // // // // // // // //       ...formData,
// // // // // // // // // //       [name]: value,
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   // Save edited member
// // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5000/api/admin/members/${editingMember}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "PUT",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // //         }
// // // // // // // // // //       );

// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }

// // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // //       console.log("Updated Member:", updatedMember);

// // // // // // // // // //       // Update the local state with the updated member
// // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // //         prevMembers.map((member) =>
// // // // // // // // // //           member._id === editingMember ? { ...member, ...formData } : member
// // // // // // // // // //         )
// // // // // // // // // //       );

// // // // // // // // // //       setEditingMember(null); // Exit edit mode
// // // // // // // // // //       setSaveSuccess(true); // Show success message
// // // // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000); // Hide success message after 3 seconds
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Handle delete
// // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // //   };

// // // // // // // // // //   const handleDelete = async (memberId) => {
// // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // //     const memberToDeleteObj = members.find((m) => m._id === memberId);
// // // // // // // // // //     if (!memberToDeleteObj) {
// // // // // // // // // //       console.error("Member not found");
// // // // // // // // // //       return;
// // // // // // // // // //     }
// // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // //     setMembers(members.filter((member) => member._id !== memberId));

// // // // // // // // // //     // Start the 5-second timer
// // // // // // // // // //     setUndoTimer(5);
// // // // // // // // // //     const timer = setInterval(() => {
// // // // // // // // // //       setUndoTimer((prev) => {
// // // // // // // // // //         if (prev === 1) {
// // // // // // // // // //           clearInterval(timer);
// // // // // // // // // //           deleteMemberFromDatabase(memberId); // Delete from the database after 5 seconds
// // // // // // // // // //           return 0;
// // // // // // // // // //         }
// // // // // // // // // //         return prev - 1;
// // // // // // // // // //       });
// // // // // // // // // //     }, 1000);

// // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // //   };

// // // // // // // // // //   // Delete member from the database
// // // // // // // // // //   const deleteMemberFromDatabase = async (memberId) => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5000/api/admin/members/:membershipID}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "DELETE",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         }
// // // // // // // // // //       );
// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Undo delete functionality
// // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // //       clearInterval(deleteTimer);
// // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // //     }
// // // // // // // // // //     if (deletedMember) {
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     }
// // // // // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // // // // //   };

// // // // // // // // // //   // Toggle view mode
// // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // //   };

// // // // // // // // // //   // Apply filter
// // // // // // // // // //   const applyFilter = () => {
// // // // // // // // // //     setShowFilterModal(false);
// // // // // // // // // //   };

// // // // // // // // // //   // Reset filters
// // // // // // // // // //   const resetFilters = () => {
// // // // // // // // // //     setFilterCriteria({
// // // // // // // // // //       age: "",
// // // // // // // // // //       gender: [],
// // // // // // // // // //       membership_plan: [],
// // // // // // // // // //       status: [],
// // // // // // // // // //       dateRange: { start: "", end: "" },
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   if (isLoading)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //             Loading members...
// // // // // // // // // //           </p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   if (error)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   return (
// // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // //       {/* Header Section */}
// // // // // // // // // //       <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8 sticky top-0 bg-gray-900 z-50">
// // // // // // // // // //         <div className="flex items-center">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/dashboard")}
// // // // // // // // // //             className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 strokeWidth={2}
// // // // // // // // // //                 d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </button>
// // // // // // // // // //           <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // //             Members List
// // // // // // // // // //           </h1>
// // // // // // // // // //         </div>

// // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <span className="flex items-center">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1.5}
// // // // // // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <span className="font-medium">Filter View</span>
// // // // // // // // // //             </span>
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/add-member")}
// // // // // // // // // //             className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             <Plus size={20} />
// // // // // // // // // //             <span>Add Member</span>
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Search Bar */}
// // // // // // // // // //       <div className="w-full px-8 pt-10 sticky top-20 bg-gray-900 z-40">
// // // // // // // // // //         <div
// // // // // // // // // //           className={`relative transition-all duration-500 ${
// // // // // // // // // //             searchFocused ? "scale-105" : ""
// // // // // // // // // //           }`}
// // // // // // // // // //         >
// // // // // // // // // //           <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // // //                 searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // // //               }`}
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //               strokeWidth={1.5}
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </span>
// // // // // // // // // //           <input
// // // // // // // // // //             type="text"
// // // // // // // // // //             placeholder="Search by name, email, or status"
// // // // // // // // // //             className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // // //               border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // // //               dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // // //               text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // // //               transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // // //             value={searchTerm}
// // // // // // // // // //             onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // //             onFocus={() => setSearchFocused(true)}
// // // // // // // // // //             onBlur={() => setSearchFocused(false)}
// // // // // // // // // //           />
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Clear Filters Button */}
// // // // // // // // // //       {(filterCriteria.age ||
// // // // // // // // // //         filterCriteria.gender.length > 0 ||
// // // // // // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // // // // // //         filterCriteria.status.length > 0 ||
// // // // // // // // // //         filterCriteria.dateRange.start ||
// // // // // // // // // //         filterCriteria.dateRange.end) && (
// // // // // // // // // //         <div className="w-full px-8 pt-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={resetFilters}
// // // // // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             Clear Filters
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Members Table */}
// // // // // // // // // //       {viewMode === "table" ? (
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //                 No members found.
// // // // // // // // // //               </p>
// // // // // // // // // //             </div>
// // // // // // // // // //           ) : (
// // // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // // //                   <thead>
// // // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         ID
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Photo
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Name
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Email
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Age
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Gender
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Phone
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Membership Plan
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Trainer
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Status
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Actions
// // // // // // // // // //                       </th>
// // // // // // // // // //                     </tr>
// // // // // // // // // //                   </thead>
// // // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // // //                     {filteredMembers.map((member, index) => (
// // // // // // // // // //                       <tr
// // // // // // // // // //                         key={member._id}
// // // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // //                       >
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // //                           {index + 1}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // //                             <User size={20} />
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="name"
// // // // // // // // // //                               value={formData.name}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.name
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="email"
// // // // // // // // // //                               name="email"
// // // // // // // // // //                               value={formData.email}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.email
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="number"
// // // // // // // // // //                               name="age"
// // // // // // // // // //                               value={formData.age}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.age
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="gender"
// // // // // // // // // //                               value={formData.gender}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.gender
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="phone"
// // // // // // // // // //                               value={formData.phone}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.phone
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="membership_plan"
// // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Monthly">Monthly</option>
// // // // // // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                               <option value="Yearly">Yearly</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.membership_plan
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="trainer"
// // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                               <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                               <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.trainer
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           {editingMember === member._id ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="status"
// // // // // // // // // //                               value={formData.status}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             <span
// // // // // // // // // //                               className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // //                                 member.status === "Active"
// // // // // // // // // //                                   ? "text-green-300 border border-green-500"
// // // // // // // // // //                                   : member.status === "Inactive"
// // // // // // // // // //                                   ? "text-yellow-300 border border-yellow-500"
// // // // // // // // // //                                   : "text-red-300 border border-red-500"
// // // // // // // // // //                               } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // //                             >
// // // // // // // // // //                               {member.status}
// // // // // // // // // //                             </span>
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // //                             {editingMember === member._id ? (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={handleSave}
// // // // // // // // // //                                 className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Save size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // // //                                 className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Edit size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             )}
// // // // // // // // // //                             <button
// // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                             >
// // // // // // // // // //                               <Trash size={16} />
// // // // // // // // // //                             </button>
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                       </tr>
// // // // // // // // // //                     ))}
// // // // // // // // // //                   </tbody>
// // // // // // // // // //                 </table>
// // // // // // // // // //               </div>
// // // // // // // // // //             </div>
// // // // // // // // // //           )}
// // // // // // // // // //         </div>
// // // // // // // // // //       ) : (
// // // // // // // // // //         // Card View
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // // // // //             {filteredMembers.map((member) => (
// // // // // // // // // //               <div
// // // // // // // // // //                 key={member._id}
// // // // // // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // // // // //               >
// // // // // // // // // //                 <div className="flex items-center space-x-4">
// // // // // // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // // // // //                     <User size={20} />
// // // // // // // // // //                   </div>
// // // // // // // // // //                   <div>
// // // // // // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="text"
// // // // // // // // // //                           name="name"
// // // // // // // // // //                           value={formData.name}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.name
// // // // // // // // // //                       )}
// // // // // // // // // //                     </h3>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       {editingMember === member._id ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="email"
// // // // // // // // // //                           name="email"
// // // // // // // // // //                           value={formData.email}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.email
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                   </div>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 space-y-2">
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="number"
// // // // // // // // // //                         name="age"
// // // // // // // // // //                         value={formData.age}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.age
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="gender"
// // // // // // // // // //                         value={formData.gender}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Male">Male</option>
// // // // // // // // // //                         <option value="Female">Female</option>
// // // // // // // // // //                         <option value="Other">Other</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.gender
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Phone:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="phone"
// // // // // // // // // //                         value={formData.phone}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.phone
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="membership_plan"
// // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Monthly">Monthly</option>
// // // // // // // // // //                         <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                         <option value="Yearly">Yearly</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.membership_plan
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Trainer:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="trainer"
// // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                         <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                         <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.trainer
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Status:</span>{" "}
// // // // // // // // // //                     {editingMember === member._id ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="status"
// // // // // // // // // //                         value={formData.status}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.status
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 flex space-x-2">
// // // // // // // // // //                   {editingMember === member._id ? (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // //                       className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Save size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   ) : (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={() => handleEdit(member)}
// // // // // // // // // //                       className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Edit size={16} />
// // // // // // // // // //                     </button>
// // // // // // // // // //                   )}
// // // // // // // // // //                   <button
// // // // // // // // // //                     onClick={() => confirmDelete(member)}
// // // // // // // // // //                     className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                   >
// // // // // // // // // //                     <Trash size={16} />
// // // // // // // // // //                   </button>
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //             ))}
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Undo Delete Notification */}
// // // // // // // // // //       {deletedMember && (
// // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //           <span>Member deleted. Undo in {undoTimer} seconds</span>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // //             className="bg-blue-500 hover:bg-blue-600 px-2 py-1 rounded flex items-center gap-1 text-white"
// // // // // // // // // //           >
// // // // // // // // // //             <Undo size={14} /> Undo
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // //         <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
// // // // // // // // // //           <div className="bg-gray-800 p-6 rounded-lg shadow-lg">
// // // // // // // // // //             <h3 className="text-white text-lg font-bold mb-4">
// // // // // // // // // //               Are you sure you want to delete this member?
// // // // // // // // // //             </h3>
// // // // // // // // // //             <div className="flex justify-end space-x-4">
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // //                 className="bg-gray-500 px-4 py-2 rounded-lg text-white hover:bg-gray-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Cancel
// // // // // // // // // //               </button>
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => handleDelete(memberToDelete._id)}
// // // // // // // // // //                 className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Delete
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Save Success Notification */}
// // // // // // // // // //       {saveSuccess && (
// // // // // // // // // //         <div className="fixed bottom-4 right-4 bg-green-500 text-white p-3 rounded-lg shadow-lg flex items-center gap-2 z-50">
// // // // // // // // // //           <span>Saved successfully!</span>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Filter Modal */}
// // // // // // // // // //       {showFilterModal && (
// // // // // // // // // //         <div className="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50">
// // // // // // // // // //           <div className="bg-gray-800 p-8 rounded-xl border border-gray-700 w-11/12 max-w-2xl shadow-2xl">
// // // // // // // // // //             <div className="flex justify-between items-center mb-6">
// // // // // // // // // //               <h3 className="text-xl font-medium text-white">Filter Members</h3>
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => setShowFilterModal(false)}
// // // // // // // // // //                 className="text-gray-400 hover:text-white"
// // // // // // // // // //               >
// // // // // // // // // //                 <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
// // // // // // // // // //                   <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
// // // // // // // // // //                 </svg>
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>

// // // // // // // // // //             <div className="space-y-6">
// // // // // // // // // //               {/* Age Filter */}
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-sm font-medium text-gray-300 mb-2">Age</label>
// // // // // // // // // //                 <input
// // // // // // // // // //                   type="number"
// // // // // // // // // //                   className="bg-gray-700 text-white p-3 rounded-lg w-full"
// // // // // // // // // //                   placeholder="Filter by exact age"
// // // // // // // // // //                   value={filterCriteria.age}
// // // // // // // // // //                   onChange={(e) => setFilterCriteria({...filterCriteria, age: e.target.value})}
// // // // // // // // // //                 />
// // // // // // // // // //               </div>

// // // // // // // // // //               {/* Gender Filter */}
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-sm font-medium text-gray-300 mb-2">Gender</label>
// // // // // // // // // //                 <div className="flex flex-wrap gap-3">
// // // // // // // // // //                   {['Male', 'Female', 'Other'].map((gender) => (
// // // // // // // // // //                     <div key={gender} className="flex items-center">
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="checkbox"
// // // // // // // // // //                         id={`gender-${gender}`}
// // // // // // // // // //                         className="mr-2"
// // // // // // // // // //                         checked={filterCriteria.gender.includes(gender)}
// // // // // // // // // //                         onChange={(e) => {
// // // // // // // // // //                           if (e.target.checked) {
// // // // // // // // // //                             setFilterCriteria({
// // // // // // // // // //                               ...filterCriteria,
// // // // // // // // // //                               gender: [...filterCriteria.gender, gender]
// // // // // // // // // //                             });
// // // // // // // // // //                           } else {
// // // // // // // // // //                             setFilterCriteria({
// // // // // // // // // //                               ...filterCriteria,
// // // // // // // // // //                               gender: filterCriteria.gender.filter(g => g !== gender)
// // // // // // // // // //                             });
// // // // // // // // // //                           }
// // // // // // // // // //                         }}
// // // // // // // // // //                       />
// // // // // // // // // //                       <label htmlFor={`gender-${gender}`} className="text-white">{gender}</label>
// // // // // // // // // //                     </div>
// // // // // // // // // //                   ))}
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>

// // // // // // // // // //               {/* Membership Plan Filter */}
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-sm font-medium text-gray-300 mb-2">Membership Plan</label>
// // // // // // // // // //                 <div className="flex flex-wrap gap-3">
// // // // // // // // // //                   {['Monthly', 'Quarterly', 'Yearly'].map((plan) => (
// // // // // // // // // //                     <div key={plan} className="flex items-center">
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="checkbox"
// // // // // // // // // //                         id={`plan-${plan}`}
// // // // // // // // // //                         className="mr-2"
// // // // // // // // // //                         checked={filterCriteria.membership_plan.includes(plan)}
// // // // // // // // // //                         onChange={(e) => {
// // // // // // // // // //                           if (e.target.checked) {
// // // // // // // // // //                             setFilterCriteria({
// // // // // // // // // //                               ...filterCriteria,
// // // // // // // // // //                               membership_plan: [...filterCriteria.membership_plan, plan]
// // // // // // // // // //                             });
// // // // // // // // // //                           } else {
// // // // // // // // // //                             setFilterCriteria({
// // // // // // // // // //                               ...filterCriteria,
// // // // // // // // // //                               membership_plan: filterCriteria.membership_plan.filter(p => p !== plan)
// // // // // // // // // //                             });
// // // // // // // // // //                           }
// // // // // // // // // //                         }}
// // // // // // // // // //                       />
// // // // // // // // // //                       <label htmlFor={`plan-${plan}`} className="text-white">{plan}</label>
// // // // // // // // // //                     </div>
// // // // // // // // // //                   ))}
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>

// // // // // // // // // //               {/* Status Filter */}
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-sm font-medium text-gray-300 mb-2">Status</label>
// // // // // // // // // //                 <div className="flex flex-wrap gap-3">
// // // // // // // // // //                   {['Active', 'Inactive', 'Expired'].map((status) => (
// // // // // // // // // //                     <div key={status} className="flex items-center">
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="checkbox"
// // // // // // // // // //                         id={`status-${status}`}
// // // // // // // // // //                         className="mr-2"
// // // // // // // // // //                         checked={filterCriteria.status.includes(status)}
// // // // // // // // // //                         onChange={(e) => {
// // // // // // // // // //                           if (e.target.checked) {
// // // // // // // // // //                             setFilterCriteria({
// // // // // // // // // //                               ...filterCriteria,
// // // // // // // // // //                               status: [...filterCriteria.status, status]
// // // // // // // // // //                             });
// // // // // // // // // //                           } else {
// // // // // // // // // //                             setFilterCriteria({
// // // // // // // // // //                               ...filterCriteria,
// // // // // // // // // //                               status: filterCriteria.status.filter(s => s !== status)
// // // // // // // // // //                             });
// // // // // // // // // //                           }
// // // // // // // // // //                         }}
// // // // // // // // // //                       />
// // // // // // // // // //                       <label htmlFor={`status-${status}`} className="text-white">{status}</label>
// // // // // // // // // //                     </div>
// // // // // // // // // //                   ))}
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>

// // // // // // // // // //               {/* Date Range Filter */}
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-sm font-medium text-gray-300 mb-2">Join Date Range</label>
// // // // // // // // // //                 <div className="grid grid-cols-2 gap-4">
// // // // // // // // // //                   <div>
// // // // // // // // // //                     <label className="block text-xs text-gray-400 mb-1">Start Date</label>
// // // // // // // // // //                     <input
// // // // // // // // // //                       type="date"
// // // // // // // // // //                       className="bg-gray-700 text-white p-2 rounded-lg w-full"
// // // // // // // // // //                       value={filterCriteria.dateRange.start}
// // // // // // // // // //                       onChange={(e) => setFilterCriteria({
// // // // // // // // // //                         ...filterCriteria,
// // // // // // // // // //                         dateRange: {...filterCriteria.dateRange, start: e.target.value}
// // // // // // // // // //                       })}
// // // // // // // // // //                     />
// // // // // // // // // //                   </div>
// // // // // // // // // //                   <div>
// // // // // // // // // //                     <label className="block text-xs text-gray-400 mb-1">End Date</label>
// // // // // // // // // //                     <input
// // // // // // // // // //                       type="date"
// // // // // // // // // //                       className="bg-gray-700 text-white p-2 rounded-lg w-full"
// // // // // // // // // //                       value={filterCriteria.dateRange.end}
// // // // // // // // // //                       onChange={(e) => setFilterCriteria({
// // // // // // // // // //                         ...filterCriteria,
// // // // // // // // // //                         dateRange: {...filterCriteria.dateRange, end: e.target.value}
// // // // // // // // // //                       })}
// // // // // // // // // //                     />
// // // // // // // // // //                   </div>
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //             </div>

// // // // // // // // // //             <div className="flex justify-end space-x-4 mt-8">
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={resetFilters}
// // // // // // // // // //                 className="px-5 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Reset
// // // // // // // // // //               </button>
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={applyFilter}
// // // // // // // // // //                 className="px-5 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Apply Filters
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Debugging Logs */}
// // // // // // // // // //       {console.log("Filter criteria:", filterCriteria)}
// // // // // // // // // //       {console.log("Filtered members count:", filteredMembers.length)}
// // // // // // // // // //     </div>
// // // // // // // // // //   );
// // // // // // // // // // };

// // // // // // // // // // export default MembersPage;
// // // // // // // // // // "use client";

// // // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // // // const MembersPage = () => {
// // // // // // // // // //   const router = useRouter();
// // // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: [],
// // // // // // // // // //     membership_plan: [],
// // // // // // // // // //     status: [],
// // // // // // // // // //     dateRange: { start: "", end: "" },
// // // // // // // // // //   });
// // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // //     name: "",
// // // // // // // // // //     email: "",
// // // // // // // // // //     age: "",
// // // // // // // // // //     gender: "",
// // // // // // // // // //     phone: "",
// // // // // // // // // //     membership_plan: "",
// // // // // // // // // //     trainer: "",
// // // // // // // // // //     photo: null,
// // // // // // // // // //     status: "Active",
// // // // // // // // // //   });
// // // // // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // // // // //   // Fetch members from the backend
// // // // // // // // // //   useEffect(() => {
// // // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // // //       try {
// // // // // // // // // //         const response = await fetch("http://localhost:5000/api/admin/members", {
// // // // // // // // // //           method: "GET",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         });
// // // // // // // // // //         if (!response.ok) {
// // // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //         }
// // // // // // // // // //         const data = await response.json();
// // // // // // // // // //         console.log("API Response:", data); // Log the API response
// // // // // // // // // //         setMembers(data || []); // Ensure members is always an array
// // // // // // // // // //         setError(null);
// // // // // // // // // //       } catch (err) {
// // // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // // //       } finally {
// // // // // // // // // //         setIsLoading(false);
// // // // // // // // // //       }
// // // // // // // // // //     };

// // // // // // // // // //     fetchMembers();
// // // // // // // // // //   }, []);

// // // // // // // // // //   // Handle search
// // // // // // // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // // // // // // //     const name = member.name || "";
// // // // // // // // // //     const email = member.email || "";
// // // // // // // // // //     const status = member.status || "";

// // // // // // // // // //     // Search filter (case-insensitive)
// // // // // // // // // //     const matchesSearch =
// // // // // // // // // //       searchTerm === "" ||
// // // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // // // //     // Age filter
// // // // // // // // // //     const ageMatch =
// // // // // // // // // //       filterCriteria.age === "" ||
// // // // // // // // // //       (member.age !== null &&
// // // // // // // // // //         member.age !== undefined &&
// // // // // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // // // // //     // Gender filter (multiple selection)
// // // // // // // // // //     const genderMatch =
// // // // // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // // // // //     const membershipPlanMatch =
// // // // // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // // // // //     // Status filter (multiple selection)
// // // // // // // // // //     const statusMatch =
// // // // // // // // // //       filterCriteria.status.length === 0 ||
// // // // // // // // // //       filterCriteria.status.includes(member.status);

// // // // // // // // // //     // Date range filter
// // // // // // // // // //     const memberDate = new Date(member.joinedDate); // Assuming joinedDate is a field
// // // // // // // // // //     const matchesDateStart =
// // // // // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // // // // //       memberDate >= new Date(filterCriteria.dateRange.start);
// // // // // // // // // //     const matchesDateEnd =
// // // // // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // // // // //       memberDate <= new Date(filterCriteria.dateRange.end);

// // // // // // // // // //     // Return true only if all filters match
// // // // // // // // // //     return (
// // // // // // // // // //       matchesSearch &&
// // // // // // // // // //       ageMatch &&
// // // // // // // // // //       genderMatch &&
// // // // // // // // // //       membershipPlanMatch &&
// // // // // // // // // //       statusMatch &&
// // // // // // // // // //       matchesDateStart &&
// // // // // // // // // //       matchesDateEnd
// // // // // // // // // //     );
// // // // // // // // // //   });

// // // // // // // // // //   // Handle edit
// // // // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // // // //     setEditingMember(member.membershipID);
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       name: member.name || "",
// // // // // // // // // // //       email: member.email || "",
// // // // // // // // // // //       age: member.age || "",
// // // // // // // // // // //       gender: member.gender || "",
// // // // // // // // // // //       phone: member.phone || "",
// // // // // // // // // // //       membership_plan: member.membership_plan || "",
// // // // // // // // // // //       trainer: member.trainer || "",
// // // // // // // // // // //       photo: member.photo || null,
// // // // // // // // // // //       status: member.status || "Active",
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Handle form changes
// // // // // // // // // // //   const handleChange = (e) => {
// // // // // // // // // // //     const { name, value } = e.target;
// // // // // // // // // // //     setFormData({
// // // // // // // // // // //       ...formData,
// // // // // // // // // // //       [name]: value,
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   // Save edited member
// // // // // // // // // // //   const handleSave = async () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "PUT",
// // // // // // // // // // //           headers: {
// // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // //           },
// // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // //         }
// // // // // // // // // // //       );

// // // // // // // // // // //       if (!response.ok) {
// // // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //       }

// // // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // // //       console.log("Updated Member:", updatedMember);

// // // // // // // // // // //       // Update the local state with the updated member
// // // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // // //         prevMembers.map((member) =>
// // // // // // // // // // //           member.membershipID === editingMember ? { ...member, ...formData } : member
// // // // // // // // // // //         )
// // // // // // // // // // //       );

// // // // // // // // // // //       setEditingMember(null); // Exit edit mode
// // // // // // // // // // //       setSaveSuccess(true); // Show success message
// // // // // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000); // Hide success message after 3 seconds
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // // //     }
// // // // // // // // // // //   };
// // // // // // // // // // const handleEdit = (member) => {
// // // // // // // // // //   if (!member || !member.membershipID) return; // Ensure member exists and has an ID
// // // // // // // // // //   setEditingMember(member.membershipID); // Store membershipID in editing state
// // // // // // // // // //   setFormData({
// // // // // // // // // //     name: member.name || "",
// // // // // // // // // //     email: member.email || "",
// // // // // // // // // //     age: member.age || "",
// // // // // // // // // //     gender: member.gender || "",
// // // // // // // // // //     phone: member.phone || "",
// // // // // // // // // //     membership_plan: member.membership_plan || "",
// // // // // // // // // //     trainer: member.trainer || "",
// // // // // // // // // //     photo: member.photo || null,
// // // // // // // // // //     status: member.status || "Active",
// // // // // // // // // //   });
// // // // // // // // // // };

// // // // // // // // // // // Handle form changes
// // // // // // // // // // const handleChange = (e) => {
// // // // // // // // // //   const { name, value } = e.target;
// // // // // // // // // //   setFormData((prev) => ({
// // // // // // // // // //     ...prev,
// // // // // // // // // //     [name]: value,
// // // // // // // // // //   }));
// // // // // // // // // // };

// // // // // // // // // // // Save edited member
// // // // // // // // // // // const handleSave = async () => {
// // // // // // // // // // //   if (!editingMember) {
// // // // // // // // // // //     console.error("Error: No membershipID available for update.");
// // // // // // // // // // //     return;
// // // // // // // // // // //   }

// // // // // // // // // // //   try {
// // // // // // // // // // //     const response = await fetch(
// // // // // // // // // // //       `http://localhost:5000/api/admin/members/${editingMember}`, // Using correct membershipID
// // // // // // // // // // //       {
// // // // // // // // // // //         method: "PUT",
// // // // // // // // // // //         headers: {
// // // // // // // // // // //           "Content-Type": "application/json",
// // // // // // // // // // //         },
// // // // // // // // // // //         body: JSON.stringify(formData),
// // // // // // // // // // //       }
// // // // // // // // // // //     );

// // // // // // // // // // //     if (!response.ok) {
// // // // // // // // // // //       throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // // //     }

// // // // // // // // // // //     const updatedMember = await response.json();
// // // // // // // // // // //     console.log("Updated Member:", updatedMember);

// // // // // // // // // // //     // Update the local state with the updated member
// // // // // // // // // // //     setMembers((prevMembers) =>
// // // // // // // // // // //       prevMembers.map((member) =>
// // // // // // // // // // //         member.membershipID === editingMember ? { ...member, ...formData } : member
// // // // // // // // // // //       )
// // // // // // // // // // //     );

// // // // // // // // // // //     setEditingMember(null); // Exit edit mode
// // // // // // // // // // //     setSaveSuccess(true); // Show success message
// // // // // // // // // // //     setTimeout(() => setSaveSuccess(false), 3000); // Hide success message after 3 seconds
// // // // // // // // // // //   } catch (err) {
// // // // // // // // // // //     console.error("Error updating member:", err);
// // // // // // // // // // //   }
// // // // // // // // // // // };
// // // // // // // // // // const handleSave = async () => {
// // // // // // // // // //     if (!editingMember) {
// // // // // // // // // //       console.error("Error: No member is currently being edited.");
// // // // // // // // // //       return;
// // // // // // // // // //     }

// // // // // // // // // //     const membershipID = formData.membershipID || editingMember;

// // // // // // // // // //     if (!membershipID) {
// // // // // // // // // //       console.error("Error: Could not determine membershipID for update.");
// // // // // // // // // //       return;
// // // // // // // // // //     }

// // // // // // // // // //     // Create a complete copy of the data to send to the server
// // // // // // // // // //     const dataToSend = {
// // // // // // // // // //       ...formData,
// // // // // // // // // //       membershipID: membershipID
// // // // // // // // // //     };

// // // // // // // // // //     console.log("Complete data being sent to server:", dataToSend);

// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "PUT",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //           body: JSON.stringify(dataToSend),
// // // // // // // // // //         }
// // // // // // // // // //       );

// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         const errorText = await response.text();
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}, Response: ${errorText}`);
// // // // // // // // // //       }

// // // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // // //       console.log("Response from server:", updatedMember);

// // // // // // // // // //       // Update local state to reflect what was sent to the server
// // // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // // //         prevMembers.map((member) =>
// // // // // // // // // //           member.membershipID === membershipID ? { ...member, ...dataToSend } : member
// // // // // // // // // //         )
// // // // // // // // // //       );

// // // // // // // // // //       setEditingMember(null);
// // // // // // // // // //       setSaveSuccess(true);
// // // // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000);
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Handle delete
// // // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // // //     setMemberToDelete(member);
// // // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // // //   };

// // // // // // // // // //   const handleDelete = async (membershipID) => {
// // // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // // //     const memberToDeleteObj = members.find((m) => m.membershipID === membershipID);
// // // // // // // // // //     if (!memberToDeleteObj) {
// // // // // // // // // //       console.error("Member not found");
// // // // // // // // // //       return;
// // // // // // // // // //     }
// // // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // // //     setMembers(members.filter((member) => member.membershipID !== membershipID));

// // // // // // // // // //     // Start the 5-second timer
// // // // // // // // // //     setUndoTimer(5);
// // // // // // // // // //     const timer = setInterval(() => {
// // // // // // // // // //       setUndoTimer((prev) => {
// // // // // // // // // //         if (prev === 1) {
// // // // // // // // // //           clearInterval(timer);
// // // // // // // // // //           deleteMemberFromDatabase(membershipID); // Delete from the database after 5 seconds
// // // // // // // // // //           return 0;
// // // // // // // // // //         }
// // // // // // // // // //         return prev - 1;
// // // // // // // // // //       });
// // // // // // // // // //     }, 1000);

// // // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // // //   };

// // // // // // // // // //   // Delete member from the database
// // // // // // // // // //   const deleteMemberFromDatabase = async (membershipID) => {
// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // // // // //         {
// // // // // // // // // //           method: "DELETE",
// // // // // // // // // //           headers: {
// // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // //           },
// // // // // // // // // //         }
// // // // // // // // // //       );
// // // // // // // // // //       if (!response.ok) {
// // // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // // //       }
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   // Undo delete functionality
// // // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // // //     if (deleteTimer) {
// // // // // // // // // //       clearInterval(deleteTimer);
// // // // // // // // // //       setDeleteTimer(null);
// // // // // // // // // //     }
// // // // // // // // // //     if (deletedMember) {
// // // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // // //       setDeletedMember(null);
// // // // // // // // // //     }
// // // // // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // // // // //   };

// // // // // // // // // //   // Toggle view mode
// // // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // // //   };

// // // // // // // // // //   // Apply filter
// // // // // // // // // //   const applyFilter = () => {
// // // // // // // // // //     setShowFilterModal(false);
// // // // // // // // // //   };

// // // // // // // // // //   // Reset filters
// // // // // // // // // //   const resetFilters = () => {
// // // // // // // // // //     setFilterCriteria({
// // // // // // // // // //       age: "",
// // // // // // // // // //       gender: [],
// // // // // // // // // //       membership_plan: [],
// // // // // // // // // //       status: [],
// // // // // // // // // //       dateRange: { start: "", end: "" },
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   if (isLoading)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //             Loading members...
// // // // // // // // // //           </p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   if (error)
// // // // // // // // // //     return (
// // // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // // //         <div className="text-center">
// // // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     );

// // // // // // // // // //   return (
// // // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // // //       {/* Header Section */}
// // // // // // // // // //       <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8 sticky top-0 bg-gray-900 z-50">
// // // // // // // // // //         <div className="flex items-center">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/dashboard")}
// // // // // // // // // //             className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 strokeWidth={2}
// // // // // // // // // //                 d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </button>
// // // // // // // // // //           <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // // //             Members List
// // // // // // // // // //           </h1>
// // // // // // // // // //         </div>

// // // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // // //           >
// // // // // // // // // //             <span className="flex items-center">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1.5}
// // // // // // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <span className="font-medium">Filter View</span>
// // // // // // // // // //             </span>
// // // // // // // // // //           </button>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={() => router.push("/add-member")}
// // // // // // // // // //             className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             <Plus size={20} />
// // // // // // // // // //             <span>Add Member</span>
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Search Bar */}
// // // // // // // // // //       <div className="w-full px-8 pt-10 sticky top-20 bg-gray-900 z-40">
// // // // // // // // // //         <div
// // // // // // // // // //           className={`relative transition-all duration-500 ${
// // // // // // // // // //             searchFocused ? "scale-105" : ""
// // // // // // // // // //           }`}
// // // // // // // // // //         >
// // // // // // // // // //           <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // // //             <svg
// // // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //               className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // // //                 searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // // //               }`}
// // // // // // // // // //               fill="none"
// // // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // // //               stroke="currentColor"
// // // // // // // // // //               strokeWidth={1.5}
// // // // // // // // // //             >
// // // // // // // // // //               <path
// // // // // // // // // //                 strokeLinecap="round"
// // // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // // //                 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // // //               />
// // // // // // // // // //             </svg>
// // // // // // // // // //           </span>
// // // // // // // // // //           <input
// // // // // // // // // //             type="text"
// // // // // // // // // //             placeholder="Search by name, email, or status"
// // // // // // // // // //             className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // // //               border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // // //               dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // // //               text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // // //               transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // // //             value={searchTerm}
// // // // // // // // // //             onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // // //             onFocus={() => setSearchFocused(true)}
// // // // // // // // // //             onBlur={() => setSearchFocused(false)}
// // // // // // // // // //           />
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>

// // // // // // // // // //       {/* Clear Filters Button */}
// // // // // // // // // //       {(filterCriteria.age ||
// // // // // // // // // //         filterCriteria.gender.length > 0 ||
// // // // // // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // // // // // //         filterCriteria.status.length > 0 ||
// // // // // // // // // //         filterCriteria.dateRange.start ||
// // // // // // // // // //         filterCriteria.dateRange.end) && (
// // // // // // // // // //         <div className="w-full px-8 pt-4">
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={resetFilters}
// // // // // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // // //           >
// // // // // // // // // //             Clear Filters
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Members Table */}
// // // // // // // // // //       {viewMode === "table" ? (
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //                 No members found.
// // // // // // // // // //               </p>
// // // // // // // // // //             </div>
// // // // // // // // // //           ) : (
// // // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // // //                   <thead>
// // // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Membership ID
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Photo
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Name
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Email
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Age
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Gender
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Phone
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Membership Plan
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Trainer
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Status
// // // // // // // // // //                       </th>
// // // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // // //                         Actions
// // // // // // // // // //                       </th>
// // // // // // // // // //                     </tr>
// // // // // // // // // //                   </thead>
// // // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // // //                     {filteredMembers.map((member) => (
// // // // // // // // // //                       <tr
// // // // // // // // // //                         key={member.membershipID}
// // // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // // //                       >
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // // //                           {member.membershipID}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // // //                             <User size={20} />
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="name"
// // // // // // // // // //                               value={formData.name}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.name
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="email"
// // // // // // // // // //                               name="email"
// // // // // // // // // //                               value={formData.email}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.email
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="number"
// // // // // // // // // //                               name="age"
// // // // // // // // // //                               value={formData.age}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.age
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="gender"
// // // // // // // // // //                               value={formData.gender}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.gender
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="phone"
// // // // // // // // // //                               value={formData.phone}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.phone
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="membership_plan"
// // // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Monthly">Monthly</option>
// // // // // // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                               <option value="Yearly">Yearly</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.membership_plan
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // // //                             <select
// // // // // // // // // //                               name="trainer"
// // // // // // // // // //                               value={formData.trainer}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             >
// // // // // // // // // //                               <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                               <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                               <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                             </select>
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             member.trainer
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // // //                             <input
// // // // // // // // // //                               type="text"
// // // // // // // // // //                               name="status"
// // // // // // // // // //                               value={formData.status}
// // // // // // // // // //                               onChange={handleChange}
// // // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                             />
// // // // // // // // // //                           ) : (
// // // // // // // // // //                             <span
// // // // // // // // // //                               className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // // //                                 member.status === "Active"
// // // // // // // // // //                                   ? "text-green-300 border border-green-500"
// // // // // // // // // //                                   : member.status === "Inactive"
// // // // // // // // // //                                   ? "text-yellow-300 border border-yellow-500"
// // // // // // // // // //                                   : "text-red-300 border border-red-500"
// // // // // // // // // //                               } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // // //                             >
// // // // // // // // // //                               {member.status}
// // // // // // // // // //                             </span>
// // // // // // // // // //                           )}
// // // // // // // // // //                         </td>
// // // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // // //                             {editingMember === member.membershipID ? (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={handleSave}
// // // // // // // // // //                                 className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Save size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             ) : (
// // // // // // // // // //                               <button
// // // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // // //                                 className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // // //                               >
// // // // // // // // // //                                 <Edit size={16} />
// // // // // // // // // //                               </button>
// // // // // // // // // //                             )}
// // // // // // // // // //                             <button
// // // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // // //                             >
// // // // // // // // // //                               <Trash size={16} />
// // // // // // // // // //                             </button>
// // // // // // // // // //                           </div>
// // // // // // // // // //                         </td>
// // // // // // // // // //                       </tr>
// // // // // // // // // //                     ))}
// // // // // // // // // //                   </tbody>
// // // // // // // // // //                 </table>
// // // // // // // // // //               </div>
// // // // // // // // // //             </div>
// // // // // // // // // //           )}
// // // // // // // // // //         </div>
// // // // // // // // // //       ) : (
// // // // // // // // // //         // Card View
// // // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // // // // //             {filteredMembers.map((member) => (
// // // // // // // // // //               <div
// // // // // // // // // //                 key={member.membershipID}
// // // // // // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // // // // //               >
// // // // // // // // // //                 <div className="flex items-center space-x-4">
// // // // // // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // // // // //                     <User size={20} />
// // // // // // // // // //                   </div>
// // // // // // // // // //                   <div>
// // // // // // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // // // // // //                       {editingMember === member.membershipID ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="text"
// // // // // // // // // //                           name="name"
// // // // // // // // // //                           value={formData.name}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.name
// // // // // // // // // //                       )}
// // // // // // // // // //                     </h3>
// // // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // // //                       {editingMember === member.membershipID ? (
// // // // // // // // // //                         <input
// // // // // // // // // //                           type="email"
// // // // // // // // // //                           name="email"
// // // // // // // // // //                           value={formData.email}
// // // // // // // // // //                           onChange={handleChange}
// // // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                         />
// // // // // // // // // //                       ) : (
// // // // // // // // // //                         member.email
// // // // // // // // // //                       )}
// // // // // // // // // //                     </p>
// // // // // // // // // //                   </div>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-4 space-y-2">
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Membership ID:</span>{" "}
// // // // // // // // // //                     {member.membershipID}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="number"
// // // // // // // // // //                         name="age"
// // // // // // // // // //                         value={formData.age}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.age
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="gender"
// // // // // // // // // //                         value={formData.gender}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Male">Male</option>
// // // // // // // // // //                         <option value="Female">Female</option>
// // // // // // // // // //                         <option value="Other">Other</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.gender
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Phone:</span>{" "}
// // // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // // //                       <input
// // // // // // // // // //                         type="text"
// // // // // // // // // //                         name="phone"
// // // // // // // // // //                         value={formData.phone}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       />
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.phone
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="membership_plan"
// // // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Monthly">Monthly</option>
// // // // // // // // // //                         <option value="Quarterly">Quarterly</option>
// // // // // // // // // //                         <option value="Yearly">Yearly</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.membership_plan
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // // //                     <span className="font-medium">Trainer:</span>{" "}
// // // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="trainer"
// // // // // // // // // //                         value={formData.trainer}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Trainer 1">Trainer 1</option>
// // // // // // // // // //                         <option value="Trainer 2">Trainer 2</option>
// // // // // // // // // //                         <option value="Trainer 3">Trainer 3</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       member.trainer
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                   <p className="text-sm">
// // // // // // // // // //                     <span className="font-medium">Status:</span>{" "}
// // // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // // //                       <select
// // // // // // // // // //                         name="status"
// // // // // // // // // //                         value={formData.status}
// // // // // // // // // //                         onChange={handleChange}
// // // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // // //                       >
// // // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // // //                       </select>
// // // // // // // // // //                     ) : (
// // // // // // // // // //                       <span
// // // // // // // // // //                         className={`px-3 py-1 rounded-lg text-xs font-medium ${
// // // // // // // // // //                           member.status === "Active"
// // // // // // // // // //                             ? "text-green-300 border border-green-500"
// // // // // // // // // //                             : member.status === "Inactive"
// // // // // // // // // //                             ? "text-yellow-300 border border-yellow-500"
// // // // // // // // // //                             : "text-red-300 border border-red-500"
// // // // // // // // // //                         } transition-all duration-300 backdrop-blur-sm inline-block mt-1`}
// // // // // // // // // //                       >
// // // // // // // // // //                         {member.status}
// // // // // // // // // //                       </span>
// // // // // // // // // //                     )}
// // // // // // // // // //                   </p>
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div className="mt-6 flex space-x-3">
// // // // // // // // // //                   {editingMember === member.membershipID ? (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={handleSave}
// // // // // // // // // //                       className="flex-1 bg-green-500 px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Save size={16} />
// // // // // // // // // //                       <span>Save</span>
// // // // // // // // // //                     </button>
// // // // // // // // // //                   ) : (
// // // // // // // // // //                     <button
// // // // // // // // // //                       onClick={() => handleEdit(member)}
// // // // // // // // // //                       className="flex-1 bg-blue-500 px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // // // //                     >
// // // // // // // // // //                       <Edit size={16} />
// // // // // // // // // //                       <span>Edit</span>
// // // // // // // // // //                     </button>
// // // // // // // // // //                   )}
// // // // // // // // // //                   <button
// // // // // // // // // //                     onClick={() => confirmDelete(member)}
// // // // // // // // // //                     className="flex-1 bg-red-500 px-4 py-2 rounded-lg hover:bg-red-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // // // //                   >
// // // // // // // // // //                     <Trash size={16} />
// // // // // // // // // //                     <span>Delete</span>
// // // // // // // // // //                   </button>
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //             ))}
// // // // // // // // // //           </div>
// // // // // // // // // //           {filteredMembers.length === 0 && (
// // // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // // //               <svg
// // // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // // //                 fill="none"
// // // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // // //                 stroke="currentColor"
// // // // // // // // // //               >
// // // // // // // // // //                 <path
// // // // // // // // // //                   strokeLinecap="round"
// // // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // // //                   strokeWidth={1}
// // // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // // //                 />
// // // // // // // // // //               </svg>
// // // // // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // // // // //                 No members found.
// // // // // // // // // //               </p>
// // // // // // // // // //             </div>
// // // // // // // // // //           )}
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Filter Modal */}
// // // // // // // // // //       {showFilterModal && (
// // // // // // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // // // // // //           <div
// // // // // // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // // // // // //             onClick={() => setShowFilterModal(false)}
// // // // // // // // // //           ></div>
// // // // // // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg">
// // // // // // // // // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // // // // // // // // //               Filter Members
// // // // // // // // // //             </h2>
// // // // // // // // // //             <div className="space-y-6">
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-white mb-2">Age</label>
// // // // // // // // // //                 <input
// // // // // // // // // //                   type="number"
// // // // // // // // // //                   value={filterCriteria.age}
// // // // // // // // // //                   onChange={(e) =>
// // // // // // // // // //                     setFilterCriteria({
// // // // // // // // // //                       ...filterCriteria,
// // // // // // // // // //                       age: e.target.value,
// // // // // // // // // //                     })
// // // // // // // // // //                   }
// // // // // // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // // // //                   placeholder="Enter age"
// // // // // // // // // //                 />
// // // // // // // // // //               </div>
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-white mb-2">Gender</label>
// // // // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // // // //                   {["Male", "Female", "Other"].map((gender) => (
// // // // // // // // // //                     <div
// // // // // // // // // //                       key={gender}
// // // // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // // // //                         filterCriteria.gender.includes(gender)
// // // // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // // // //                       }`}
// // // // // // // // // //                       onClick={() => {
// // // // // // // // // //                         if (filterCriteria.gender.includes(gender)) {
// // // // // // // // // //                           setFilterCriteria({
// // // // // // // // // //                             ...filterCriteria,
// // // // // // // // // //                             gender: filterCriteria.gender.filter(
// // // // // // // // // //                               (g) => g !== gender
// // // // // // // // // //                             ),
// // // // // // // // // //                           });
// // // // // // // // // //                         } else {
// // // // // // // // // //                           setFilterCriteria({
// // // // // // // // // //                             ...filterCriteria,
// // // // // // // // // //                             gender: [...filterCriteria.gender, gender],
// // // // // // // // // //                           });
// // // // // // // // // //                         }
// // // // // // // // // //                       }}
// // // // // // // // // //                     >
// // // // // // // // // //                       {gender}
// // // // // // // // // //                     </div>
// // // // // // // // // //                   ))}
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-white mb-2">Membership Plan</label>
// // // // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // // // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // // // // // // // // //                     <div
// // // // // // // // // //                       key={plan}
// // // // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // // // //                         filterCriteria.membership_plan.includes(plan)
// // // // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // // // //                       }`}
// // // // // // // // // //                       onClick={() => {
// // // // // // // // // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // // // // // // // // //                           setFilterCriteria({
// // // // // // // // // //                             ...filterCriteria,
// // // // // // // // // //                             membership_plan: filterCriteria.membership_plan.filter(
// // // // // // // // // //                               (p) => p !== plan
// // // // // // // // // //                             ),
// // // // // // // // // //                           });
// // // // // // // // // //                         } else {
// // // // // // // // // //                           setFilterCriteria({
// // // // // // // // // //                             ...filterCriteria,
// // // // // // // // // //                             membership_plan: [
// // // // // // // // // //                               ...filterCriteria.membership_plan,
// // // // // // // // // //                               plan,
// // // // // // // // // //                             ],
// // // // // // // // // //                           });
// // // // // // // // // //                         }
// // // // // // // // // //                       }}
// // // // // // // // // //                     >
// // // // // // // // // //                       {plan}
// // // // // // // // // //                     </div>
// // // // // // // // // //                   ))}
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //               <div>
// // // // // // // // // //                 <label className="block text-white mb-2">Status</label>
// // // // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // // // //                   {["Active", "Inactive", "Suspended"].map((status) => (
// // // // // // // // // //                     <div
// // // // // // // // // //                       key={status}
// // // // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // // // //                         filterCriteria.status.includes(status)
// // // // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // // // //                       }`}
// // // // // // // // // //                       onClick={() => {
// // // // // // // // // //                         if (filterCriteria.status.includes(status)) {
// // // // // // // // // //                           setFilterCriteria({
// // // // // // // // // //                             ...filterCriteria,
// // // // // // // // // //                             status: filterCriteria.status.filter(
// // // // // // // // // //                               (s) => s !== status
// // // // // // // // // //                             ),
// // // // // // // // // //                           });
// // // // // // // // // //                         } else {
// // // // // // // // // //                           setFilterCriteria({
// // // // // // // // // //                             ...filterCriteria,
// // // // // // // // // //                             status: [...filterCriteria.status, status],
// // // // // // // // // //                           });
// // // // // // // // // //                         }
// // // // // // // // // //                       }}
// // // // // // // // // //                     >
// // // // // // // // // //                       {status}
// // // // // // // // // //                     </div>
// // // // // // // // // //                   ))}
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //               <div className="grid grid-cols-2 gap-4">
// // // // // // // // // //                 <div>
// // // // // // // // // //                   <label className="block text-white mb-2">Start Date</label>
// // // // // // // // // //                   <input
// // // // // // // // // //                     type="date"
// // // // // // // // // //                     value={filterCriteria.dateRange.start}
// // // // // // // // // //                     onChange={(e) =>
// // // // // // // // // //                       setFilterCriteria({
// // // // // // // // // //                         ...filterCriteria,
// // // // // // // // // //                         dateRange: {
// // // // // // // // // //                           ...filterCriteria.dateRange,
// // // // // // // // // //                           start: e.target.value,
// // // // // // // // // //                         },
// // // // // // // // // //                       })
// // // // // // // // // //                     }
// // // // // // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // // // //                   />
// // // // // // // // // //                 </div>
// // // // // // // // // //                 <div>
// // // // // // // // // //                   <label className="block text-white mb-2">End Date</label>
// // // // // // // // // //                   <input
// // // // // // // // // //                     type="date"
// // // // // // // // // //                     value={filterCriteria.dateRange.end}
// // // // // // // // // //                     onChange={(e) =>
// // // // // // // // // //                       setFilterCriteria({
// // // // // // // // // //                         ...filterCriteria,
// // // // // // // // // //                         dateRange: {
// // // // // // // // // //                           ...filterCriteria.dateRange,
// // // // // // // // // //                           end: e.target.value,
// // // // // // // // // //                         },
// // // // // // // // // //                       })
// // // // // // // // // //                     }
// // // // // // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // // // //                   />
// // // // // // // // // //                 </div>
// // // // // // // // // //               </div>
// // // // // // // // // //             </div>
// // // // // // // // // //             <div className="mt-8 flex space-x-4">
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => setShowFilterModal(false)}
// // // // // // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // // // // // //               >
// // // // // // // // // //                 Cancel
// // // // // // // // // //               </button>
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={applyFilter}
// // // // // // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Apply Filters
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // // //       {showConfirmDialog && (
// // // // // // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // // // // // //           <div
// // // // // // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // // // // // //             onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // //           ></div>
// // // // // // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // // // // // // // // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // // // // // // // // //               Confirm Delete
// // // // // // // // // //             </h2>
// // // // // // // // // //             <p className="text-gray-300 mb-6 text-center">
// // // // // // // // // //               Are you sure you want to delete{" "}
// // // // // // // // // //               <span className="font-medium text-white">
// // // // // // // // // //                 {memberToDelete?.name}
// // // // // // // // // //               </span>
// // // // // // // // // //               ? This action cannot be undone after 5 seconds.
// // // // // // // // // //             </p>
// // // // // // // // // //             <div className="flex space-x-4">
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // // // // // //               >
// // // // // // // // // //                 Cancel
// // // // // // // // // //               </button>
// // // // // // // // // //               <button
// // // // // // // // // //                 onClick={() => {
// // // // // // // // // //                   if (memberToDelete) {
// // // // // // // // // //                     handleDelete(memberToDelete.membershipID);
// // // // // // // // // //                   }
// // // // // // // // // //                 }}
// // // // // // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // // // // // //               >
// // // // // // // // // //                 Delete
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Undo Delete Toast */}
// // // // // // // // // //       {deletedMember && undoTimer > 0 && (
// // // // // // // // // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // // // // // //           <p className="text-gray-300">
// // // // // // // // // //             <span className="font-medium text-white">
// // // // // // // // // //               {deletedMember.name}
// // // // // // // // // //             </span>{" "}
// // // // // // // // // //             deleted
// // // // // // // // // //           </p>
// // // // // // // // // //           <button
// // // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400"
// // // // // // // // // //           >
// // // // // // // // // //             <Undo size={16} />
// // // // // // // // // //             <span>Undo ({undoTimer}s)</span>
// // // // // // // // // //           </button>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}

// // // // // // // // // //       {/* Save Success Toast */}
// // // // // // // // // //       {saveSuccess && (
// // // // // // // // // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // // // // // //           <svg
// // // // // // // // // //             xmlns="http://www.w3.org/2000/svg"
// // // // // // // // // //             className="h-6 w-6 text-green-500"
// // // // // // // // // //             fill="none"
// // // // // // // // // //             viewBox="0 0 24 24"
// // // // // // // // // //             stroke="currentColor"
// // // // // // // // // //           >
// // // // // // // // // //             <path
// // // // // // // // // //               strokeLinecap="round"
// // // // // // // // // //               strokeLinejoin="round"
// // // // // // // // // //               strokeWidth={2}
// // // // // // // // // //               d="M5 13l4 4L19 7"
// // // // // // // // // //             />
// // // // // // // // // //           </svg>
// // // // // // // // // //           <p className="text-green-300">Member updated successfully!</p>
// // // // // // // // // //         </div>
// // // // // // // // // //       )}
// // // // // // // // // //     </div>
// // // // // // // // // //   );
// // // // // // // // // // };

// // // // // // // // // // export default MembersPage;
// // // // // // // // // "use client";

// // // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // // const MembersPage = () => {
// // // // // // // // //   const router = useRouter();
// // // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // // //   const [error, setError] = useState(null);
// // // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // // // //     age: "",
// // // // // // // // //     gender: [],
// // // // // // // // //     membership_plan: [],
// // // // // // // // //     status: [],
// // // // // // // // //     dateRange: { start: "", end: "" },
// // // // // // // // //   });
// // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // //     name: "",
// // // // // // // // //     email: "",
// // // // // // // // //     age: "",
// // // // // // // // //     gender: "",
// // // // // // // // //     phone: "",
// // // // // // // // //     membership_plan: "",
// // // // // // // // //     trainer: "",
// // // // // // // // //     photo: null,
// // // // // // // // //     status: "Active",
// // // // // // // // //   });
// // // // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // // // //   // Fetch members from the backend
// // // // // // // // //   useEffect(() => {
// // // // // // // // //     const fetchMembers = async () => {
// // // // // // // // //       try {
// // // // // // // // //         const response = await fetch("http://localhost:5000/api/admin/members", {
// // // // // // // // //           method: "GET",
// // // // // // // // //           headers: {
// // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // //           },
// // // // // // // // //         });
// // // // // // // // //         if (!response.ok) {
// // // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // //         }
// // // // // // // // //         const data = await response.json();
// // // // // // // // //         console.log("API Response:", data); // Log the API response
// // // // // // // // //         setMembers(data || []); // Ensure members is always an array
// // // // // // // // //         setError(null);
// // // // // // // // //       } catch (err) {
// // // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // // //       } finally {
// // // // // // // // //         setIsLoading(false);
// // // // // // // // //       }
// // // // // // // // //     };
// // // // // // // // //     fetchMembers();
// // // // // // // // //   }, []);

// // // // // // // // //   // Handle search
// // // // // // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // // // // // //     const name = member.name || "";
// // // // // // // // //     const email = member.email || "";
// // // // // // // // //     const status = member.status || "";

// // // // // // // // //     // Search filter (case-insensitive)
// // // // // // // // //     const matchesSearch =
// // // // // // // // //       searchTerm === "" ||
// // // // // // // // //       name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // // //       status.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // // //     // Age filter
// // // // // // // // //     const ageMatch =
// // // // // // // // //       filterCriteria.age === "" ||
// // // // // // // // //       (member.age !== null &&
// // // // // // // // //         member.age !== undefined &&
// // // // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // // // //     // Gender filter (multiple selection)
// // // // // // // // //     const genderMatch =
// // // // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // // // //     const membershipPlanMatch =
// // // // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // // // //     // Status filter (multiple selection)
// // // // // // // // //     const statusMatch =
// // // // // // // // //       filterCriteria.status.length === 0 ||
// // // // // // // // //       filterCriteria.status.includes(member.status);

// // // // // // // // //     // Date range filter
// // // // // // // // //     const memberDate = new Date(member.joinedDate); // Assuming joinedDate is a field
// // // // // // // // //     const matchesDateStart =
// // // // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // // // //       memberDate >= new Date(filterCriteria.dateRange.start);
// // // // // // // // //     const matchesDateEnd =
// // // // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // // // //       memberDate <= new Date(filterCriteria.dateRange.end);

// // // // // // // // //     // Return true only if all filters match
// // // // // // // // //     return (
// // // // // // // // //       matchesSearch &&
// // // // // // // // //       ageMatch &&
// // // // // // // // //       genderMatch &&
// // // // // // // // //       membershipPlanMatch &&
// // // // // // // // //       statusMatch &&
// // // // // // // // //       matchesDateStart &&
// // // // // // // // //       matchesDateEnd
// // // // // // // // //     );
// // // // // // // // //   });

// // // // // // // // //   // Handle edit
// // // // // // // // //   const handleEdit = (member) => {
// // // // // // // // //     if (!member || !member.membershipID) return; // Ensure member exists and has an ID
// // // // // // // // //     setEditingMember(member.membershipID); // Store membershipID in editing state
// // // // // // // // //     setFormData({
// // // // // // // // //       name: member.name || "",
// // // // // // // // //       email: member.email || "",
// // // // // // // // //       age: member.age || "",
// // // // // // // // //       gender: member.gender || "",
// // // // // // // // //       phone: member.phone || "",
// // // // // // // // //       membership_plan: member.membership_plan || "",
// // // // // // // // //       trainer: member.trainer || "",
// // // // // // // // //       photo: member.photo || null,
// // // // // // // // //       status: member.status || "Active",
// // // // // // // // //     });
// // // // // // // // //   };

// // // // // // // // //   // Handle form changes
// // // // // // // // //   const handleChange = (e) => {
// // // // // // // // //     const { name, value } = e.target;
// // // // // // // // //     setFormData((prev) => ({
// // // // // // // // //       ...prev,
// // // // // // // // //       [name]: value,
// // // // // // // // //     }));
// // // // // // // // //   };

// // // // // // // // //   // Save edited member
// // // // // // // // //   const handleSave = async () => {
// // // // // // // // //     if (!editingMember) {
// // // // // // // // //       console.error("Error: No member is currently being edited.");
// // // // // // // // //       return;
// // // // // // // // //     }

// // // // // // // // //     const membershipID = editingMember;

// // // // // // // // //     // Create a complete copy of the data to send to the server
// // // // // // // // //     const dataToSend = {
// // // // // // // // //       ...formData,
// // // // // // // // //       membershipID: membershipID,
// // // // // // // // //     };

// // // // // // // // //     console.log("Complete data being sent to server:", dataToSend);

// // // // // // // // //     try {
// // // // // // // // //       const response = await fetch(
// // // // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // // // //         {
// // // // // // // // //           method: "PUT",
// // // // // // // // //           headers: {
// // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // //           },
// // // // // // // // //           body: JSON.stringify(dataToSend),
// // // // // // // // //         }
// // // // // // // // //       );

// // // // // // // // //       if (!response.ok) {
// // // // // // // // //         const errorText = await response.text();
// // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}, Response: ${errorText}`);
// // // // // // // // //       }

// // // // // // // // //       const updatedMember = await response.json();
// // // // // // // // //       console.log("Response from server:", updatedMember);

// // // // // // // // //       // Update local state to reflect what was sent to the server
// // // // // // // // //       setMembers((prevMembers) =>
// // // // // // // // //         prevMembers.map((member) =>
// // // // // // // // //           member.membershipID === membershipID ? { ...member, ...dataToSend } : member
// // // // // // // // //         )
// // // // // // // // //       );

// // // // // // // // //       setEditingMember(null);
// // // // // // // // //       setSaveSuccess(true);
// // // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000);
// // // // // // // // //     } catch (err) {
// // // // // // // // //       console.error("Error updating member:", err);
// // // // // // // // //     }
// // // // // // // // //   };

// // // // // // // // //   // Handle delete
// // // // // // // // //   const confirmDelete = (member) => {
// // // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // // //     setMemberToDelete(member);
// // // // // // // // //     setShowConfirmDialog(true);
// // // // // // // // //   };

// // // // // // // // //   const handleDelete = async (membershipID) => {
// // // // // // // // //     setShowConfirmDialog(false);
// // // // // // // // //     const memberToDeleteObj = members.find((m) => m.membershipID === membershipID);
// // // // // // // // //     if (!memberToDeleteObj) {
// // // // // // // // //       console.error("Member not found");
// // // // // // // // //       return;
// // // // // // // // //     }
// // // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // // //     setMembers(members.filter((member) => member.membershipID !== membershipID));

// // // // // // // // //     // Start the 5-second timer
// // // // // // // // //     setUndoTimer(5);
// // // // // // // // //     const timer = setInterval(() => {
// // // // // // // // //       setUndoTimer((prev) => {
// // // // // // // // //         if (prev === 1) {
// // // // // // // // //           clearInterval(timer);
// // // // // // // // //           deleteMemberFromDatabase(membershipID); // Delete from the database after 5 seconds
// // // // // // // // //           return 0;
// // // // // // // // //         }
// // // // // // // // //         return prev - 1;
// // // // // // // // //       });
// // // // // // // // //     }, 1000);
// // // // // // // // //     setDeleteTimer(timer);
// // // // // // // // //   };

// // // // // // // // //   // Delete member from the database
// // // // // // // // //   const deleteMemberFromDatabase = async (membershipID) => {
// // // // // // // // //     try {
// // // // // // // // //       const response = await fetch(
// // // // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // // // //         {
// // // // // // // // //           method: "DELETE",
// // // // // // // // //           headers: {
// // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // //           },
// // // // // // // // //         }
// // // // // // // // //       );
// // // // // // // // //       if (!response.ok) {
// // // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // // //       }
// // // // // // // // //       setDeletedMember(null);
// // // // // // // // //     } catch (err) {
// // // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // //     }
// // // // // // // // //   };

// // // // // // // // //   // Undo delete functionality
// // // // // // // // //   const handleUndoDelete = () => {
// // // // // // // // //     if (deleteTimer) {
// // // // // // // // //       clearInterval(deleteTimer);
// // // // // // // // //       setDeleteTimer(null);
// // // // // // // // //     }
// // // // // // // // //     if (deletedMember) {
// // // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // // //       setDeletedMember(null);
// // // // // // // // //     }
// // // // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // // // //   };

// // // // // // // // //   // Toggle view mode
// // // // // // // // //   const toggleViewMode = () => {
// // // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // // //   };

// // // // // // // // //   // Apply filter
// // // // // // // // //   const applyFilter = () => {
// // // // // // // // //     setShowFilterModal(false);
// // // // // // // // //   };

// // // // // // // // //   // Reset filters
// // // // // // // // //   const resetFilters = () => {
// // // // // // // // //     setFilterCriteria({
// // // // // // // // //       age: "",
// // // // // // // // //       gender: [],
// // // // // // // // //       membership_plan: [],
// // // // // // // // //       status: [],
// // // // // // // // //       dateRange: { start: "", end: "" },
// // // // // // // // //     });
// // // // // // // // //   };

// // // // // // // // //   if (isLoading)
// // // // // // // // //     return (
// // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // // //         <div className="text-center">
// // // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // // //           <p className="text-2xl font-light tracking-wider">Loading members...</p>
// // // // // // // // //         </div>
// // // // // // // // //       </div>
// // // // // // // // //     );

// // // // // // // // //   if (error)
// // // // // // // // //     return (
// // // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // // //         <div className="text-center">
// // // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // // //         </div>
// // // // // // // // //       </div>
// // // // // // // // //     );

// // // // // // // // //   return (
// // // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // // //       {/* Header Section */}
// // // // // // // // //       <div className="flex items-center justify-between border-b border-gray-800 pb-6 px-8 pt-8 sticky top-0 bg-gray-900 z-50">
// // // // // // // // //         <div className="flex items-center">
// // // // // // // // //           <button
// // // // // // // // //             onClick={() => router.push("/dashboard")}
// // // // // // // // //             className="mr-6 p-3 rounded-full bg-gray-800 border border-gray-700 hover:border-red-500 hover:bg-gray-700 transition-all duration-300 group shadow-lg hover:shadow-red-500/20"
// // // // // // // // //           >
// // // // // // // // //             <svg
// // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // //               className="h-6 w-6 text-red-500 group-hover:scale-110 transform transition-all duration-300"
// // // // // // // // //               fill="none"
// // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // //               stroke="currentColor"
// // // // // // // // //             >
// // // // // // // // //               <path
// // // // // // // // //                 strokeLinecap="round"
// // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // //                 strokeWidth={2}
// // // // // // // // //                 d="M10 19l-7-7m0 0l7-7m-7 7h18"
// // // // // // // // //               />
// // // // // // // // //             </svg>
// // // // // // // // //           </button>
// // // // // // // // //           <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // // //             Members List
// // // // // // // // //           </h1>
// // // // // // // // //         </div>
// // // // // // // // //         <div className="flex items-center space-x-4">
// // // // // // // // //           <button
// // // // // // // // //             onClick={toggleViewMode}
// // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // //           >
// // // // // // // // //             {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // // //           </button>
// // // // // // // // //           <button
// // // // // // // // //             onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // // //             className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // // //           >
// // // // // // // // //             <span className="flex items-center">
// // // // // // // // //               <svg
// // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // // // // //                 fill="none"
// // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // //                 stroke="currentColor"
// // // // // // // // //               >
// // // // // // // // //                 <path
// // // // // // // // //                   strokeLinecap="round"
// // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // //                   strokeWidth={1.5}
// // // // // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // // //                 />
// // // // // // // // //               </svg>
// // // // // // // // //               <span className="font-medium">Filter View</span>
// // // // // // // // //             </span>
// // // // // // // // //           </button>
// // // // // // // // //           <button
// // // // // // // // //             onClick={() => router.push("/add-member")}
// // // // // // // // //             className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // // //           >
// // // // // // // // //             <Plus size={20} />
// // // // // // // // //             <span>Add Member</span>
// // // // // // // // //           </button>
// // // // // // // // //         </div>
// // // // // // // // //       </div>

// // // // // // // // //       {/* Search Bar */}
// // // // // // // // //       <div className="w-full px-8 pt-10 sticky top-20 bg-gray-900 z-40">
// // // // // // // // //         <div
// // // // // // // // //           className={`relative transition-all duration-500 ${
// // // // // // // // //             searchFocused ? "scale-105" : ""
// // // // // // // // //           }`}
// // // // // // // // //         >
// // // // // // // // //           <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // // //             <svg
// // // // // // // // //               xmlns="http://www.w3.org/2000/svg"
// // // // // // // // //               className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // // //                 searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // // //               }`}
// // // // // // // // //               fill="none"
// // // // // // // // //               viewBox="0 0 24 24"
// // // // // // // // //               stroke="currentColor"
// // // // // // // // //               strokeWidth={1.5}
// // // // // // // // //             >
// // // // // // // // //               <path
// // // // // // // // //                 strokeLinecap="round"
// // // // // // // // //                 strokeLinejoin="round"
// // // // // // // // //                 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // // //               />
// // // // // // // // //             </svg>
// // // // // // // // //           </span>
// // // // // // // // //           <input
// // // // // // // // //             type="text"
// // // // // // // // //             placeholder="Search by name, email, or status"
// // // // // // // // //             className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // // //               border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // // //               dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // // //               text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // // //               transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // // //             value={searchTerm}
// // // // // // // // //             onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // // //             onFocus={() => setSearchFocused(true)}
// // // // // // // // //             onBlur={() => setSearchFocused(false)}
// // // // // // // // //           />
// // // // // // // // //         </div>
// // // // // // // // //       </div>

// // // // // // // // //       {/* Clear Filters Button */}
// // // // // // // // //       {(filterCriteria.age ||
// // // // // // // // //         filterCriteria.gender.length > 0 ||
// // // // // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // // // // //         filterCriteria.status.length > 0 ||
// // // // // // // // //         filterCriteria.dateRange.start ||
// // // // // // // // //         filterCriteria.dateRange.end) && (
// // // // // // // // //         <div className="w-full px-8 pt-4">
// // // // // // // // //           <button
// // // // // // // // //             onClick={resetFilters}
// // // // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // // //           >
// // // // // // // // //             Clear Filters
// // // // // // // // //           </button>
// // // // // // // // //         </div>
// // // // // // // // //       )}

// // // // // // // // //       {/* Members Table */}
// // // // // // // // //       {viewMode === "table" ? (
// // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // //               <svg
// // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // //                 fill="none"
// // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // //                 stroke="currentColor"
// // // // // // // // //               >
// // // // // // // // //                 <path
// // // // // // // // //                   strokeLinecap="round"
// // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // //                   strokeWidth={1}
// // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // //                 />
// // // // // // // // //               </svg>
// // // // // // // // //               <p className="text-2xl font-light tracking-wider">No members found.</p>
// // // // // // // // //             </div>
// // // // // // // // //           ) : (
// // // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // // //               <div className="overflow-x-auto">
// // // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // // //                   <thead>
// // // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Membership ID
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Photo
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Name
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Email
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Age
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Gender
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Phone
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Membership Plan
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Trainer
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Status
// // // // // // // // //                       </th>
// // // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // // //                         Actions
// // // // // // // // //                       </th>
// // // // // // // // //                     </tr>
// // // // // // // // //                   </thead>
// // // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // // //                     {filteredMembers.map((member) => (
// // // // // // // // //                       <tr
// // // // // // // // //                         key={member.membershipID}
// // // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // // //                       >
// // // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // // //                           {member.membershipID}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // // //                             <User size={20} />
// // // // // // // // //                           </div>
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // //                             <input
// // // // // // // // //                               type="text"
// // // // // // // // //                               name="name"
// // // // // // // // //                               value={formData.name}
// // // // // // // // //                               onChange={handleChange}
// // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                             />
// // // // // // // // //                           ) : (
// // // // // // // // //                             member.name
// // // // // // // // //                           )}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // //                             <input
// // // // // // // // //                               type="email"
// // // // // // // // //                               name="email"
// // // // // // // // //                               value={formData.email}
// // // // // // // // //                               onChange={handleChange}
// // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                             />
// // // // // // // // //                           ) : (
// // // // // // // // //                             member.email
// // // // // // // // //                           )}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // //                             <input
// // // // // // // // //                               type="number"
// // // // // // // // //                               name="age"
// // // // // // // // //                               value={formData.age}
// // // // // // // // //                               onChange={handleChange}
// // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                             />
// // // // // // // // //                           ) : (
// // // // // // // // //                             member.age
// // // // // // // // //                           )}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // //                             <select
// // // // // // // // //                               name="gender"
// // // // // // // // //                               value={formData.gender}
// // // // // // // // //                               onChange={handleChange}
// // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                             >
// // // // // // // // //                               <option value="Male">Male</option>
// // // // // // // // //                               <option value="Female">Female</option>
// // // // // // // // //                               <option value="Other">Other</option>
// // // // // // // // //                             </select>
// // // // // // // // //                           ) : (
// // // // // // // // //                             member.gender
// // // // // // // // //                           )}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // //                             <input
// // // // // // // // //                               type="text"
// // // // // // // // //                               name="phone"
// // // // // // // // //                               value={formData.phone}
// // // // // // // // //                               onChange={handleChange}
// // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                             />
// // // // // // // // //                           ) : (
// // // // // // // // //                             member.phone
// // // // // // // // //                           )}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // //                             <select
// // // // // // // // //                               name="membership_plan"
// // // // // // // // //                               value={formData.membership_plan}
// // // // // // // // //                               onChange={handleChange}
// // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                             >
// // // // // // // // //                               <option value="Monthly">Monthly</option>
// // // // // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // // // // //                               <option value="Yearly">Yearly</option>
// // // // // // // // //                             </select>
// // // // // // // // //                           ) : (
// // // // // // // // //                             member.membership_plan
// // // // // // // // //                           )}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // //                             <select
// // // // // // // // //                               name="trainer"
// // // // // // // // //                               value={formData.trainer}
// // // // // // // // //                               onChange={handleChange}
// // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                             >
// // // // // // // // //                               <option value="Trainer 1">Trainer 1</option>
// // // // // // // // //                               <option value="Trainer 2">Trainer 2</option>
// // // // // // // // //                               <option value="Trainer 3">Trainer 3</option>
// // // // // // // // //                             </select>
// // // // // // // // //                           ) : (
// // // // // // // // //                             member.trainer
// // // // // // // // //                           )}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // // //                             <select
// // // // // // // // //                               name="status"
// // // // // // // // //                               value={formData.status}
// // // // // // // // //                               onChange={handleChange}
// // // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                             >
// // // // // // // // //                               <option value="Active">Active</option>
// // // // // // // // //                               <option value="Inactive">Inactive</option>
// // // // // // // // //                               <option value="Suspended">Suspended</option>
// // // // // // // // //                             </select>
// // // // // // // // //                           ) : (
// // // // // // // // //                             <span
// // // // // // // // //                               className={`px-4 py-1.5 rounded-lg text-xs font-medium ${
// // // // // // // // //                                 member.status === "Active"
// // // // // // // // //                                   ? "text-green-300 border border-green-500"
// // // // // // // // //                                   : member.status === "Inactive"
// // // // // // // // //                                   ? "text-yellow-300 border border-yellow-500"
// // // // // // // // //                                   : "text-red-300 border border-red-500"
// // // // // // // // //                               } transition-all duration-300 backdrop-blur-sm`}
// // // // // // // // //                             >
// // // // // // // // //                               {member.status}
// // // // // // // // //                             </span>
// // // // // // // // //                           )}
// // // // // // // // //                         </td>
// // // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // // //                           <div className="flex space-x-2">
// // // // // // // // //                             {editingMember === member.membershipID ? (
// // // // // // // // //                               <button
// // // // // // // // //                                 onClick={handleSave}
// // // // // // // // //                                 className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // // //                               >
// // // // // // // // //                                 <Save size={16} />
// // // // // // // // //                               </button>
// // // // // // // // //                             ) : (
// // // // // // // // //                               <button
// // // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // // //                                 className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // // //                               >
// // // // // // // // //                                 <Edit size={16} />
// // // // // // // // //                               </button>
// // // // // // // // //                             )}
// // // // // // // // //                             <button
// // // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // // //                             >
// // // // // // // // //                               <Trash size={16} />
// // // // // // // // //                             </button>
// // // // // // // // //                           </div>
// // // // // // // // //                         </td>
// // // // // // // // //                       </tr>
// // // // // // // // //                     ))}
// // // // // // // // //                   </tbody>
// // // // // // // // //                 </table>
// // // // // // // // //               </div>
// // // // // // // // //             </div>
// // // // // // // // //           )}
// // // // // // // // //         </div>
// // // // // // // // //       ) : (
// // // // // // // // //         // Card View
// // // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // // // //             {filteredMembers.map((member) => (
// // // // // // // // //               <div
// // // // // // // // //                 key={member.membershipID}
// // // // // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // // // //               >
// // // // // // // // //                 <div className="flex items-center space-x-4">
// // // // // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // // // //                     <User size={20} />
// // // // // // // // //                   </div>
// // // // // // // // //                   <div>
// // // // // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // // // // //                       {editingMember === member.membershipID ? (
// // // // // // // // //                         <input
// // // // // // // // //                           type="text"
// // // // // // // // //                           name="name"
// // // // // // // // //                           value={formData.name}
// // // // // // // // //                           onChange={handleChange}
// // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                         />
// // // // // // // // //                       ) : (
// // // // // // // // //                         member.name
// // // // // // // // //                       )}
// // // // // // // // //                     </h3>
// // // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // // //                       {editingMember === member.membershipID ? (
// // // // // // // // //                         <input
// // // // // // // // //                           type="email"
// // // // // // // // //                           name="email"
// // // // // // // // //                           value={formData.email}
// // // // // // // // //                           onChange={handleChange}
// // // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                         />
// // // // // // // // //                       ) : (
// // // // // // // // //                         member.email
// // // // // // // // //                       )}
// // // // // // // // //                     </p>
// // // // // // // // //                   </div>
// // // // // // // // //                 </div>
// // // // // // // // //                 <div className="mt-4 space-y-2">
// // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // //                     <span className="font-medium">Membership ID:</span>{" "}
// // // // // // // // //                     {member.membershipID}
// // // // // // // // //                   </p>
// // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // //                       <input
// // // // // // // // //                         type="number"
// // // // // // // // //                         name="age"
// // // // // // // // //                         value={formData.age}
// // // // // // // // //                         onChange={handleChange}
// // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                       />
// // // // // // // // //                     ) : (
// // // // // // // // //                       member.age
// // // // // // // // //                     )}
// // // // // // // // //                   </p>
// // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // //                       <select
// // // // // // // // //                         name="gender"
// // // // // // // // //                         value={formData.gender}
// // // // // // // // //                         onChange={handleChange}
// // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                       >
// // // // // // // // //                         <option value="Male">Male</option>
// // // // // // // // //                         <option value="Female">Female</option>
// // // // // // // // //                         <option value="Other">Other</option>
// // // // // // // // //                       </select>
// // // // // // // // //                     ) : (
// // // // // // // // //                       member.gender
// // // // // // // // //                     )}
// // // // // // // // //                   </p>
// // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // //                     <span className="font-medium">Phone:</span>{" "}
// // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // //                       <input
// // // // // // // // //                         type="text"
// // // // // // // // //                         name="phone"
// // // // // // // // //                         value={formData.phone}
// // // // // // // // //                         onChange={handleChange}
// // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                       />
// // // // // // // // //                     ) : (
// // // // // // // // //                       member.phone
// // // // // // // // //                     )}
// // // // // // // // //                   </p>
// // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // //                       <select
// // // // // // // // //                         name="membership_plan"
// // // // // // // // //                         value={formData.membership_plan}
// // // // // // // // //                         onChange={handleChange}
// // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                       >
// // // // // // // // //                         <option value="Monthly">Monthly</option>
// // // // // // // // //                         <option value="Quarterly">Quarterly</option>
// // // // // // // // //                         <option value="Yearly">Yearly</option>
// // // // // // // // //                       </select>
// // // // // // // // //                     ) : (
// // // // // // // // //                       member.membership_plan
// // // // // // // // //                     )}
// // // // // // // // //                   </p>
// // // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // // //                     <span className="font-medium">Trainer:</span>{" "}
// // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // //                       <select
// // // // // // // // //                         name="trainer"
// // // // // // // // //                         value={formData.trainer}
// // // // // // // // //                         onChange={handleChange}
// // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                       >
// // // // // // // // //                         <option value="Trainer 1">Trainer 1</option>
// // // // // // // // //                         <option value="Trainer 2">Trainer 2</option>
// // // // // // // // //                         <option value="Trainer 3">Trainer 3</option>
// // // // // // // // //                       </select>
// // // // // // // // //                     ) : (
// // // // // // // // //                       member.trainer
// // // // // // // // //                     )}
// // // // // // // // //                   </p>
// // // // // // // // //                   <p className="text-sm">
// // // // // // // // //                     <span className="font-medium">Status:</span>{" "}
// // // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // // //                       <select
// // // // // // // // //                         name="status"
// // // // // // // // //                         value={formData.status}
// // // // // // // // //                         onChange={handleChange}
// // // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // // //                       >
// // // // // // // // //                         <option value="Active">Active</option>
// // // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // // //                         <option value="Suspended">Suspended</option>
// // // // // // // // //                       </select>
// // // // // // // // //                     ) : (
// // // // // // // // //                       <span
// // // // // // // // //                         className={`px-3 py-1 rounded-lg text-xs font-medium ${
// // // // // // // // //                           member.status === "Active"
// // // // // // // // //                             ? "text-green-300 border border-green-500"
// // // // // // // // //                             : member.status === "Inactive"
// // // // // // // // //                             ? "text-yellow-300 border border-yellow-500"
// // // // // // // // //                             : "text-red-300 border border-red-500"
// // // // // // // // //                         } transition-all duration-300 backdrop-blur-sm inline-block mt-1`}
// // // // // // // // //                       >
// // // // // // // // //                         {member.status}
// // // // // // // // //                       </span>
// // // // // // // // //                     )}
// // // // // // // // //                   </p>
// // // // // // // // //                 </div>
// // // // // // // // //                 <div className="mt-6 flex space-x-3">
// // // // // // // // //                   {editingMember === member.membershipID ? (
// // // // // // // // //                     <button
// // // // // // // // //                       onClick={handleSave}
// // // // // // // // //                       className="flex-1 bg-green-500 px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // // //                     >
// // // // // // // // //                       <Save size={16} />
// // // // // // // // //                       <span>Save</span>
// // // // // // // // //                     </button>
// // // // // // // // //                   ) : (
// // // // // // // // //                     <button
// // // // // // // // //                       onClick={() => handleEdit(member)}
// // // // // // // // //                       className="flex-1 bg-blue-500 px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // // //                     >
// // // // // // // // //                       <Edit size={16} />
// // // // // // // // //                       <span>Edit</span>
// // // // // // // // //                     </button>
// // // // // // // // //                   )}
// // // // // // // // //                   <button
// // // // // // // // //                     onClick={() => confirmDelete(member)}
// // // // // // // // //                     className="flex-1 bg-red-500 px-4 py-2 rounded-lg hover:bg-red-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // // //                   >
// // // // // // // // //                     <Trash size={16} />
// // // // // // // // //                     <span>Delete</span>
// // // // // // // // //                   </button>
// // // // // // // // //                 </div>
// // // // // // // // //               </div>
// // // // // // // // //             ))}
// // // // // // // // //           </div>
// // // // // // // // //           {filteredMembers.length === 0 && (
// // // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // // //               <svg
// // // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // // //                 fill="none"
// // // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // // //                 stroke="currentColor"
// // // // // // // // //               >
// // // // // // // // //                 <path
// // // // // // // // //                   strokeLinecap="round"
// // // // // // // // //                   strokeLinejoin="round"
// // // // // // // // //                   strokeWidth={1}
// // // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // // //                 />
// // // // // // // // //               </svg>
// // // // // // // // //               <p className="text-2xl font-light tracking-wider">No members found.</p>
// // // // // // // // //             </div>
// // // // // // // // //           )}
// // // // // // // // //         </div>
// // // // // // // // //       )}

// // // // // // // // //       {/* Filter Modal */}
// // // // // // // // //       {showFilterModal && (
// // // // // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // // // // //           <div
// // // // // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // // // // //             onClick={() => setShowFilterModal(false)}
// // // // // // // // //           ></div>
// // // // // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg">
// // // // // // // // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // // // // // // // //               Filter Members
// // // // // // // // //             </h2>
// // // // // // // // //             <div className="space-y-6">
// // // // // // // // //               <div>
// // // // // // // // //                 <label className="block text-white mb-2">Age</label>
// // // // // // // // //                 <input
// // // // // // // // //                   type="number"
// // // // // // // // //                   value={filterCriteria.age}
// // // // // // // // //                   onChange={(e) =>
// // // // // // // // //                     setFilterCriteria({
// // // // // // // // //                       ...filterCriteria,
// // // // // // // // //                       age: e.target.value,
// // // // // // // // //                     })
// // // // // // // // //                   }
// // // // // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // // //                   placeholder="Enter age"
// // // // // // // // //                 />
// // // // // // // // //               </div>
// // // // // // // // //               <div>
// // // // // // // // //                 <label className="block text-white mb-2">Gender</label>
// // // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // // //                   {["Male", "Female", "Other"].map((gender) => (
// // // // // // // // //                     <div
// // // // // // // // //                       key={gender}
// // // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // // //                         filterCriteria.gender.includes(gender)
// // // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // // //                       }`}
// // // // // // // // //                       onClick={() => {
// // // // // // // // //                         if (filterCriteria.gender.includes(gender)) {
// // // // // // // // //                           setFilterCriteria({
// // // // // // // // //                             ...filterCriteria,
// // // // // // // // //                             gender: filterCriteria.gender.filter(
// // // // // // // // //                               (g) => g !== gender
// // // // // // // // //                             ),
// // // // // // // // //                           });
// // // // // // // // //                         } else {
// // // // // // // // //                           setFilterCriteria({
// // // // // // // // //                             ...filterCriteria,
// // // // // // // // //                             gender: [...filterCriteria.gender, gender],
// // // // // // // // //                           });
// // // // // // // // //                         }
// // // // // // // // //                       }}
// // // // // // // // //                     >
// // // // // // // // //                       {gender}
// // // // // // // // //                     </div>
// // // // // // // // //                   ))}
// // // // // // // // //                 </div>
// // // // // // // // //               </div>
// // // // // // // // //               <div>
// // // // // // // // //                 <label className="block text-white mb-2">Membership Plan</label>
// // // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // // // // // // // //                     <div
// // // // // // // // //                       key={plan}
// // // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // // //                         filterCriteria.membership_plan.includes(plan)
// // // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // // //                       }`}
// // // // // // // // //                       onClick={() => {
// // // // // // // // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // // // // // // // //                           setFilterCriteria({
// // // // // // // // //                             ...filterCriteria,
// // // // // // // // //                             membership_plan: filterCriteria.membership_plan.filter(
// // // // // // // // //                               (p) => p !== plan
// // // // // // // // //                             ),
// // // // // // // // //                           });
// // // // // // // // //                         } else {
// // // // // // // // //                           setFilterCriteria({
// // // // // // // // //                             ...filterCriteria,
// // // // // // // // //                             membership_plan: [
// // // // // // // // //                               ...filterCriteria.membership_plan,
// // // // // // // // //                               plan,
// // // // // // // // //                             ],
// // // // // // // // //                           });
// // // // // // // // //                         }
// // // // // // // // //                       }}
// // // // // // // // //                     >
// // // // // // // // //                       {plan}
// // // // // // // // //                     </div>
// // // // // // // // //                   ))}
// // // // // // // // //                 </div>
// // // // // // // // //               </div>
// // // // // // // // //               <div>
// // // // // // // // //                 <label className="block text-white mb-2">Status</label>
// // // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // // //                   {["Active", "Inactive", "Suspended"].map((status) => (
// // // // // // // // //                     <div
// // // // // // // // //                       key={status}
// // // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // // //                         filterCriteria.status.includes(status)
// // // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // // //                       }`}
// // // // // // // // //                       onClick={() => {
// // // // // // // // //                         if (filterCriteria.status.includes(status)) {
// // // // // // // // //                           setFilterCriteria({
// // // // // // // // //                             ...filterCriteria,
// // // // // // // // //                             status: filterCriteria.status.filter(
// // // // // // // // //                               (s) => s !== status
// // // // // // // // //                             ),
// // // // // // // // //                           });
// // // // // // // // //                         } else {
// // // // // // // // //                           setFilterCriteria({
// // // // // // // // //                             ...filterCriteria,
// // // // // // // // //                             status: [...filterCriteria.status, status],
// // // // // // // // //                           });
// // // // // // // // //                         }
// // // // // // // // //                       }}
// // // // // // // // //                     >
// // // // // // // // //                       {status}
// // // // // // // // //                     </div>
// // // // // // // // //                   ))}
// // // // // // // // //                 </div>
// // // // // // // // //               </div>
// // // // // // // // //               <div className="grid grid-cols-2 gap-4">
// // // // // // // // //                 <div>
// // // // // // // // //                   <label className="block text-white mb-2">Start Date</label>
// // // // // // // // //                   <input
// // // // // // // // //                     type="date"
// // // // // // // // //                     value={filterCriteria.dateRange.start}
// // // // // // // // //                     onChange={(e) =>
// // // // // // // // //                       setFilterCriteria({
// // // // // // // // //                         ...filterCriteria,
// // // // // // // // //                         dateRange: {
// // // // // // // // //                           ...filterCriteria.dateRange,
// // // // // // // // //                           start: e.target.value,
// // // // // // // // //                         },
// // // // // // // // //                       })
// // // // // // // // //                     }
// // // // // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // // //                   />
// // // // // // // // //                 </div>
// // // // // // // // //                 <div>
// // // // // // // // //                   <label className="block text-white mb-2">End Date</label>
// // // // // // // // //                   <input
// // // // // // // // //                     type="date"
// // // // // // // // //                     value={filterCriteria.dateRange.end}
// // // // // // // // //                     onChange={(e) =>
// // // // // // // // //                       setFilterCriteria({
// // // // // // // // //                         ...filterCriteria,
// // // // // // // // //                         dateRange: {
// // // // // // // // //                           ...filterCriteria.dateRange,
// // // // // // // // //                           end: e.target.value,
// // // // // // // // //                         },
// // // // // // // // //                       })
// // // // // // // // //                     }
// // // // // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // // //                   />
// // // // // // // // //                 </div>
// // // // // // // // //               </div>
// // // // // // // // //             </div>
// // // // // // // // //             <div className="mt-8 flex space-x-4">
// // // // // // // // //               <button
// // // // // // // // //                 onClick={() => setShowFilterModal(false)}
// // // // // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // // // // //               >
// // // // // // // // //                 Cancel
// // // // // // // // //               </button>
// // // // // // // // //               <button
// // // // // // // // //                 onClick={applyFilter}
// // // // // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // // // // //               >
// // // // // // // // //                 Apply Filters
// // // // // // // // //               </button>
// // // // // // // // //             </div>
// // // // // // // // //           </div>
// // // // // // // // //         </div>
// // // // // // // // //       )}

// // // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // // //       {showConfirmDialog && (
// // // // // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // // // // //           <div
// // // // // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // // // // //             onClick={() => setShowConfirmDialog(false)}
// // // // // // // // //           ></div>
// // // // // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // // // // // // // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // // // // // // // //               Confirm Delete
// // // // // // // // //             </h2>
// // // // // // // // //             <p className="text-gray-300 mb-6 text-center">
// // // // // // // // //               Are you sure you want to delete{" "}
// // // // // // // // //               <span className="font-medium text-white">
// // // // // // // // //                 {memberToDelete?.name}
// // // // // // // // //               </span>
// // // // // // // // //               ? This action cannot be undone after 5 seconds.
// // // // // // // // //             </p>
// // // // // // // // //             <div className="flex space-x-4">
// // // // // // // // //               <button
// // // // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // // // // //               >
// // // // // // // // //                 Cancel
// // // // // // // // //               </button>
// // // // // // // // //               <button
// // // // // // // // //                 onClick={() => {
// // // // // // // // //                   if (memberToDelete) {
// // // // // // // // //                     handleDelete(memberToDelete.membershipID);
// // // // // // // // //                   }
// // // // // // // // //                 }}
// // // // // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // // // // //               >
// // // // // // // // //                 Delete
// // // // // // // // //               </button>
// // // // // // // // //             </div>
// // // // // // // // //           </div>
// // // // // // // // //         </div>
// // // // // // // // //       )}

// // // // // // // // //       {/* Undo Delete Toast */}
// // // // // // // // //       {deletedMember && undoTimer > 0 && (
// // // // // // // // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // // // // //           <p className="text-gray-300">
// // // // // // // // //             <span className="font-medium text-white">
// // // // // // // // //               {deletedMember.name}
// // // // // // // // //             </span>{" "}
// // // // // // // // //             deleted
// // // // // // // // //           </p>
// // // // // // // // //           <button
// // // // // // // // //             onClick={handleUndoDelete}
// // // // // // // // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400"
// // // // // // // // //           >
// // // // // // // // //             <Undo size={16} />
// // // // // // // // //             <span>Undo ({undoTimer}s)</span>
// // // // // // // // //           </button>
// // // // // // // // //         </div>
// // // // // // // // //       )}

// // // // // // // // //       {/* Save Success Toast */}
// // // // // // // // //       {saveSuccess && (
// // // // // // // // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // // // // //           <svg
// // // // // // // // //             xmlns="http://www.w3.org/2000/svg"
// // // // // // // // //             className="h-6 w-6 text-green-500"
// // // // // // // // //             fill="none"
// // // // // // // // //             viewBox="0 0 24 24"
// // // // // // // // //             stroke="currentColor"
// // // // // // // // //           >
// // // // // // // // //             <path
// // // // // // // // //               strokeLinecap="round"
// // // // // // // // //               strokeLinejoin="round"
// // // // // // // // //               strokeWidth={2}
// // // // // // // // //               d="M5 13l4 4L19 7"
// // // // // // // // //             />
// // // // // // // // //           </svg>
// // // // // // // // //           <p className="text-green-300">Member updated successfully!</p>
// // // // // // // // //         </div>
// // // // // // // // //       )}
// // // // // // // // //     </div>
// // // // // // // // //   );
// // // // // // // // // };

// // // // // // // // // export default MembersPage;
// // // // // // // // "use client";

// // // // // // // // import { useState, useEffect } from "react";
// // // // // // // // import { useRouter } from "next/navigation";
// // // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // // const MembersPage = () => {
// // // // // // // //   const router = useRouter();
// // // // // // // //   const [members, setMembers] = useState([]);
// // // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // // //   const [error, setError] = useState(null);
// // // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // // //     age: "",
// // // // // // // //     gender: [],
// // // // // // // //     membership_plan: [],
// // // // // // // //     membership_status: [],
// // // // // // // //     dateRange: { start: "", end: "" },
// // // // // // // //     pincode: "", // Added pincode filter
// // // // // // // //     emergency_contact: "", // Added emergency_contact filter
// // // // // // // //   });
// // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // //     full_name: "",
// // // // // // // //     email: "",
// // // // // // // //     phone_number: "",
// // // // // // // //     age: "",
// // // // // // // //     gender: "",
// // // // // // // //     trainer_name: "",
// // // // // // // //     password: "",
// // // // // // // //     membership_plan: "",
// // // // // // // //     amount_Paid: "",
// // // // // // // //     payment_status: "",
// // // // // // // //     membership_status: "",
// // // // // // // //     payment_date: "",
// // // // // // // //     renewal_date: "",
// // // // // // // //     pincode: "", // Added pincode
// // // // // // // //     emergency_contact: "", // Added emergency_contact
// // // // // // // //   });
// // // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // // //   // Fetch members from the backend
// // // // // // // //   useEffect(() => {
// // // // // // // //     const fetchMembers = async () => {
// // // // // // // //       try {
// // // // // // // //         const response = await fetch("http://localhost:5000/api/admin/members", {
// // // // // // // //           method: "GET",
// // // // // // // //           headers: {
// // // // // // // //             "Content-Type": "application/json",
// // // // // // // //           },
// // // // // // // //         });
// // // // // // // //         if (!response.ok) {
// // // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // //         }
// // // // // // // //         const data = await response.json();
// // // // // // // //         console.log("API Response:", data);

// // // // // // // //         // Ensure amount_Paid is a number and include new fields
// // // // // // // //         const formattedMembers = data.map((member) => ({
// // // // // // // //           ...member,
// // // // // // // //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// // // // // // // //           pincode: member.pincode || "", // Ensure pincode is included
// // // // // // // //           emergency_contact: member.emergency_contact || "", // Ensure emergency_contact is included
// // // // // // // //         }));

// // // // // // // //         setMembers(formattedMembers);
// // // // // // // //         setError(null);
// // // // // // // //       } catch (err) {
// // // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // // //         console.error("Error fetching members:", err);
// // // // // // // //       } finally {
// // // // // // // //         setIsLoading(false);
// // // // // // // //       }
// // // // // // // //     };
// // // // // // // //     fetchMembers();
// // // // // // // //   }, []);

// // // // // // // //   // Handle search and filter
// // // // // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // // // // //     const full_name = member.full_name || "";
// // // // // // // //     const email = member.email || "";
// // // // // // // //     const membership_status = member.membership_status || "";
// // // // // // // //     const pincode = member.pincode || "";
// // // // // // // //     const emergency_contact = member.emergency_contact || "";

// // // // // // // //     // Search filter (case-insensitive)
// // // // // // // //     const matchesSearch =
// // // // // // // //       searchTerm === "" ||
// // // // // // // //       full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // //       membership_status.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // //       pincode.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // // //       emergency_contact.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // // //     // Age filter
// // // // // // // //     const ageMatch =
// // // // // // // //       filterCriteria.age === "" ||
// // // // // // // //       (member.age !== null &&
// // // // // // // //         member.age !== undefined &&
// // // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // // //     // Gender filter (multiple selection)
// // // // // // // //     const genderMatch =
// // // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // // //     const membershipPlanMatch =
// // // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // // //     // Membership Status filter (multiple selection)
// // // // // // // //     const membershipStatusMatch =
// // // // // // // //       filterCriteria.membership_status.length === 0 ||
// // // // // // // //       filterCriteria.membership_status.includes(member.membership_status);

// // // // // // // //     // Date range filter
// // // // // // // //     const memberDate = new Date(member.joinedDate); // Assuming joinedDate is a field
// // // // // // // //     const matchesDateStart =
// // // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // // //       memberDate >= new Date(filterCriteria.dateRange.start);
// // // // // // // //     const matchesDateEnd =
// // // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // // //       memberDate <= new Date(filterCriteria.dateRange.end);

// // // // // // // //     // Pincode filter
// // // // // // // //     const pincodeMatch =
// // // // // // // //       filterCriteria.pincode === "" ||
// // // // // // // //       (member.pincode && member.pincode.includes(filterCriteria.pincode));

// // // // // // // //     // Emergency Contact filter
// // // // // // // //     const emergencyContactMatch =
// // // // // // // //       filterCriteria.emergency_contact === "" ||
// // // // // // // //       (member.emergency_contact &&
// // // // // // // //         member.emergency_contact.includes(filterCriteria.emergency_contact));

// // // // // // // //     // Return true only if all filters match
// // // // // // // //     return (
// // // // // // // //       matchesSearch &&
// // // // // // // //       ageMatch &&
// // // // // // // //       genderMatch &&
// // // // // // // //       membershipPlanMatch &&
// // // // // // // //       membershipStatusMatch &&
// // // // // // // //       matchesDateStart &&
// // // // // // // //       matchesDateEnd &&
// // // // // // // //       pincodeMatch &&
// // // // // // // //       emergencyContactMatch
// // // // // // // //     );
// // // // // // // //   });

// // // // // // // //   // Handle edit
// // // // // // // //   const handleEdit = (member) => {
// // // // // // // //     if (!member || !member.membershipID) return; // Ensure member exists and has an ID
// // // // // // // //     setEditingMember(member.membershipID); // Store membershipID in editing state
// // // // // // // //     setFormData({
// // // // // // // //       full_name: member.full_name || "",
// // // // // // // //       email: member.email || "",
// // // // // // // //       phone_number: member.phone_number || "",
// // // // // // // //       age: member.age || "",
// // // // // // // //       gender: member.gender || "",
// // // // // // // //       trainer_name: member.trainer_name || "",
// // // // // // // //       password: member.password || "",
// // // // // // // //       membership_plan: member.membership_plan || "",
// // // // // // // //       amount_Paid: member.amount_Paid || 0, // Ensure amount_Paid is a number
// // // // // // // //       payment_status: member.payment_status || "",
// // // // // // // //       membership_status: member.membership_status || "",
// // // // // // // //       payment_date: member.payment_date || "",
// // // // // // // //       renewal_date: member.renewal_date || "",
// // // // // // // //       pincode: member.pincode || "", // Include pincode
// // // // // // // //       emergency_contact: member.emergency_contact || "", // Include emergency_contact
// // // // // // // //     });
// // // // // // // //   };

// // // // // // // //   // Handle form changes
// // // // // // // //   const handleChange = (e) => {
// // // // // // // //     const { name, value } = e.target;
// // // // // // // //     setFormData((prev) => ({
// // // // // // // //       ...prev,
// // // // // // // //       [name]: value,
// // // // // // // //     }));
// // // // // // // //   };

// // // // // // // //   // Save edited member
// // // // // // // //   const handleSave = async () => {
// // // // // // // //     if (!editingMember) {
// // // // // // // //       console.error("Error: No member is currently being edited.");
// // // // // // // //       return;
// // // // // // // //     }

// // // // // // // //     const membershipID = editingMember;

// // // // // // // //     // Validate trainer before proceeding
// // // // // // // //     try {
// // // // // // // //       const trainerResponse = await fetch(
// // // // // // // //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// // // // // // // //         {
// // // // // // // //           method: "GET",
// // // // // // // //           headers: {
// // // // // // // //             "Content-Type": "application/json",
// // // // // // // //           },
// // // // // // // //         }
// // // // // // // //       );

// // // // // // // //       if (!trainerResponse.ok) {
// // // // // // // //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// // // // // // // //       }

// // // // // // // //       // Proceed with updating the member
// // // // // // // //       const dataToSend = {
// // // // // // // //         ...formData,
// // // // // // // //         amount_Paid: parseFloat(formData.amount_Paid) || 0, // Ensure amount_Paid is a number
// // // // // // // //         membershipID: membershipID,
// // // // // // // //       };

// // // // // // // //       console.log("Data being sent to server:", dataToSend); // Debugging

// // // // // // // //       const response = await fetch(
// // // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // // //         {
// // // // // // // //           method: "PUT",
// // // // // // // //           headers: {
// // // // // // // //             "Content-Type": "application/json",
// // // // // // // //           },
// // // // // // // //           body: JSON.stringify(dataToSend),
// // // // // // // //         }
// // // // // // // //       );

// // // // // // // //       if (!response.ok) {
// // // // // // // //         const errorText = await response.text();
// // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}, Response: ${errorText}`);
// // // // // // // //       }

// // // // // // // //       const updatedMember = await response.json();
// // // // // // // //       console.log("Response from server:", updatedMember); // Debugging

// // // // // // // //       // Update local state to reflect what was sent to the server
// // // // // // // //       setMembers((prevMembers) =>
// // // // // // // //         prevMembers.map((member) =>
// // // // // // // //           member.membershipID === membershipID ? { ...member, ...dataToSend } : member
// // // // // // // //         )
// // // // // // // //       );

// // // // // // // //       setEditingMember(null);
// // // // // // // //       setSaveSuccess(true);
// // // // // // // //       setTimeout(() => setSaveSuccess(false), 3000);
// // // // // // // //     } catch (err) {
// // // // // // // //       console.error("Error updating member:", err);
// // // // // // // //       alert(err.message); // Notify the user about the error
// // // // // // // //     }
// // // // // // // //   };

// // // // // // // //   // Handle delete
// // // // // // // //   const confirmDelete = (member) => {
// // // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // // //     setMemberToDelete(member);
// // // // // // // //     setShowConfirmDialog(true);
// // // // // // // //   };

// // // // // // // //   const handleDelete = async (membershipID) => {
// // // // // // // //     setShowConfirmDialog(false);
// // // // // // // //     const memberToDeleteObj = members.find((m) => m.membershipID === membershipID);
// // // // // // // //     if (!memberToDeleteObj) {
// // // // // // // //       console.error("Member not found");
// // // // // // // //       return;
// // // // // // // //     }
// // // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // // //     setMembers(members.filter((member) => member.membershipID !== membershipID));

// // // // // // // //     // Start the 5-second timer
// // // // // // // //     setUndoTimer(5);
// // // // // // // //     const timer = setInterval(() => {
// // // // // // // //       setUndoTimer((prev) => {
// // // // // // // //         if (prev === 1) {
// // // // // // // //           clearInterval(timer);
// // // // // // // //           deleteMemberFromDatabase(membershipID); // Delete from the database after 5 seconds
// // // // // // // //           return 0;
// // // // // // // //         }
// // // // // // // //         return prev - 1;
// // // // // // // //       });
// // // // // // // //     }, 1000);
// // // // // // // //     setDeleteTimer(timer);
// // // // // // // //   };

// // // // // // // //   // Delete member from the database
// // // // // // // //   const deleteMemberFromDatabase = async (membershipID) => {
// // // // // // // //     try {
// // // // // // // //       const response = await fetch(
// // // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // // //         {
// // // // // // // //           method: "DELETE",
// // // // // // // //           headers: {
// // // // // // // //             "Content-Type": "application/json",
// // // // // // // //           },
// // // // // // // //         }
// // // // // // // //       );
// // // // // // // //       if (!response.ok) {
// // // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // // //       }
// // // // // // // //       setDeletedMember(null);
// // // // // // // //     } catch (err) {
// // // // // // // //       console.error("Error deleting member:", err);
// // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // //     }
// // // // // // // //   };

// // // // // // // //   // Undo delete functionality
// // // // // // // //   const handleUndoDelete = () => {
// // // // // // // //     if (deleteTimer) {
// // // // // // // //       clearInterval(deleteTimer);
// // // // // // // //       setDeleteTimer(null);
// // // // // // // //     }
// // // // // // // //     if (deletedMember) {
// // // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // // //       setDeletedMember(null);
// // // // // // // //     }
// // // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // // //   };

// // // // // // // //   // Toggle view mode
// // // // // // // //   const toggleViewMode = () => {
// // // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // // //   };

// // // // // // // //   // Apply filter
// // // // // // // //   const applyFilter = () => {
// // // // // // // //     setShowFilterModal(false);
// // // // // // // //   };

// // // // // // // //   // Reset filters
// // // // // // // //   const resetFilters = () => {
// // // // // // // //     setFilterCriteria({
// // // // // // // //       age: "",
// // // // // // // //       gender: [],
// // // // // // // //       membership_plan: [],
// // // // // // // //       membership_status: [],
// // // // // // // //       dateRange: { start: "", end: "" },
// // // // // // // //       pincode: "", // Reset pincode filter
// // // // // // // //       emergency_contact: "", // Reset emergency_contact filter
// // // // // // // //     });
// // // // // // // //   };

// // // // // // // //   if (isLoading)
// // // // // // // //     return (
// // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // // //         <div className="text-center">
// // // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // // //           <p className="text-2xl font-light tracking-wider">Loading members...</p>
// // // // // // // //         </div>
// // // // // // // //       </div>
// // // // // // // //     );

// // // // // // // //   if (error)
// // // // // // // //     return (
// // // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // // //         <div className="text-center">
// // // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // // //         </div>
// // // // // // // //       </div>
// // // // // // // //     );

// // // // // // // //   return (
// // // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // // //       {/* Navbar */}
// // // // // // // //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// // // // // // // //         <div className="flex items-center justify-between px-8 py-4">
// // // // // // // //           <h1 className="text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
// // // // // // // //             Members List
// // // // // // // //           </h1>
// // // // // // // //           <div className="flex items-center space-x-4">
// // // // // // // //             <button
// // // // // // // //               onClick={toggleViewMode}
// // // // // // // //               className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // //             >
// // // // // // // //               {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // // //             </button>
// // // // // // // //             <button
// // // // // // // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // // //               className="bg-gray-800 border border-gray-700 text-white px-5 py-3 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // // //             >
// // // // // // // //               <span className="flex items-center">
// // // // // // // //                 <svg
// // // // // // // //                   xmlns="http://www.w3.org/2000/svg"
// // // // // // // //                   className="h-5 w-5 mr-2 text-red-500"
// // // // // // // //                   fill="none"
// // // // // // // //                   viewBox="0 0 24 24"
// // // // // // // //                   stroke="currentColor"
// // // // // // // //                 >
// // // // // // // //                   <path
// // // // // // // //                     strokeLinecap="round"
// // // // // // // //                     strokeLinejoin="round"
// // // // // // // //                     strokeWidth={1.5}
// // // // // // // //                     d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // // //                   />
// // // // // // // //                 </svg>
// // // // // // // //                 <span className="font-medium">Filter View</span>
// // // // // // // //               </span>
// // // // // // // //             </button>
// // // // // // // //             <button
// // // // // // // //               onClick={() => router.push("/add-member")}
// // // // // // // //               className="bg-red-500 px-4 py-3 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // // //             >
// // // // // // // //               <Plus size={20} />
// // // // // // // //               <span>Add Member</span>
// // // // // // // //             </button>
// // // // // // // //           </div>
// // // // // // // //         </div>
// // // // // // // //       </div>

// // // // // // // //       {/* Header Section */}
// // // // // // // //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// // // // // // // //         <div className="w-full px-8 pt-10">
// // // // // // // //           <div
// // // // // // // //             className={`relative transition-all duration-500 ${
// // // // // // // //               searchFocused ? "scale-105" : ""
// // // // // // // //             }`}
// // // // // // // //           >
// // // // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // // //               <svg
// // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // //                 className={`h-5 w-5 transition-all duration-300 ${
// // // // // // // //                   searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // // // // // // //                 }`}
// // // // // // // //                 fill="none"
// // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // //                 stroke="currentColor"
// // // // // // // //                 strokeWidth={1.5}
// // // // // // // //               >
// // // // // // // //                 <path
// // // // // // // //                   strokeLinecap="round"
// // // // // // // //                   strokeLinejoin="round"
// // // // // // // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // // //                 />
// // // // // // // //               </svg>
// // // // // // // //             </span>
// // // // // // // //             <input
// // // // // // // //               type="text"
// // // // // // // //               placeholder="Search by name, email, or membership status"
// // // // // // // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // // //               value={searchTerm}
// // // // // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // // //               onFocus={() => setSearchFocused(true)}
// // // // // // // //               onBlur={() => setSearchFocused(false)}
// // // // // // // //             />
// // // // // // // //           </div>
// // // // // // // //         </div>
// // // // // // // //       </div>

// // // // // // // //       {/* Clear Filters Button */}
// // // // // // // //       {(filterCriteria.age ||
// // // // // // // //         filterCriteria.gender.length > 0 ||
// // // // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // // // //         filterCriteria.membership_status.length > 0 ||
// // // // // // // //         filterCriteria.dateRange.start ||
// // // // // // // //         filterCriteria.dateRange.end ||
// // // // // // // //         filterCriteria.pincode ||
// // // // // // // //         filterCriteria.emergency_contact) && (
// // // // // // // //         <div className="w-full px-8 pt-4">
// // // // // // // //           <button
// // // // // // // //             onClick={resetFilters}
// // // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // // //           >
// // // // // // // //             Clear Filters
// // // // // // // //           </button>
// // // // // // // //         </div>
// // // // // // // //       )}

// // // // // // // //       {/* Members Table */}
// // // // // // // //       {viewMode === "table" ? (
// // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // //               <svg
// // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // //                 fill="none"
// // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // //                 stroke="currentColor"
// // // // // // // //               >
// // // // // // // //                 <path
// // // // // // // //                   strokeLinecap="round"
// // // // // // // //                   strokeLinejoin="round"
// // // // // // // //                   strokeWidth={1}
// // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // //                 />
// // // // // // // //               </svg>
// // // // // // // //               <p className="text-2xl font-light tracking-wider">No members found.</p>
// // // // // // // //             </div>
// // // // // // // //           ) : (
// // // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // // //               <div className="overflow-x-auto">
// // // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // // //                   <thead>
// // // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Membership ID
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Photo
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Full Name
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Email
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Phone Number
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Age
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Gender
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Trainer Name
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Membership Plan
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Amount Paid
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Payment Status
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Membership Status
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Payment Date
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Renewal Date
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Pincode
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Emergency Contact
// // // // // // // //                       </th>
// // // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // // //                         Actions
// // // // // // // //                       </th>
// // // // // // // //                     </tr>
// // // // // // // //                   </thead>
// // // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // // //                     {filteredMembers.map((member) => (
// // // // // // // //                       <tr
// // // // // // // //                         key={member.membershipID}
// // // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // // //                       >
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // // //                           {member.membershipID}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // // //                             <User size={20} />
// // // // // // // //                           </div>
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="text"
// // // // // // // //                               name="full_name"
// // // // // // // //                               value={formData.full_name}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             member.full_name
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="email"
// // // // // // // //                               name="email"
// // // // // // // //                               value={formData.email}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             member.email
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="text"
// // // // // // // //                               name="phone_number"
// // // // // // // //                               value={formData.phone_number}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             member.phone_number
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="number"
// // // // // // // //                               name="age"
// // // // // // // //                               value={formData.age}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             member.age
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <select
// // // // // // // //                               name="gender"
// // // // // // // //                               value={formData.gender}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             >
// // // // // // // //                               <option value="Male">Male</option>
// // // // // // // //                               <option value="Female">Female</option>
// // // // // // // //                               <option value="Other">Other</option>
// // // // // // // //                             </select>
// // // // // // // //                           ) : (
// // // // // // // //                             member.gender
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <select
// // // // // // // //                               name="trainer_name"
// // // // // // // //                               value={formData.trainer_name}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             >
// // // // // // // //                               <option value="Trainer1">Trainer1</option>
// // // // // // // //                               <option value="Trainer2">Trainer2</option>
// // // // // // // //                               <option value="Trainer3">Trainer3</option>
// // // // // // // //                             </select>
// // // // // // // //                           ) : (
// // // // // // // //                             member.trainer_name
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <select
// // // // // // // //                               name="membership_plan"
// // // // // // // //                               value={formData.membership_plan}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             >
// // // // // // // //                               <option value="Monthly">Monthly</option>
// // // // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // // // //                               <option value="Yearly">Yearly</option>
// // // // // // // //                             </select>
// // // // // // // //                           ) : (
// // // // // // // //                             member.membership_plan
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="number"
// // // // // // // //                               name="amount_Paid"
// // // // // // // //                               value={formData.amount_Paid}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                               min="0"
// // // // // // // //                               step="0.01"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             `$${member.amount_Paid.toFixed(2)}` // Format as currency
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <select
// // // // // // // //                               name="payment_status"
// // // // // // // //                               value={formData.payment_status}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             >
// // // // // // // //                               <option value="Paid">Paid</option>
// // // // // // // //                               <option value="Pending">Pending</option>
// // // // // // // //                             </select>
// // // // // // // //                           ) : (
// // // // // // // //                             member.payment_status
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <select
// // // // // // // //                               name="membership_status"
// // // // // // // //                               value={formData.membership_status}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             >
// // // // // // // //                               <option value="Active">Active</option>
// // // // // // // //                               <option value="Inactive">Inactive</option>
// // // // // // // //                             </select>
// // // // // // // //                           ) : (
// // // // // // // //                             member.membership_status
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="date"
// // // // // // // //                               name="payment_date"
// // // // // // // //                               value={formData.payment_date}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             member.payment_date
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="date"
// // // // // // // //                               name="renewal_date"
// // // // // // // //                               value={formData.renewal_date}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             member.renewal_date
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="text"
// // // // // // // //                               name="pincode"
// // // // // // // //                               value={formData.pincode}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             member.pincode
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // // //                             <input
// // // // // // // //                               type="text"
// // // // // // // //                               name="emergency_contact"
// // // // // // // //                               value={formData.emergency_contact}
// // // // // // // //                               onChange={handleChange}
// // // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                             />
// // // // // // // //                           ) : (
// // // // // // // //                             member.emergency_contact
// // // // // // // //                           )}
// // // // // // // //                         </td>
// // // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // // //                           <div className="flex space-x-2">
// // // // // // // //                             {editingMember === member.membershipID ? (
// // // // // // // //                               <button
// // // // // // // //                                 onClick={handleSave}
// // // // // // // //                                 className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // // //                               >
// // // // // // // //                                 <Save size={16} />
// // // // // // // //                               </button>
// // // // // // // //                             ) : (
// // // // // // // //                               <button
// // // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // // //                                 className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // // //                               >
// // // // // // // //                                 <Edit size={16} />
// // // // // // // //                               </button>
// // // // // // // //                             )}
// // // // // // // //                             <button
// // // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // // //                             >
// // // // // // // //                               <Trash size={16} />
// // // // // // // //                             </button>
// // // // // // // //                           </div>
// // // // // // // //                         </td>
// // // // // // // //                       </tr>
// // // // // // // //                     ))}
// // // // // // // //                   </tbody>
// // // // // // // //                 </table>
// // // // // // // //               </div>
// // // // // // // //             </div>
// // // // // // // //           )}
// // // // // // // //         </div>
// // // // // // // //       ) : (
// // // // // // // //         // Card View
// // // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // // //             {filteredMembers.map((member) => (
// // // // // // // //               <div
// // // // // // // //                 key={member.membershipID}
// // // // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // // //               >
// // // // // // // //                 <div className="flex items-center space-x-4">
// // // // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // // //                     <User size={20} />
// // // // // // // //                   </div>
// // // // // // // //                   <div>
// // // // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // // // //                       {editingMember === member.membershipID ? (
// // // // // // // //                         <input
// // // // // // // //                           type="text"
// // // // // // // //                           name="full_name"
// // // // // // // //                           value={formData.full_name}
// // // // // // // //                           onChange={handleChange}
// // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                         />
// // // // // // // //                       ) : (
// // // // // // // //                         member.full_name
// // // // // // // //                       )}
// // // // // // // //                     </h3>
// // // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // // //                       {editingMember === member.membershipID ? (
// // // // // // // //                         <input
// // // // // // // //                           type="email"
// // // // // // // //                           name="email"
// // // // // // // //                           value={formData.email}
// // // // // // // //                           onChange={handleChange}
// // // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                         />
// // // // // // // //                       ) : (
// // // // // // // //                         member.email
// // // // // // // //                       )}
// // // // // // // //                     </p>
// // // // // // // //                   </div>
// // // // // // // //                 </div>
// // // // // // // //                 <div className="mt-4 space-y-2">
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Membership ID:</span>{" "}
// // // // // // // //                     {member.membershipID}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Phone Number:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <input
// // // // // // // //                         type="text"
// // // // // // // //                         name="phone_number"
// // // // // // // //                         value={formData.phone_number}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       />
// // // // // // // //                     ) : (
// // // // // // // //                       member.phone_number
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <input
// // // // // // // //                         type="number"
// // // // // // // //                         name="age"
// // // // // // // //                         value={formData.age}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       />
// // // // // // // //                     ) : (
// // // // // // // //                       member.age
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <select
// // // // // // // //                         name="gender"
// // // // // // // //                         value={formData.gender}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       >
// // // // // // // //                         <option value="Male">Male</option>
// // // // // // // //                         <option value="Female">Female</option>
// // // // // // // //                         <option value="Other">Other</option>
// // // // // // // //                       </select>
// // // // // // // //                     ) : (
// // // // // // // //                       member.gender
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Trainer Name:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <select
// // // // // // // //                         name="trainer_name"
// // // // // // // //                         value={formData.trainer_name}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       >
// // // // // // // //                         <option value="Trainer1">Trainer1</option>
// // // // // // // //                         <option value="Trainer2">Trainer2</option>
// // // // // // // //                         <option value="Trainer3">Trainer3</option>
// // // // // // // //                       </select>
// // // // // // // //                     ) : (
// // // // // // // //                       member.trainer_name
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <select
// // // // // // // //                         name="membership_plan"
// // // // // // // //                         value={formData.membership_plan}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       >
// // // // // // // //                         <option value="Monthly">Monthly</option>
// // // // // // // //                         <option value="Quarterly">Quarterly</option>
// // // // // // // //                         <option value="Yearly">Yearly</option>
// // // // // // // //                       </select>
// // // // // // // //                     ) : (
// // // // // // // //                       member.membership_plan
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Amount Paid:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <input
// // // // // // // //                         type="number"
// // // // // // // //                         name="amount_Paid"
// // // // // // // //                         value={formData.amount_Paid}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                         min="0"
// // // // // // // //                         step="0.01"
// // // // // // // //                       />
// // // // // // // //                     ) : (
// // // // // // // //                       `$${member.amount_Paid.toFixed(2)}` // Format as currency
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Payment Status:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <select
// // // // // // // //                         name="payment_status"
// // // // // // // //                         value={formData.payment_status}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       >
// // // // // // // //                         <option value="Paid">Paid</option>
// // // // // // // //                         <option value="Pending">Pending</option>
// // // // // // // //                       </select>
// // // // // // // //                     ) : (
// // // // // // // //                       member.payment_status
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Membership Status:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <select
// // // // // // // //                         name="membership_status"
// // // // // // // //                         value={formData.membership_status}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       >
// // // // // // // //                         <option value="Active">Active</option>
// // // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // // //                       </select>
// // // // // // // //                     ) : (
// // // // // // // //                       member.membership_status
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Payment Date:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <input
// // // // // // // //                         type="date"
// // // // // // // //                         name="payment_date"
// // // // // // // //                         value={formData.payment_date}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       />
// // // // // // // //                     ) : (
// // // // // // // //                       member.payment_date
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Renewal Date:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <input
// // // // // // // //                         type="date"
// // // // // // // //                         name="renewal_date"
// // // // // // // //                         value={formData.renewal_date}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       />
// // // // // // // //                     ) : (
// // // // // // // //                       member.renewal_date
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Pincode:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <input
// // // // // // // //                         type="text"
// // // // // // // //                         name="pincode"
// // // // // // // //                         value={formData.pincode}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       />
// // // // // // // //                     ) : (
// // // // // // // //                       member.pincode
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // // //                     <span className="font-medium">Emergency Contact:</span>{" "}
// // // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // // //                       <input
// // // // // // // //                         type="text"
// // // // // // // //                         name="emergency_contact"
// // // // // // // //                         value={formData.emergency_contact}
// // // // // // // //                         onChange={handleChange}
// // // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // // //                       />
// // // // // // // //                     ) : (
// // // // // // // //                       member.emergency_contact
// // // // // // // //                     )}
// // // // // // // //                   </p>
// // // // // // // //                 </div>
// // // // // // // //                 <div className="mt-6 flex space-x-3">
// // // // // // // //                   {editingMember === member.membershipID ? (
// // // // // // // //                     <button
// // // // // // // //                       onClick={handleSave}
// // // // // // // //                       className="flex-1 bg-green-500 px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // //                     >
// // // // // // // //                       <Save size={16} />
// // // // // // // //                       <span>Save</span>
// // // // // // // //                     </button>
// // // // // // // //                   ) : (
// // // // // // // //                     <button
// // // // // // // //                       onClick={() => handleEdit(member)}
// // // // // // // //                       className="flex-1 bg-blue-500 px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // //                     >
// // // // // // // //                       <Edit size={16} />
// // // // // // // //                       <span>Edit</span>
// // // // // // // //                     </button>
// // // // // // // //                   )}
// // // // // // // //                   <button
// // // // // // // //                     onClick={() => confirmDelete(member)}
// // // // // // // //                     className="flex-1 bg-red-500 px-4 py-2 rounded-lg hover:bg-red-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // // //                   >
// // // // // // // //                     <Trash size={16} />
// // // // // // // //                     <span>Delete</span>
// // // // // // // //                   </button>
// // // // // // // //                 </div>
// // // // // // // //               </div>
// // // // // // // //             ))}
// // // // // // // //           </div>
// // // // // // // //           {filteredMembers.length === 0 && (
// // // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // // //               <svg
// // // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // // //                 fill="none"
// // // // // // // //                 viewBox="0 0 24 24"
// // // // // // // //                 stroke="currentColor"
// // // // // // // //               >
// // // // // // // //                 <path
// // // // // // // //                   strokeLinecap="round"
// // // // // // // //                   strokeLinejoin="round"
// // // // // // // //                   strokeWidth={1}
// // // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // // //                 />
// // // // // // // //               </svg>
// // // // // // // //               <p className="text-2xl font-light tracking-wider">No members found.</p>
// // // // // // // //             </div>
// // // // // // // //           )}
// // // // // // // //         </div>
// // // // // // // //       )}

// // // // // // // //       {/* Filter Modal */}
// // // // // // // //       {showFilterModal && (
// // // // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // // // //           <div
// // // // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // // // //             onClick={() => setShowFilterModal(false)}
// // // // // // // //           ></div>
// // // // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg">
// // // // // // // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // // // // // // //               Filter Members
// // // // // // // //             </h2>
// // // // // // // //             <div className="space-y-6">
// // // // // // // //               <div>
// // // // // // // //                 <label className="block text-white mb-2">Age</label>
// // // // // // // //                 <input
// // // // // // // //                   type="number"
// // // // // // // //                   value={filterCriteria.age}
// // // // // // // //                   onChange={(e) =>
// // // // // // // //                     setFilterCriteria({
// // // // // // // //                       ...filterCriteria,
// // // // // // // //                       age: e.target.value,
// // // // // // // //                     })
// // // // // // // //                   }
// // // // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // //                   placeholder="Enter age"
// // // // // // // //                 />
// // // // // // // //               </div>
// // // // // // // //               <div>
// // // // // // // //                 <label className="block text-white mb-2">Gender</label>
// // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // //                   {["Male", "Female", "Other"].map((gender) => (
// // // // // // // //                     <div
// // // // // // // //                       key={gender}
// // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // //                         filterCriteria.gender.includes(gender)
// // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // //                       }`}
// // // // // // // //                       onClick={() => {
// // // // // // // //                         if (filterCriteria.gender.includes(gender)) {
// // // // // // // //                           setFilterCriteria({
// // // // // // // //                             ...filterCriteria,
// // // // // // // //                             gender: filterCriteria.gender.filter(
// // // // // // // //                               (g) => g !== gender
// // // // // // // //                             ),
// // // // // // // //                           });
// // // // // // // //                         } else {
// // // // // // // //                           setFilterCriteria({
// // // // // // // //                             ...filterCriteria,
// // // // // // // //                             gender: [...filterCriteria.gender, gender],
// // // // // // // //                           });
// // // // // // // //                         }
// // // // // // // //                       }}
// // // // // // // //                     >
// // // // // // // //                       {gender}
// // // // // // // //                     </div>
// // // // // // // //                   ))}
// // // // // // // //                 </div>
// // // // // // // //               </div>
// // // // // // // //               <div>
// // // // // // // //                 <label className="block text-white mb-2">Membership Plan</label>
// // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // // // // // // //                     <div
// // // // // // // //                       key={plan}
// // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // //                         filterCriteria.membership_plan.includes(plan)
// // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // //                       }`}
// // // // // // // //                       onClick={() => {
// // // // // // // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // // // // // // //                           setFilterCriteria({
// // // // // // // //                             ...filterCriteria,
// // // // // // // //                             membership_plan: filterCriteria.membership_plan.filter(
// // // // // // // //                               (p) => p !== plan
// // // // // // // //                             ),
// // // // // // // //                           });
// // // // // // // //                         } else {
// // // // // // // //                           setFilterCriteria({
// // // // // // // //                             ...filterCriteria,
// // // // // // // //                             membership_plan: [
// // // // // // // //                               ...filterCriteria.membership_plan,
// // // // // // // //                               plan,
// // // // // // // //                             ],
// // // // // // // //                           });
// // // // // // // //                         }
// // // // // // // //                       }}
// // // // // // // //                     >
// // // // // // // //                       {plan}
// // // // // // // //                     </div>
// // // // // // // //                   ))}
// // // // // // // //                 </div>
// // // // // // // //               </div>
// // // // // // // //               <div>
// // // // // // // //                 <label className="block text-white mb-2">Membership Status</label>
// // // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // // //                   {["Active", "Inactive"].map((status) => (
// // // // // // // //                     <div
// // // // // // // //                       key={status}
// // // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // // //                         filterCriteria.membership_status.includes(status)
// // // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // // //                       }`}
// // // // // // // //                       onClick={() => {
// // // // // // // //                         if (filterCriteria.membership_status.includes(status)) {
// // // // // // // //                           setFilterCriteria({
// // // // // // // //                             ...filterCriteria,
// // // // // // // //                             membership_status: filterCriteria.membership_status.filter(
// // // // // // // //                               (s) => s !== status
// // // // // // // //                             ),
// // // // // // // //                           });
// // // // // // // //                         } else {
// // // // // // // //                           setFilterCriteria({
// // // // // // // //                             ...filterCriteria,
// // // // // // // //                             membership_status: [
// // // // // // // //                               ...filterCriteria.membership_status,
// // // // // // // //                               status,
// // // // // // // //                             ],
// // // // // // // //                           });
// // // // // // // //                         }
// // // // // // // //                       }}
// // // // // // // //                     >
// // // // // // // //                       {status}
// // // // // // // //                     </div>
// // // // // // // //                   ))}
// // // // // // // //                 </div>
// // // // // // // //               </div>
// // // // // // // //               <div>
// // // // // // // //                 <label className="block text-white mb-2">Pincode</label>
// // // // // // // //                 <input
// // // // // // // //                   type="text"
// // // // // // // //                   value={filterCriteria.pincode}
// // // // // // // //                   onChange={(e) =>
// // // // // // // //                     setFilterCriteria({
// // // // // // // //                       ...filterCriteria,
// // // // // // // //                       pincode: e.target.value,
// // // // // // // //                     })
// // // // // // // //                   }
// // // // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // //                   placeholder="Enter pincode"
// // // // // // // //                 />
// // // // // // // //               </div>
// // // // // // // //               <div>
// // // // // // // //                 <label className="block text-white mb-2">Emergency Contact</label>
// // // // // // // //                 <input
// // // // // // // //                   type="text"
// // // // // // // //                   value={filterCriteria.emergency_contact}
// // // // // // // //                   onChange={(e) =>
// // // // // // // //                     setFilterCriteria({
// // // // // // // //                       ...filterCriteria,
// // // // // // // //                       emergency_contact: e.target.value,
// // // // // // // //                     })
// // // // // // // //                   }
// // // // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // //                   placeholder="Enter emergency contact"
// // // // // // // //                 />
// // // // // // // //               </div>
// // // // // // // //               <div className="grid grid-cols-2 gap-4">
// // // // // // // //                 <div>
// // // // // // // //                   <label className="block text-white mb-2">Start Date</label>
// // // // // // // //                   <input
// // // // // // // //                     type="date"
// // // // // // // //                     value={filterCriteria.dateRange.start}
// // // // // // // //                     onChange={(e) =>
// // // // // // // //                       setFilterCriteria({
// // // // // // // //                         ...filterCriteria,
// // // // // // // //                         dateRange: {
// // // // // // // //                           ...filterCriteria.dateRange,
// // // // // // // //                           start: e.target.value,
// // // // // // // //                         },
// // // // // // // //                       })
// // // // // // // //                     }
// // // // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // //                   />
// // // // // // // //                 </div>
// // // // // // // //                 <div>
// // // // // // // //                   <label className="block text-white mb-2">End Date</label>
// // // // // // // //                   <input
// // // // // // // //                     type="date"
// // // // // // // //                     value={filterCriteria.dateRange.end}
// // // // // // // //                     onChange={(e) =>
// // // // // // // //                       setFilterCriteria({
// // // // // // // //                         ...filterCriteria,
// // // // // // // //                         dateRange: {
// // // // // // // //                           ...filterCriteria.dateRange,
// // // // // // // //                           end: e.target.value,
// // // // // // // //                         },
// // // // // // // //                       })
// // // // // // // //                     }
// // // // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // // //                   />
// // // // // // // //                 </div>
// // // // // // // //               </div>
// // // // // // // //             </div>
// // // // // // // //             <div className="mt-8 flex space-x-4">
// // // // // // // //               <button
// // // // // // // //                 onClick={() => setShowFilterModal(false)}
// // // // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // // // //               >
// // // // // // // //                 Cancel
// // // // // // // //               </button>
// // // // // // // //               <button
// // // // // // // //                 onClick={applyFilter}
// // // // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // // // //               >
// // // // // // // //                 Apply Filters
// // // // // // // //               </button>
// // // // // // // //             </div>
// // // // // // // //           </div>
// // // // // // // //         </div>
// // // // // // // //       )}

// // // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // // //       {showConfirmDialog && (
// // // // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // // // //           <div
// // // // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // // // //             onClick={() => setShowConfirmDialog(false)}
// // // // // // // //           ></div>
// // // // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // // // // // // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // // // // // // //               Confirm Delete
// // // // // // // //             </h2>
// // // // // // // //             <p className="text-gray-300 mb-6 text-center">
// // // // // // // //               Are you sure you want to delete{" "}
// // // // // // // //               <span className="font-medium text-white">
// // // // // // // //                 {memberToDelete?.full_name}
// // // // // // // //               </span>
// // // // // // // //               ? This action cannot be undone after 5 seconds.
// // // // // // // //             </p>
// // // // // // // //             <div className="flex space-x-4">
// // // // // // // //               <button
// // // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // // // //               >
// // // // // // // //                 Cancel
// // // // // // // //               </button>
// // // // // // // //               <button
// // // // // // // //                 onClick={() => {
// // // // // // // //                   if (memberToDelete) {
// // // // // // // //                     handleDelete(memberToDelete.membershipID);
// // // // // // // //                   }
// // // // // // // //                 }}
// // // // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // // // //               >
// // // // // // // //                 Delete
// // // // // // // //               </button>
// // // // // // // //             </div>
// // // // // // // //           </div>
// // // // // // // //         </div>
// // // // // // // //       )}

// // // // // // // //       {/* Undo Delete Toast */}
// // // // // // // //       {deletedMember && undoTimer > 0 && (
// // // // // // // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // // // //           <p className="text-gray-300">
// // // // // // // //             <span className="font-medium text-white">
// // // // // // // //               {deletedMember.full_name}
// // // // // // // //             </span>{" "}
// // // // // // // //             deleted
// // // // // // // //           </p>
// // // // // // // //           <button
// // // // // // // //             onClick={handleUndoDelete}
// // // // // // // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400"
// // // // // // // //           >
// // // // // // // //             <Undo size={16} />
// // // // // // // //             <span>Undo ({undoTimer}s)</span>
// // // // // // // //           </button>
// // // // // // // //         </div>
// // // // // // // //       )}

// // // // // // // //       {/* Save Success Toast */}
// // // // // // // //       {saveSuccess && (
// // // // // // // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // // // //           <svg
// // // // // // // //             xmlns="http://www.w3.org/2000/svg"
// // // // // // // //             className="h-6 w-6 text-green-500"
// // // // // // // //             fill="none"
// // // // // // // //             viewBox="0 0 24 24"
// // // // // // // //             stroke="currentColor"
// // // // // // // //           >
// // // // // // // //             <path
// // // // // // // //               strokeLinecap="round"
// // // // // // // //               strokeLinejoin="round"
// // // // // // // //               strokeWidth={2}
// // // // // // // //               d="M5 13l4 4L19 7"
// // // // // // // //             />
// // // // // // // //           </svg>
// // // // // // // //           <p className="text-green-300">Member updated successfully!</p>
// // // // // // // //         </div>
// // // // // // // //       )}
// // // // // // // //     </div>
// // // // // // // //   );
// // // // // // // // };

// // // // // // // // export default MembersPage;
// // // // // // // "use client";

// // // // // // // import { useState, useEffect } from "react";
// // // // // // // import { useRouter } from "next/navigation";
// // // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // // const MembersPage = () => {
// // // // // // //   const router = useRouter();
// // // // // // //   const [members, setMembers] = useState([]);
// // // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // // //   const [error, setError] = useState(null);
// // // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // // //     age: "",
// // // // // // //     gender: [],
// // // // // // //     membership_plan: [],
// // // // // // //     membership_status: [],
// // // // // // //     dateRange: { start: "", end: "" }, // Changed to paymentDate and renewalDate
// // // // // // //     pincode: "",
// // // // // // //     emergency_contact: "",
// // // // // // //   });
// // // // // // //   const [formData, setFormData] = useState({
// // // // // // //     full_name: "",
// // // // // // //     email: "",
// // // // // // //     phone_number: "",
// // // // // // //     age: "",
// // // // // // //     gender: "",
// // // // // // //     trainer_name: "",
// // // // // // //     password: "",
// // // // // // //     membership_plan: "",
// // // // // // //     amount_Paid: "",
// // // // // // //     payment_status: "",
// // // // // // //     membership_status: "",
// // // // // // //     payment_date: "",
// // // // // // //     renewal_date: "",
// // // // // // //     pincode: "",
// // // // // // //     emergency_contact: "",
// // // // // // //   });
// // // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // // //   // Fetch members from the backend
// // // // // // //   useEffect(() => {
// // // // // // //     const fetchMembers = async () => {
// // // // // // //       try {
// // // // // // //         const response = await fetch(
// // // // // // //           "http://localhost:5000/api/admin/members",
// // // // // // //           {
// // // // // // //             method: "GET",
// // // // // // //             headers: {
// // // // // // //               "Content-Type": "application/json",
// // // // // // //             },
// // // // // // //           }
// // // // // // //         );
// // // // // // //         if (!response.ok) {
// // // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // //         }
// // // // // // //         const data = await response.json();
// // // // // // //         console.log("API Response:", data);

// // // // // // //         // Ensure amount_Paid is a number and include new fields
// // // // // // //         const formattedMembers = data.map((member) => ({
// // // // // // //           ...member,
// // // // // // //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// // // // // // //           pincode: member.pincode || "",
// // // // // // //           emergency_contact: member.emergency_contact || "",
// // // // // // //         }));

// // // // // // //         setMembers(formattedMembers);
// // // // // // //         setError(null);
// // // // // // //       } catch (err) {
// // // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // // //         console.error("Error fetching members:", err);
// // // // // // //       } finally {
// // // // // // //         setIsLoading(false);
// // // // // // //       }
// // // // // // //     };
// // // // // // //     fetchMembers();
// // // // // // //   }, []);

// // // // // // //   // Handle search and filter
// // // // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // // // //     const full_name = member.full_name || "";
// // // // // // //     const email = member.email || "";
// // // // // // //     const membership_status = member.membership_status || "";
// // // // // // //     const pincode = member.pincode || "";
// // // // // // //     const emergency_contact = member.emergency_contact || "";

// // // // // // //     // Search filter (case-insensitive)
// // // // // // //     const matchesSearch =
// // // // // // //       searchTerm === "" ||
// // // // // // //       full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // //       membership_status.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // //       pincode.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // // //       emergency_contact.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // // //     // Age filter
// // // // // // //     const ageMatch =
// // // // // // //       filterCriteria.age === "" ||
// // // // // // //       (member.age !== null &&
// // // // // // //         member.age !== undefined &&
// // // // // // //         member.age.toString() === filterCriteria.age);

// // // // // // //     // Gender filter (multiple selection)
// // // // // // //     const genderMatch =
// // // // // // //       filterCriteria.gender.length === 0 ||
// // // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // // //     // Membership Plan filter (multiple selection)
// // // // // // //     const membershipPlanMatch =
// // // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // // //     // Membership Status filter (multiple selection)
// // // // // // //     const membershipStatusMatch =
// // // // // // //       filterCriteria.membership_status.length === 0 ||
// // // // // // //       filterCriteria.membership_status.includes(member.membership_status);

// // // // // // //     // Date range filter
// // // // // // //     const memberPaymentDate = new Date(member.payment_date);
// // // // // // //     const matchesPaymentDate =
// // // // // // //       !filterCriteria.dateRange.start ||
// // // // // // //       memberPaymentDate >= new Date(filterCriteria.dateRange.start);
// // // // // // //     const memberRenewalDate = new Date(member.renewal_date);
// // // // // // //     const matchesRenewalDate =
// // // // // // //       !filterCriteria.dateRange.end ||
// // // // // // //       memberRenewalDate <= new Date(filterCriteria.dateRange.end);

// // // // // // //     // Pincode filter
// // // // // // //     const pincodeMatch =
// // // // // // //       filterCriteria.pincode === "" ||
// // // // // // //       (member.pincode && member.pincode.includes(filterCriteria.pincode));

// // // // // // //     // Emergency Contact filter
// // // // // // //     const emergencyContactMatch =
// // // // // // //       filterCriteria.emergency_contact === "" ||
// // // // // // //       (member.emergency_contact &&
// // // // // // //         member.emergency_contact.includes(filterCriteria.emergency_contact));

// // // // // // //     // Return true only if all filters match
// // // // // // //     return (
// // // // // // //       matchesSearch &&
// // // // // // //       ageMatch &&
// // // // // // //       genderMatch &&
// // // // // // //       membershipPlanMatch &&
// // // // // // //       membershipStatusMatch &&
// // // // // // //       matchesPaymentDate &&
// // // // // // //       matchesRenewalDate &&
// // // // // // //       pincodeMatch &&
// // // // // // //       emergencyContactMatch
// // // // // // //     );
// // // // // // //   });

// // // // // // //   // Handle edit
// // // // // // //   const handleEdit = (member) => {
// // // // // // //     if (!member || !member.membershipID) return; // Ensure member exists and has an ID
// // // // // // //     setEditingMember(member.membershipID); // Store membershipID in editing state
// // // // // // //     setFormData({
// // // // // // //       full_name: member.full_name || "",
// // // // // // //       email: member.email || "",
// // // // // // //       phone_number: member.phone_number || "",
// // // // // // //       age: member.age || "",
// // // // // // //       gender: member.gender || "",
// // // // // // //       trainer_name: member.trainer_name || "",
// // // // // // //       password: member.password || "",
// // // // // // //       membership_plan: member.membership_plan || "",
// // // // // // //       amount_Paid: member.amount_Paid || 0, // Ensure amount_Paid is a number
// // // // // // //       payment_status: member.payment_status || "",
// // // // // // //       membership_status: member.membership_status || "",
// // // // // // //       payment_date: member.payment_date || "",
// // // // // // //       renewal_date: member.renewal_date || "",
// // // // // // //       pincode: member.pincode || "", // Include pincode
// // // // // // //       emergency_contact: member.emergency_contact || "", // Include emergency_contact
// // // // // // //     });
// // // // // // //   };

// // // // // // //   // Handle form changes
// // // // // // //   const handleChange = (e) => {
// // // // // // //     const { name, value } = e.target;
// // // // // // //     setFormData((prev) => ({
// // // // // // //       ...prev,
// // // // // // //       [name]: value,
// // // // // // //     }));
// // // // // // //   };

// // // // // // //   // Save edited member
// // // // // // //   const handleSave = async () => {
// // // // // // //     if (!editingMember) {
// // // // // // //       console.error("Error: No member is currently being edited.");
// // // // // // //       return;
// // // // // // //     }

// // // // // // //     const membershipID = editingMember;

// // // // // // //     // Validate trainer before proceeding
// // // // // // //     try {
// // // // // // //       const trainerResponse = await fetch(
// // // // // // //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// // // // // // //         {
// // // // // // //           method: "GET",
// // // // // // //           headers: {
// // // // // // //             "Content-Type": "application/json",
// // // // // // //           },
// // // // // // //         }
// // // // // // //       );

// // // // // // //       if (!trainerResponse.ok) {
// // // // // // //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// // // // // // //       }

// // // // // // //       // Proceed with updating the member
// // // // // // //       const dataToSend = {
// // // // // // //         ...formData,
// // // // // // //         amount_Paid: parseFloat(formData.amount_Paid) || 0, // Ensure amount_Paid is a number
// // // // // // //         membershipID: membershipID,
// // // // // // //       };

// // // // // // //       console.log("Data being sent to server:", dataToSend); // Debugging

// // // // // // //       const response = await fetch(
// // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // //         {
// // // // // // //           method: "PUT",
// // // // // // //           headers: {
// // // // // // //             "Content-Type": "application/json",
// // // // // // //           },
// // // // // // //           body: JSON.stringify(dataToSend),
// // // // // // //         }
// // // // // // //       );

// // // // // // //       if (!response.ok) {
// // // // // // //         const errorText = await response.text();
// // // // // // //         throw new Error(
// // // // // // //           `HTTP error! Status: ${response.status}, Response: ${errorText}`
// // // // // // //         );
// // // // // // //       }

// // // // // // //       const updatedMember = await response.json();
// // // // // // //       console.log("Response from server:", updatedMember); // Debugging

// // // // // // //       // Update local state to reflect what was sent to the server
// // // // // // //       setMembers((prevMembers) =>
// // // // // // //         prevMembers.map((member) =>
// // // // // // //           member.membershipID === membershipID
// // // // // // //             ? { ...member, ...dataToSend }
// // // // // // //             : member
// // // // // // //         )
// // // // // // //       );

// // // // // // //       setEditingMember(null);
// // // // // // //       setSaveSuccess(true);
// // // // // // //       setTimeout(() => setSaveSuccess(false), 3000);
// // // // // // //     } catch (err) {
// // // // // // //       console.error("Error updating member:", err);
// // // // // // //       alert(err.message); // Notify the user about the error
// // // // // // //     }
// // // // // // //   };

// // // // // // //   // Handle delete
// // // // // // //   const confirmDelete = (member) => {
// // // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // // //     setMemberToDelete(member);
// // // // // // //     setShowConfirmDialog(true);
// // // // // // //   };

// // // // // // //   const handleDelete = async (membershipID) => {
// // // // // // //     setShowConfirmDialog(false);
// // // // // // //     const memberToDeleteObj = members.find(
// // // // // // //       (m) => m.membershipID === membershipID
// // // // // // //     );
// // // // // // //     if (!memberToDeleteObj) {
// // // // // // //       console.error("Member not found");
// // // // // // //       return;
// // // // // // //     }
// // // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // // //     setMembers(
// // // // // // //       members.filter((member) => member.membershipID !== membershipID)
// // // // // // //     );

// // // // // // //     // Start the 5-second timer
// // // // // // //     setUndoTimer(5);
// // // // // // //     const timer = setInterval(() => {
// // // // // // //       setUndoTimer((prev) => {
// // // // // // //         if (prev === 1) {
// // // // // // //           clearInterval(timer);
// // // // // // //           deleteMemberFromDatabase(membershipID); // Delete from the database after 5 seconds
// // // // // // //           return 0;
// // // // // // //         }
// // // // // // //         return prev - 1;
// // // // // // //       });
// // // // // // //     }, 1000);
// // // // // // //     setDeleteTimer(timer);
// // // // // // //   };

// // // // // // //   // Delete member from the database
// // // // // // //   const deleteMemberFromDatabase = async (membershipID) => {
// // // // // // //     try {
// // // // // // //       const response = await fetch(
// // // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // // //         {
// // // // // // //           method: "DELETE",
// // // // // // //           headers: {
// // // // // // //             "Content-Type": "application/json",
// // // // // // //           },
// // // // // // //         }
// // // // // // //       );
// // // // // // //       if (!response.ok) {
// // // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // // //       }
// // // // // // //       setDeletedMember(null);
// // // // // // //     } catch (err) {
// // // // // // //       console.error("Error deleting member:", err);
// // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // //     }
// // // // // // //   };

// // // // // // //   // Undo delete functionality
// // // // // // //   const handleUndoDelete = () => {
// // // // // // //     if (deleteTimer) {
// // // // // // //       clearInterval(deleteTimer);
// // // // // // //       setDeleteTimer(null);
// // // // // // //     }
// // // // // // //     if (deletedMember) {
// // // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // // //       setDeletedMember(null);
// // // // // // //     }
// // // // // // //     setUndoTimer(0); // Reset the timer
// // // // // // //   };

// // // // // // //   // Toggle view mode
// // // // // // //   const toggleViewMode = () => {
// // // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // // //   };

// // // // // // //   // Apply filter
// // // // // // //   const applyFilter = () => {
// // // // // // //     setShowFilterModal(false);
// // // // // // //   };

// // // // // // //   // Reset filters
// // // // // // //   const resetFilters = () => {
// // // // // // //     setFilterCriteria({
// // // // // // //       age: "",
// // // // // // //       gender: [],
// // // // // // //       membership_plan: [],
// // // // // // //       membership_status: [],
// // // // // // //       dateRange: { start: "", end: "" },
// // // // // // //       pincode: "", // Reset pincode filter
// // // // // // //       emergency_contact: "", // Reset emergency_contact filter
// // // // // // //     });
// // // // // // //   };

// // // // // // //   if (isLoading)
// // // // // // //     return (
// // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // // //         <div className="text-center">
// // // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // // //             Loading members...
// // // // // // //           </p>
// // // // // // //         </div>
// // // // // // //       </div>
// // // // // // //     );

// // // // // // //   if (error)
// // // // // // //     return (
// // // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // // //         <div className="text-center">
// // // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // // //         </div>
// // // // // // //       </div>
// // // // // // //     );

// // // // // // //   return (
// // // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // // //       {/* Navbar */}
// // // // // // //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// // // // // // //         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
// // // // // // //           {/* Title */}
// // // // // // //           <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 text-center md:text-left">
// // // // // // //             Members List
// // // // // // //           </h1>

// // // // // // //           {/* Buttons */}
// // // // // // //           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
// // // // // // //             {/* Toggle View Mode Button */}
// // // // // // //             <button
// // // // // // //               onClick={toggleViewMode}
// // // // // // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // // //             >
// // // // // // //               {viewMode === "table" ? "Card View" : "Table View"}
// // // // // // //             </button>

// // // // // // //             {/* Filter Button */}
// // // // // // //             <button
// // // // // // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center"
// // // // // // //             >
// // // // // // //               <svg
// // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // // //                 fill="none"
// // // // // // //                 viewBox="0 0 24 24"
// // // // // // //                 stroke="currentColor"
// // // // // // //               >
// // // // // // //                 <path
// // // // // // //                   strokeLinecap="round"
// // // // // // //                   strokeLinejoin="round"
// // // // // // //                   strokeWidth={1.5}
// // // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // // //                 />
// // // // // // //               </svg>
// // // // // // //               <span className="font-medium">Filter View</span>
// // // // // // //             </button>

// // // // // // //             {/* Add Member Button */}
// // // // // // //             <button
// // // // // // //               onClick={() => router.push("/add-member")}
// // // // // // //               className="w-full md:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600"
// // // // // // //             >
// // // // // // //               <Plus size={20} />
// // // // // // //               <span>Add Member</span>
// // // // // // //             </button>
// // // // // // //           </div>
// // // // // // //         </div>
// // // // // // //       </div>

// // // // // // //       {/* Header Section */}
// // // // // // //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// // // // // // //         <div className="w-full px-8 pt-10">
// // // // // // //           <div
// // // // // // //             className={`relative transition-all duration-500 ${
// // // // // // //               searchFocused ? "scale-105" : ""
// // // // // // //             }`}
// // // // // // //           >
// // // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // // //               <svg
// // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // //                 className={`h-5 w-5 transition-all duration-300 ${
// // // // // // //                   searchFocused
// // // // // // //                     ? "dark:text-red-500 text-black"
// // // // // // //                     : "text-gray-500"
// // // // // // //                 }`}
// // // // // // //                 fill="none"
// // // // // // //                 viewBox="0 0 24 24"
// // // // // // //                 stroke="currentColor"
// // // // // // //                 strokeWidth={1.5}
// // // // // // //               >
// // // // // // //                 <path
// // // // // // //                   strokeLinecap="round"
// // // // // // //                   strokeLinejoin="round"
// // // // // // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // // //                 />
// // // // // // //               </svg>
// // // // // // //             </span>
// // // // // // //             <input
// // // // // // //               type="text"
// // // // // // //               placeholder="Search by name, email, or membership status"
// // // // // // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // // //               value={searchTerm}
// // // // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // // // //               onFocus={() => setSearchFocused(true)}
// // // // // // //               onBlur={() => setSearchFocused(false)}
// // // // // // //             />
// // // // // // //           </div>
// // // // // // //         </div>
// // // // // // //       </div>

// // // // // // //       {/* Clear Filters Button */}
// // // // // // //       {(filterCriteria.age ||
// // // // // // //         filterCriteria.gender.length > 0 ||
// // // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // // //         filterCriteria.membership_status.length > 0 ||
// // // // // // //         filterCriteria.dateRange.start ||
// // // // // // //         filterCriteria.dateRange.end ||
// // // // // // //         filterCriteria.pincode ||
// // // // // // //         filterCriteria.emergency_contact) && (
// // // // // // //         <div className="w-full px-8 pt-4">
// // // // // // //           <button
// // // // // // //             onClick={resetFilters}
// // // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // // //           >
// // // // // // //             Clear Filters
// // // // // // //           </button>
// // // // // // //         </div>
// // // // // // //       )}

// // // // // // //       {/* Members Table */}
// // // // // // //       {viewMode === "table" ? (
// // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // //           {filteredMembers.length === 0 ? (
// // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // //               <svg
// // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // //                 fill="none"
// // // // // // //                 viewBox="0 0 24 24"
// // // // // // //                 stroke="currentColor"
// // // // // // //               >
// // // // // // //                 <path
// // // // // // //                   strokeLinecap="round"
// // // // // // //                   strokeLinejoin="round"
// // // // // // //                   strokeWidth={1}
// // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // //                 />
// // // // // // //               </svg>
// // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // //                 No members found.
// // // // // // //               </p>
// // // // // // //             </div>
// // // // // // //           ) : (
// // // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // // //               <div className="overflow-x-auto">
// // // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // // //                   <thead>
// // // // // // //                     <tr className="bg-gray-900/50">
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Membership ID
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Photo
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Full Name
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Email
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Phone Number
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Age
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Gender
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Trainer Name
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Membership Plan
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Amount Paid
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Payment Status
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Membership Status
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Payment Date
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Renewal Date
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Pincode
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Emergency Contact
// // // // // // //                       </th>
// // // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // // //                         Actions
// // // // // // //                       </th>
// // // // // // //                     </tr>
// // // // // // //                   </thead>
// // // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // // //                     {filteredMembers.map((member) => (
// // // // // // //                       <tr
// // // // // // //                         key={member.membershipID}
// // // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // // //                       >
// // // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // // //                           {member.membershipID}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // // //                             <User size={20} />
// // // // // // //                           </div>
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="text"
// // // // // // //                               name="full_name"
// // // // // // //                               value={formData.full_name}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             member.full_name
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="email"
// // // // // // //                               name="email"
// // // // // // //                               value={formData.email}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             member.email
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="text"
// // // // // // //                               name="phone_number"
// // // // // // //                               value={formData.phone_number}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             member.phone_number
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="number"
// // // // // // //                               name="age"
// // // // // // //                               value={formData.age}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             member.age
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <select
// // // // // // //                               name="gender"
// // // // // // //                               value={formData.gender}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             >
// // // // // // //                               <option value="Male">Male</option>
// // // // // // //                               <option value="Female">Female</option>
// // // // // // //                               <option value="Other">Other</option>
// // // // // // //                             </select>
// // // // // // //                           ) : (
// // // // // // //                             member.gender
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <select
// // // // // // //                               name="trainer_name"
// // // // // // //                               value={formData.trainer_name}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             >
// // // // // // //                               <option value="Trainer1">Trainer1</option>
// // // // // // //                               <option value="Trainer2">Trainer2</option>
// // // // // // //                               <option value="Trainer3">Trainer3</option>
// // // // // // //                             </select>
// // // // // // //                           ) : (
// // // // // // //                             member.trainer_name
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <select
// // // // // // //                               name="membership_plan"
// // // // // // //                               value={formData.membership_plan}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             >
// // // // // // //                               <option value="Monthly">Monthly</option>
// // // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // // //                               <option value="Yearly">Yearly</option>
// // // // // // //                             </select>
// // // // // // //                           ) : (
// // // // // // //                             member.membership_plan
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="number"
// // // // // // //                               name="amount_Paid"
// // // // // // //                               value={formData.amount_Paid}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                               min="0"
// // // // // // //                               step="0.01"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             `$${member.amount_Paid.toFixed(2)}` // Format as currency
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <select
// // // // // // //                               name="payment_status"
// // // // // // //                               value={formData.payment_status}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             >
// // // // // // //                               <option value="Paid">Paid</option>
// // // // // // //                               <option value="Pending">Pending</option>
// // // // // // //                             </select>
// // // // // // //                           ) : (
// // // // // // //                             member.payment_status
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <select
// // // // // // //                               name="membership_status"
// // // // // // //                               value={formData.membership_status}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             >
// // // // // // //                               <option value="Active">Active</option>
// // // // // // //                               <option value="Inactive">Inactive</option>
// // // // // // //                             </select>
// // // // // // //                           ) : (
// // // // // // //                             member.membership_status
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="date"
// // // // // // //                               name="payment_date"
// // // // // // //                               value={formData.payment_date}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             member.payment_date
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="date"
// // // // // // //                               name="renewal_date"
// // // // // // //                               value={formData.renewal_date}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             member.renewal_date
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="text"
// // // // // // //                               name="pincode"
// // // // // // //                               value={formData.pincode}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             member.pincode
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // // //                           {editingMember === member.membershipID ? (
// // // // // // //                             <input
// // // // // // //                               type="text"
// // // // // // //                               name="emergency_contact"
// // // // // // //                               value={formData.emergency_contact}
// // // // // // //                               onChange={handleChange}
// // // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                             />
// // // // // // //                           ) : (
// // // // // // //                             member.emergency_contact
// // // // // // //                           )}
// // // // // // //                         </td>
// // // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // // //                           <div className="flex space-x-2">
// // // // // // //                             {editingMember === member.membershipID ? (
// // // // // // //                               <button
// // // // // // //                                 onClick={handleSave}
// // // // // // //                                 className="bg-green-500 px-3 py-1 rounded-lg hover:bg-green-600 transition-colors duration-300"
// // // // // // //                               >
// // // // // // //                                 <Save size={16} />
// // // // // // //                               </button>
// // // // // // //                             ) : (
// // // // // // //                               <button
// // // // // // //                                 onClick={() => handleEdit(member)}
// // // // // // //                                 className="bg-blue-500 px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-300"
// // // // // // //                               >
// // // // // // //                                 <Edit size={16} />
// // // // // // //                               </button>
// // // // // // //                             )}
// // // // // // //                             <button
// // // // // // //                               onClick={() => confirmDelete(member)}
// // // // // // //                               className="bg-red-500 px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-300"
// // // // // // //                             >
// // // // // // //                               <Trash size={16} />
// // // // // // //                             </button>
// // // // // // //                           </div>
// // // // // // //                         </td>
// // // // // // //                       </tr>
// // // // // // //                     ))}
// // // // // // //                   </tbody>
// // // // // // //                 </table>
// // // // // // //               </div>
// // // // // // //             </div>
// // // // // // //           )}
// // // // // // //         </div>
// // // // // // //       ) : (
// // // // // // //         // Card View
// // // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // // //             {filteredMembers.map((member) => (
// // // // // // //               <div
// // // // // // //                 key={member.membershipID}
// // // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // // //               >
// // // // // // //                 <div className="flex items-center space-x-4">
// // // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // // //                     <User size={20} />
// // // // // // //                   </div>
// // // // // // //                   <div>
// // // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // // //                       {editingMember === member.membershipID ? (
// // // // // // //                         <input
// // // // // // //                           type="text"
// // // // // // //                           name="full_name"
// // // // // // //                           value={formData.full_name}
// // // // // // //                           onChange={handleChange}
// // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                         />
// // // // // // //                       ) : (
// // // // // // //                         member.full_name
// // // // // // //                       )}
// // // // // // //                     </h3>
// // // // // // //                     <p className="text-sm text-gray-300">
// // // // // // //                       {editingMember === member.membershipID ? (
// // // // // // //                         <input
// // // // // // //                           type="email"
// // // // // // //                           name="email"
// // // // // // //                           value={formData.email}
// // // // // // //                           onChange={handleChange}
// // // // // // //                           className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                         />
// // // // // // //                       ) : (
// // // // // // //                         member.email
// // // // // // //                       )}
// // // // // // //                     </p>
// // // // // // //                   </div>
// // // // // // //                 </div>
// // // // // // //                 <div className="mt-4 space-y-2">
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Membership ID:</span>{" "}
// // // // // // //                     {member.membershipID}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Phone Number:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <input
// // // // // // //                         type="text"
// // // // // // //                         name="phone_number"
// // // // // // //                         value={formData.phone_number}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       />
// // // // // // //                     ) : (
// // // // // // //                       member.phone_number
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <input
// // // // // // //                         type="number"
// // // // // // //                         name="age"
// // // // // // //                         value={formData.age}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       />
// // // // // // //                     ) : (
// // // // // // //                       member.age
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <select
// // // // // // //                         name="gender"
// // // // // // //                         value={formData.gender}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       >
// // // // // // //                         <option value="Male">Male</option>
// // // // // // //                         <option value="Female">Female</option>
// // // // // // //                         <option value="Other">Other</option>
// // // // // // //                       </select>
// // // // // // //                     ) : (
// // // // // // //                       member.gender
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Trainer Name:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <select
// // // // // // //                         name="trainer_name"
// // // // // // //                         value={formData.trainer_name}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       >
// // // // // // //                         <option value="Trainer1">Trainer1</option>
// // // // // // //                         <option value="Trainer2">Trainer2</option>
// // // // // // //                         <option value="Trainer3">Trainer3</option>
// // // // // // //                       </select>
// // // // // // //                     ) : (
// // // // // // //                       member.trainer_name
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <select
// // // // // // //                         name="membership_plan"
// // // // // // //                         value={formData.membership_plan}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       >
// // // // // // //                         <option value="Monthly">Monthly</option>
// // // // // // //                         <option value="Quarterly">Quarterly</option>
// // // // // // //                         <option value="Yearly">Yearly</option>
// // // // // // //                       </select>
// // // // // // //                     ) : (
// // // // // // //                       member.membership_plan
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Amount Paid:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <input
// // // // // // //                         type="number"
// // // // // // //                         name="amount_Paid"
// // // // // // //                         value={formData.amount_Paid}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                         min="0"
// // // // // // //                         step="0.01"
// // // // // // //                       />
// // // // // // //                     ) : (
// // // // // // //                       `$${member.amount_Paid.toFixed(2)}` // Format as currency
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Payment Status:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <select
// // // // // // //                         name="payment_status"
// // // // // // //                         value={formData.payment_status}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       >
// // // // // // //                         <option value="Paid">Paid</option>
// // // // // // //                         <option value="Pending">Pending</option>
// // // // // // //                       </select>
// // // // // // //                     ) : (
// // // // // // //                       member.payment_status
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Membership Status:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <select
// // // // // // //                         name="membership_status"
// // // // // // //                         value={formData.membership_status}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       >
// // // // // // //                         <option value="Active">Active</option>
// // // // // // //                         <option value="Inactive">Inactive</option>
// // // // // // //                       </select>
// // // // // // //                     ) : (
// // // // // // //                       member.membership_status
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Payment Date:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <input
// // // // // // //                         type="date"
// // // // // // //                         name="payment_date"
// // // // // // //                         value={formData.payment_date}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       />
// // // // // // //                     ) : (
// // // // // // //                       member.payment_date
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Renewal Date:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <input
// // // // // // //                         type="date"
// // // // // // //                         name="renewal_date"
// // // // // // //                         value={formData.renewal_date}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       />
// // // // // // //                     ) : (
// // // // // // //                       member.renewal_date
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Pincode:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <input
// // // // // // //                         type="text"
// // // // // // //                         name="pincode"
// // // // // // //                         value={formData.pincode}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       />
// // // // // // //                     ) : (
// // // // // // //                       member.pincode
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                   <p className="text-sm text-gray-300">
// // // // // // //                     <span className="font-medium">Emergency Contact:</span>{" "}
// // // // // // //                     {editingMember === member.membershipID ? (
// // // // // // //                       <input
// // // // // // //                         type="text"
// // // // // // //                         name="emergency_contact"
// // // // // // //                         value={formData.emergency_contact}
// // // // // // //                         onChange={handleChange}
// // // // // // //                         className="bg-gray-700 text-white p-1 rounded"
// // // // // // //                       />
// // // // // // //                     ) : (
// // // // // // //                       member.emergency_contact
// // // // // // //                     )}
// // // // // // //                   </p>
// // // // // // //                 </div>
// // // // // // //                 <div className="mt-6 flex space-x-3">
// // // // // // //                   {editingMember === member.membershipID ? (
// // // // // // //                     <button
// // // // // // //                       onClick={handleSave}
// // // // // // //                       className="flex-1 bg-green-500 px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // //                     >
// // // // // // //                       <Save size={16} />
// // // // // // //                       <span>Save</span>
// // // // // // //                     </button>
// // // // // // //                   ) : (
// // // // // // //                     <button
// // // // // // //                       onClick={() => handleEdit(member)}
// // // // // // //                       className="flex-1 bg-blue-500 px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // //                     >
// // // // // // //                       <Edit size={16} />
// // // // // // //                       <span>Edit</span>
// // // // // // //                     </button>
// // // // // // //                   )}
// // // // // // //                   <button
// // // // // // //                     onClick={() => confirmDelete(member)}
// // // // // // //                     className="flex-1 bg-red-500 px-4 py-2 rounded-lg hover:bg-red-600 transition-colors duration-300 flex items-center justify-center space-x-2"
// // // // // // //                   >
// // // // // // //                     <Trash size={16} />
// // // // // // //                     <span>Delete</span>
// // // // // // //                   </button>
// // // // // // //                 </div>
// // // // // // //               </div>
// // // // // // //             ))}
// // // // // // //           </div>
// // // // // // //           {filteredMembers.length === 0 && (
// // // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // // //               <svg
// // // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // // //                 fill="none"
// // // // // // //                 viewBox="0 0 24 24"
// // // // // // //                 stroke="currentColor"
// // // // // // //               >
// // // // // // //                 <path
// // // // // // //                   strokeLinecap="round"
// // // // // // //                   strokeLinejoin="round"
// // // // // // //                   strokeWidth={1}
// // // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // // //                 />
// // // // // // //               </svg>
// // // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // // //                 No members found.
// // // // // // //               </p>
// // // // // // //             </div>
// // // // // // //           )}
// // // // // // //         </div>
// // // // // // //       )}

// // // // // // //       {/* Filter Modal */}
// // // // // // //       {showFilterModal && (
// // // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // // //           <div
// // // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // // //             onClick={() => setShowFilterModal(false)}
// // // // // // //           ></div>
// // // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg">
// // // // // // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // // // // // //               Filter Members
// // // // // // //             </h2>
// // // // // // //             <div className="space-y-6">
// // // // // // //               <div>
// // // // // // //                 <label className="block text-white mb-2">Age</label>
// // // // // // //                 <input
// // // // // // //                   type="number"
// // // // // // //                   value={filterCriteria.age}
// // // // // // //                   onChange={(e) =>
// // // // // // //                     setFilterCriteria({
// // // // // // //                       ...filterCriteria,
// // // // // // //                       age: e.target.value,
// // // // // // //                     })
// // // // // // //                   }
// // // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // //                   placeholder="Enter age"
// // // // // // //                 />
// // // // // // //               </div>
// // // // // // //               <div>
// // // // // // //                 <label className="block text-white mb-2">Gender</label>
// // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // //                   {["Male", "Female", "Other"].map((gender) => (
// // // // // // //                     <div
// // // // // // //                       key={gender}
// // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // //                         filterCriteria.gender.includes(gender)
// // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // //                       }`}
// // // // // // //                       onClick={() => {
// // // // // // //                         if (filterCriteria.gender.includes(gender)) {
// // // // // // //                           setFilterCriteria({
// // // // // // //                             ...filterCriteria,
// // // // // // //                             gender: filterCriteria.gender.filter(
// // // // // // //                               (g) => g !== gender
// // // // // // //                             ),
// // // // // // //                           });
// // // // // // //                         } else {
// // // // // // //                           setFilterCriteria({
// // // // // // //                             ...filterCriteria,
// // // // // // //                             gender: [...filterCriteria.gender, gender],
// // // // // // //                           });
// // // // // // //                         }
// // // // // // //                       }}
// // // // // // //                     >
// // // // // // //                       {gender}
// // // // // // //                     </div>
// // // // // // //                   ))}
// // // // // // //                 </div>
// // // // // // //               </div>
// // // // // // //               <div>
// // // // // // //                 <label className="block text-white mb-2">Membership Plan</label>
// // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // // // // // //                     <div
// // // // // // //                       key={plan}
// // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // //                         filterCriteria.membership_plan.includes(plan)
// // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // //                       }`}
// // // // // // //                       onClick={() => {
// // // // // // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // // // // // //                           setFilterCriteria({
// // // // // // //                             ...filterCriteria,
// // // // // // //                             membership_plan:
// // // // // // //                               filterCriteria.membership_plan.filter(
// // // // // // //                                 (p) => p !== plan
// // // // // // //                               ),
// // // // // // //                           });
// // // // // // //                         } else {
// // // // // // //                           setFilterCriteria({
// // // // // // //                             ...filterCriteria,
// // // // // // //                             membership_plan: [
// // // // // // //                               ...filterCriteria.membership_plan,
// // // // // // //                               plan,
// // // // // // //                             ],
// // // // // // //                           });
// // // // // // //                         }
// // // // // // //                       }}
// // // // // // //                     >
// // // // // // //                       {plan}
// // // // // // //                     </div>
// // // // // // //                   ))}
// // // // // // //                 </div>
// // // // // // //               </div>
// // // // // // //               <div>
// // // // // // //                 <label className="block text-white mb-2">
// // // // // // //                   Membership Status
// // // // // // //                 </label>
// // // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // // //                   {["Active", "Inactive"].map((status) => (
// // // // // // //                     <div
// // // // // // //                       key={status}
// // // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // // //                         filterCriteria.membership_status.includes(status)
// // // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // // //                       }`}
// // // // // // //                       onClick={() => {
// // // // // // //                         if (filterCriteria.membership_status.includes(status)) {
// // // // // // //                           setFilterCriteria({
// // // // // // //                             ...filterCriteria,
// // // // // // //                             membership_status:
// // // // // // //                               filterCriteria.membership_status.filter(
// // // // // // //                                 (s) => s !== status
// // // // // // //                               ),
// // // // // // //                           });
// // // // // // //                         } else {
// // // // // // //                           setFilterCriteria({
// // // // // // //                             ...filterCriteria,
// // // // // // //                             membership_status: [
// // // // // // //                               ...filterCriteria.membership_status,
// // // // // // //                               status,
// // // // // // //                             ],
// // // // // // //                           });
// // // // // // //                         }
// // // // // // //                       }}
// // // // // // //                     >
// // // // // // //                       {status}
// // // // // // //                     </div>
// // // // // // //                   ))}
// // // // // // //                 </div>
// // // // // // //               </div>
// // // // // // //               <div>
// // // // // // //                 <label className="block text-white mb-2">Pincode</label>
// // // // // // //                 <input
// // // // // // //                   type="text"
// // // // // // //                   value={filterCriteria.pincode}
// // // // // // //                   onChange={(e) =>
// // // // // // //                     setFilterCriteria({
// // // // // // //                       ...filterCriteria,
// // // // // // //                       pincode: e.target.value,
// // // // // // //                     })
// // // // // // //                   }
// // // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // //                   placeholder="Enter pincode"
// // // // // // //                 />
// // // // // // //               </div>
// // // // // // //               <div>
// // // // // // //                 <label className="block text-white mb-2">
// // // // // // //                   Emergency Contact
// // // // // // //                 </label>
// // // // // // //                 <input
// // // // // // //                   type="text"
// // // // // // //                   value={filterCriteria.emergency_contact}
// // // // // // //                   onChange={(e) =>
// // // // // // //                     setFilterCriteria({
// // // // // // //                       ...filterCriteria,
// // // // // // //                       emergency_contact: e.target.value,
// // // // // // //                     })
// // // // // // //                   }
// // // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // //                   placeholder="Enter emergency contact"
// // // // // // //                 />
// // // // // // //               </div>
// // // // // // //               <div className="grid grid-cols-2 gap-4">
// // // // // // //                 <div>
// // // // // // //                   <label className="block text-white mb-2">Payment Date</label>
// // // // // // //                   <input
// // // // // // //                     type="date"
// // // // // // //                     value={filterCriteria.dateRange.start}
// // // // // // //                     onChange={(e) =>
// // // // // // //                       setFilterCriteria({
// // // // // // //                         ...filterCriteria,
// // // // // // //                         dateRange: {
// // // // // // //                           ...filterCriteria.dateRange,
// // // // // // //                           start: e.target.value,
// // // // // // //                         },
// // // // // // //                       })
// // // // // // //                     }
// // // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // //                   />
// // // // // // //                 </div>
// // // // // // //                 <div>
// // // // // // //                   <label className="block text-white mb-2">Renewal Date</label>
// // // // // // //                   <input
// // // // // // //                     type="date"
// // // // // // //                     value={filterCriteria.dateRange.end}
// // // // // // //                     onChange={(e) =>
// // // // // // //                       setFilterCriteria({
// // // // // // //                         ...filterCriteria,
// // // // // // //                         dateRange: {
// // // // // // //                           ...filterCriteria.dateRange,
// // // // // // //                           end: e.target.value,
// // // // // // //                         },
// // // // // // //                       })
// // // // // // //                     }
// // // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // // //                   />
// // // // // // //                 </div>
// // // // // // //               </div>
// // // // // // //             </div>
// // // // // // //             <div className="mt-8 flex space-x-4">
// // // // // // //               <button
// // // // // // //                 onClick={() => setShowFilterModal(false)}
// // // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // // //               >
// // // // // // //                 Cancel
// // // // // // //               </button>
// // // // // // //               <button
// // // // // // //                 onClick={applyFilter}
// // // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // // //               >
// // // // // // //                 Apply Filters
// // // // // // //               </button>
// // // // // // //             </div>
// // // // // // //           </div>
// // // // // // //         </div>
// // // // // // //       )}

// // // // // // //       {/* Confirm Delete Dialog */}
// // // // // // //       {showConfirmDialog && (
// // // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // // //           <div
// // // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // // //             onClick={() => setShowConfirmDialog(false)}
// // // // // // //           ></div>
// // // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // // // // // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // // // // // //               Confirm Delete
// // // // // // //             </h2>
// // // // // // //             <p className="text-gray-300 mb-6 text-center">
// // // // // // //               Are you sure you want to delete{" "}
// // // // // // //               <span className="font-medium text-white">
// // // // // // //                 {memberToDelete?.full_name}
// // // // // // //               </span>
// // // // // // //               ? This action cannot be undone after 5 seconds.
// // // // // // //             </p>
// // // // // // //             <div className="flex space-x-4">
// // // // // // //               <button
// // // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // // //               >
// // // // // // //                 Cancel
// // // // // // //               </button>
// // // // // // //               <button
// // // // // // //                 onClick={() => {
// // // // // // //                   if (memberToDelete) {
// // // // // // //                     handleDelete(memberToDelete.membershipID);
// // // // // // //                   }
// // // // // // //                 }}
// // // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // // //               >
// // // // // // //                 Delete
// // // // // // //               </button>
// // // // // // //             </div>
// // // // // // //           </div>
// // // // // // //         </div>
// // // // // // //       )}

// // // // // // //       {/* Undo Delete Toast */}
// // // // // // //       {deletedMember && undoTimer > 0 && (
// // // // // // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // // //           <p className="text-gray-300">
// // // // // // //             <span className="font-medium text-white">
// // // // // // //               {deletedMember.full_name}
// // // // // // //             </span>{" "}
// // // // // // //             deleted
// // // // // // //           </p>
// // // // // // //           <button
// // // // // // //             onClick={handleUndoDelete}
// // // // // // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400"
// // // // // // //           >
// // // // // // //             <Undo size={16} />
// // // // // // //             <span>Undo ({undoTimer}s)</span>
// // // // // // //           </button>
// // // // // // //         </div>
// // // // // // //       )}

// // // // // // //       {/* Save Success Toast */}
// // // // // // //       {saveSuccess && (
// // // // // // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // // //           <svg
// // // // // // //             xmlns="http://www.w3.org/2000/svg"
// // // // // // //             className="h-6 w-6 text-green-500"
// // // // // // //             fill="none"
// // // // // // //             viewBox="0 0 24 24"
// // // // // // //             stroke="currentColor"
// // // // // // //           >
// // // // // // //             <path
// // // // // // //               strokeLinecap="round"
// // // // // // //               strokeLinejoin="round"
// // // // // // //               strokeWidth={2}
// // // // // // //               d="M5 13l4 4L19 7"
// // // // // // //             />
// // // // // // //           </svg>
// // // // // // //           <p className="text-green-300">Member updated successfully!</p>
// // // // // // //         </div>
// // // // // // //       )}
// // // // // // //     </div>
// // // // // // //   );
// // // // // // // };

// // // // // // // export default MembersPage;
// // // // // // "use client";

// // // // // // import { useState, useEffect } from "react";
// // // // // // import { useRouter } from "next/navigation";
// // // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // // const MembersPage = () => {
// // // // // //   const router = useRouter();
// // // // // //   const [members, setMembers] = useState([]);
// // // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // // //   const [error, setError] = useState(null);
// // // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // // //     age: "",
// // // // // //     gender: [],
// // // // // //     membership_plan: [],
// // // // // //     membership_status: [],
// // // // // //     dateRange: { start: "", end: "" }, // Changed to paymentDate and renewalDate
// // // // // //     pincode: "",
// // // // // //     emergency_contact: "",
// // // // // //   });
// // // // // //   const [formData, setFormData] = useState({
// // // // // //     full_name: "",
// // // // // //     email: "",
// // // // // //     phone_number: "",
// // // // // //     age: "",
// // // // // //     gender: "",
// // // // // //     trainer_name: "",
// // // // // //     password: "",
// // // // // //     membership_plan: "",
// // // // // //     amount_Paid: "",
// // // // // //     payment_status: "",
// // // // // //     membership_status: "",
// // // // // //     payment_date: "",
// // // // // //     renewal_date: "",
// // // // // //     pincode: "",
// // // // // //     emergency_contact: "",
// // // // // //   });
// // // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // // //   // Fetch members from the backend
// // // // // //   useEffect(() => {
// // // // // //     const fetchMembers = async () => {
// // // // // //       try {
// // // // // //         const response = await fetch(
// // // // // //           "http://localhost:5000/api/admin/members",
// // // // // //           {
// // // // // //             method: "GET",
// // // // // //             headers: {
// // // // // //               "Content-Type": "application/json",
// // // // // //             },
// // // // // //           }
// // // // // //         );
// // // // // //         if (!response.ok) {
// // // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // //         }
// // // // // //         const data = await response.json();
// // // // // //         console.log("API Response:", data);

// // // // // //         // Ensure amount_Paid is a number and include new fields
// // // // // //         const formattedMembers = data.map((member) => ({
// // // // // //           ...member,
// // // // // //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// // // // // //           pincode: member.pincode || "",
// // // // // //           emergency_contact: member.emergency_contact || "",
// // // // // //         }));

// // // // // //         setMembers(formattedMembers);
// // // // // //         setError(null);
// // // // // //       } catch (err) {
// // // // // //         setError("Failed to fetch members: " + err.message);
// // // // // //         console.error("Error fetching members:", err);
// // // // // //       } finally {
// // // // // //         setIsLoading(false);
// // // // // //       }
// // // // // //     };
// // // // // //     fetchMembers();
// // // // // //   }, []);

// // // // // //   // Handle search and filter
// // // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // // //     const full_name = member.full_name || "";
// // // // // //     const email = member.email || "";
// // // // // //     const membership_status = member.membership_status || "";
// // // // // //     const pincode = member.pincode || "";
// // // // // //     const emergency_contact = member.emergency_contact || "";

// // // // // //     // Search filter (case-insensitive)
// // // // // //     const matchesSearch =
// // // // // //       searchTerm === "" ||
// // // // // //       full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // //       membership_status.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // //       pincode.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // // //       emergency_contact.toLowerCase().includes(searchTerm.toLowerCase());

// // // // // //     // Age filter
// // // // // //     const ageMatch =
// // // // // //       filterCriteria.age === "" ||
// // // // // //       (member.age !== null &&
// // // // // //         member.age !== undefined &&
// // // // // //         member.age.toString() === filterCriteria.age);

// // // // // //     // Gender filter (multiple selection)
// // // // // //     const genderMatch =
// // // // // //       filterCriteria.gender.length === 0 ||
// // // // // //       filterCriteria.gender.includes(member.gender);

// // // // // //     // Membership Plan filter (multiple selection)
// // // // // //     const membershipPlanMatch =
// // // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // // //     // Membership Status filter (multiple selection)
// // // // // //     const membershipStatusMatch =
// // // // // //       filterCriteria.membership_status.length === 0 ||
// // // // // //       filterCriteria.membership_status.includes(member.membership_status);

// // // // // //     // Date range filter
// // // // // //     const memberPaymentDate = new Date(member.payment_date);
// // // // // //     const matchesPaymentDate =
// // // // // //       !filterCriteria.dateRange.start ||
// // // // // //       memberPaymentDate >= new Date(filterCriteria.dateRange.start);
// // // // // //     const memberRenewalDate = new Date(member.renewal_date);
// // // // // //     const matchesRenewalDate =
// // // // // //       !filterCriteria.dateRange.end ||
// // // // // //       memberRenewalDate <= new Date(filterCriteria.dateRange.end);

// // // // // //     // Pincode filter
// // // // // //     const pincodeMatch =
// // // // // //       filterCriteria.pincode === "" ||
// // // // // //       (member.pincode && member.pincode.includes(filterCriteria.pincode));

// // // // // //     // Emergency Contact filter
// // // // // //     const emergencyContactMatch =
// // // // // //       filterCriteria.emergency_contact === "" ||
// // // // // //       (member.emergency_contact &&
// // // // // //         member.emergency_contact.includes(filterCriteria.emergency_contact));

// // // // // //     // Return true only if all filters match
// // // // // //     return (
// // // // // //       matchesSearch &&
// // // // // //       ageMatch &&
// // // // // //       genderMatch &&
// // // // // //       membershipPlanMatch &&
// // // // // //       membershipStatusMatch &&
// // // // // //       matchesPaymentDate &&
// // // // // //       matchesRenewalDate &&
// // // // // //       pincodeMatch &&
// // // // // //       emergencyContactMatch
// // // // // //     );
// // // // // //   });

// // // // // //   // Handle edit
// // // // // //   const handleEdit = (member) => {
// // // // // //     if (!member || !member.membershipID) return; // Ensure member exists and has an ID
// // // // // //     setEditingMember(member.membershipID); // Store membershipID in editing state
// // // // // //     setFormData({
// // // // // //       full_name: member.full_name || "",
// // // // // //       email: member.email || "",
// // // // // //       phone_number: member.phone_number || "",
// // // // // //       age: member.age || "",
// // // // // //       gender: member.gender || "",
// // // // // //       trainer_name: member.trainer_name || "",
// // // // // //       password: member.password || "",
// // // // // //       membership_plan: member.membership_plan || "",
// // // // // //       amount_Paid: member.amount_Paid || 0, // Ensure amount_Paid is a number
// // // // // //       payment_status: member.payment_status || "",
// // // // // //       membership_status: member.membership_status || "",
// // // // // //       payment_date: member.payment_date || "",
// // // // // //       renewal_date: member.renewal_date || "",
// // // // // //       pincode: member.pincode || "", // Include pincode
// // // // // //       emergency_contact: member.emergency_contact || "", // Include emergency_contact
// // // // // //     });
// // // // // //   };

// // // // // //   // Handle form changes
// // // // // //   const handleChange = (e) => {
// // // // // //     const { name, value } = e.target;
// // // // // //     setFormData((prev) => ({
// // // // // //       ...prev,
// // // // // //       [name]: value,
// // // // // //     }));
// // // // // //   };

// // // // // //   // Save edited member
// // // // // //   const handleSave = async () => {
// // // // // //     if (!editingMember) {
// // // // // //       console.error("Error: No member is currently being edited.");
// // // // // //       return;
// // // // // //     }

// // // // // //     const membershipID = editingMember;

// // // // // //     // Validate trainer before proceeding
// // // // // //     try {
// // // // // //       const trainerResponse = await fetch(
// // // // // //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// // // // // //         {
// // // // // //           method: "GET",
// // // // // //           headers: {
// // // // // //             "Content-Type": "application/json",
// // // // // //           },
// // // // // //         }
// // // // // //       );

// // // // // //       if (!trainerResponse.ok) {
// // // // // //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// // // // // //       }

// // // // // //       // Proceed with updating the member
// // // // // //       const dataToSend = {
// // // // // //         ...formData,
// // // // // //         amount_Paid: parseFloat(formData.amount_Paid) || 0, // Ensure amount_Paid is a number
// // // // // //         membershipID: membershipID,
// // // // // //       };

// // // // // //       console.log("Data being sent to server:", dataToSend); // Debugging

// // // // // //       const response = await fetch(
// // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // //         {
// // // // // //           method: "PUT",
// // // // // //           headers: {
// // // // // //             "Content-Type": "application/json",
// // // // // //           },
// // // // // //           body: JSON.stringify(dataToSend),
// // // // // //         }
// // // // // //       );

// // // // // //       if (!response.ok) {
// // // // // //         const errorText = await response.text();
// // // // // //         throw new Error(
// // // // // //           `HTTP error! Status: ${response.status}, Response: ${errorText}`
// // // // // //         );
// // // // // //       }

// // // // // //       const updatedMember = await response.json();
// // // // // //       console.log("Response from server:", updatedMember); // Debugging

// // // // // //       // Update local state to reflect what was sent to the server
// // // // // //       setMembers((prevMembers) =>
// // // // // //         prevMembers.map((member) =>
// // // // // //           member.membershipID === membershipID
// // // // // //             ? { ...member, ...dataToSend }
// // // // // //             : member
// // // // // //         )
// // // // // //       );

// // // // // //       setEditingMember(null);
// // // // // //       setSaveSuccess(true);
// // // // // //       setTimeout(() => setSaveSuccess(false), 3000);
// // // // // //     } catch (err) {
// // // // // //       console.error("Error updating member:", err);
// // // // // //       alert(err.message); // Notify the user about the error
// // // // // //     }
// // // // // //   };

// // // // // //   // Handle delete
// // // // // //   const confirmDelete = (member) => {
// // // // // //     if (!member) return; // Ensure member is not null or undefined
// // // // // //     setMemberToDelete(member);
// // // // // //     setShowConfirmDialog(true);
// // // // // //   };

// // // // // //   const handleDelete = async (membershipID) => {
// // // // // //     setShowConfirmDialog(false);
// // // // // //     const memberToDeleteObj = members.find(
// // // // // //       (m) => m.membershipID === membershipID
// // // // // //     );
// // // // // //     if (!memberToDeleteObj) {
// // // // // //       console.error("Member not found");
// // // // // //       return;
// // // // // //     }
// // // // // //     setDeletedMember(memberToDeleteObj);
// // // // // //     setMembers(
// // // // // //       members.filter((member) => member.membershipID !== membershipID)
// // // // // //     );

// // // // // //     // Start the 5-second timer
// // // // // //     setUndoTimer(5);
// // // // // //     const timer = setInterval(() => {
// // // // // //       setUndoTimer((prev) => {
// // // // // //         if (prev === 1) {
// // // // // //           clearInterval(timer);
// // // // // //           deleteMemberFromDatabase(membershipID); // Delete from the database after 5 seconds
// // // // // //           return 0;
// // // // // //         }
// // // // // //         return prev - 1;
// // // // // //       });
// // // // // //     }, 1000);
// // // // // //     setDeleteTimer(timer);
// // // // // //   };

// // // // // //   // Delete member from the database
// // // // // //   const deleteMemberFromDatabase = async (membershipID) => {
// // // // // //     try {
// // // // // //       const response = await fetch(
// // // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // // //         {
// // // // // //           method: "DELETE",
// // // // // //           headers: {
// // // // // //             "Content-Type": "application/json",
// // // // // //           },
// // // // // //         }
// // // // // //       );
// // // // // //       if (!response.ok) {
// // // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // // //       }
// // // // // //       setDeletedMember(null);
// // // // // //     } catch (err) {
// // // // // //       console.error("Error deleting member:", err);
// // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // //     }
// // // // // //   };

// // // // // //   // Undo delete functionality
// // // // // //   const handleUndoDelete = () => {
// // // // // //     if (deleteTimer) {
// // // // // //       clearInterval(deleteTimer);
// // // // // //       setDeleteTimer(null);
// // // // // //     }
// // // // // //     if (deletedMember) {
// // // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // // //       setDeletedMember(null);
// // // // // //     }
// // // // // //     setUndoTimer(0); // Reset the timer
// // // // // //   };

// // // // // //   // Toggle view mode
// // // // // //   const toggleViewMode = () => {
// // // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // // //   };

// // // // // //   // Apply filter
// // // // // //   const applyFilter = () => {
// // // // // //     setShowFilterModal(false);
// // // // // //   };

// // // // // //   // Reset filters
// // // // // //   const resetFilters = () => {
// // // // // //     setFilterCriteria({
// // // // // //       age: "",
// // // // // //       gender: [],
// // // // // //       membership_plan: [],
// // // // // //       membership_status: [],
// // // // // //       dateRange: { start: "", end: "" },
// // // // // //       pincode: "", // Reset pincode filter
// // // // // //       emergency_contact: "", // Reset emergency_contact filter
// // // // // //     });
// // // // // //   };

// // // // // //   if (isLoading)
// // // // // //     return (
// // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // // //         <div className="text-center">
// // // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // // //           <p className="text-2xl font-light tracking-wider">
// // // // // //             Loading members...
// // // // // //           </p>
// // // // // //         </div>
// // // // // //       </div>
// // // // // //     );

// // // // // //   if (error)
// // // // // //     return (
// // // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // // //         <div className="text-center">
// // // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // // //         </div>
// // // // // //       </div>
// // // // // //     );

// // // // // //   return (
// // // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // // //       {/* Navbar */}
// // // // // //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// // // // // //         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
// // // // // //           {/* Title */}
// // // // // //           <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 text-center md:text-left">
// // // // // //             Members List
// // // // // //           </h1>

// // // // // //           {/* Buttons */}
// // // // // //           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
// // // // // //             {/* Toggle View Mode Button */}
// // // // // //             <button
// // // // // //               onClick={toggleViewMode}
// // // // // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // // //             >
// // // // // //               {viewMode === "table" ? "Card View" : "Table View"}
// // // // // //             </button>

// // // // // //             {/* Filter Button */}
// // // // // //             <button
// // // // // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // // // // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center"
// // // // // //             >
// // // // // //               <svg
// // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // // //                 fill="none"
// // // // // //                 viewBox="0 0 24 24"
// // // // // //                 stroke="currentColor"
// // // // // //               >
// // // // // //                 <path
// // // // // //                   strokeLinecap="round"
// // // // // //                   strokeLinejoin="round"
// // // // // //                   strokeWidth={1.5}
// // // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // // //                 />
// // // // // //               </svg>
// // // // // //               <span className="font-medium">Filter View</span>
// // // // // //             </button>
// // // // // //           </div>
// // // // // //         </div>
// // // // // //       </div>

// // // // // //       {/* Header Section */}
// // // // // //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// // // // // //         <div className="w-full px-8 pt-10">
// // // // // //           <div
// // // // // //             className={`relative transition-all duration-500 ${
// // // // // //               searchFocused ? "scale-105" : ""
// // // // // //             }`}
// // // // // //           >
// // // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // // //               <svg
// // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // //                 className={`h-5 w-5 transition-all duration-300 ${
// // // // // //                   searchFocused
// // // // // //                     ? "dark:text-red-500 text-black"
// // // // // //                     : "text-gray-500"
// // // // // //                 }`}
// // // // // //                 fill="none"
// // // // // //                 viewBox="0 0 24 24"
// // // // // //                 stroke="currentColor"
// // // // // //                 strokeWidth={1.5}
// // // // // //               >
// // // // // //                 <path
// // // // // //                   strokeLinecap="round"
// // // // // //                   strokeLinejoin="round"
// // // // // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // // //                 />
// // // // // //               </svg>
// // // // // //             </span>
// // // // // //             <input
// // // // // //               type="text"
// // // // // //               placeholder="Search by name, email, or membership status"
// // // // // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // // //               value={searchTerm}
// // // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // // //               onFocus={() => setSearchFocused(true)}
// // // // // //               onBlur={() => setSearchFocused(false)}
// // // // // //             />
// // // // // //           </div>
// // // // // //         </div>
// // // // // //       </div>

// // // // // //       {/* Clear Filters Button */}
// // // // // //       {(filterCriteria.age ||
// // // // // //         filterCriteria.gender.length > 0 ||
// // // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // // //         filterCriteria.membership_status.length > 0 ||
// // // // // //         filterCriteria.dateRange.start ||
// // // // // //         filterCriteria.dateRange.end ||
// // // // // //         filterCriteria.pincode ||
// // // // // //         filterCriteria.emergency_contact) && (
// // // // // //         <div className="w-full px-8 pt-4">
// // // // // //           <button
// // // // // //             onClick={resetFilters}
// // // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // // //           >
// // // // // //             Clear Filters
// // // // // //           </button>
// // // // // //         </div>
// // // // // //       )}

// // // // // //       {/* Members Table */}
// // // // // //       {viewMode === "table" ? (
// // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // //           {filteredMembers.length === 0 ? (
// // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // //               <svg
// // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // //                 fill="none"
// // // // // //                 viewBox="0 0 24 24"
// // // // // //                 stroke="currentColor"
// // // // // //               >
// // // // // //                 <path
// // // // // //                   strokeLinecap="round"
// // // // // //                   strokeLinejoin="round"
// // // // // //                   strokeWidth={1}
// // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // //                 />
// // // // // //               </svg>
// // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // //                 No members found.
// // // // // //               </p>
// // // // // //             </div>
// // // // // //           ) : (
// // // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // // //               <div className="overflow-x-auto">
// // // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // // //                   <thead>
// // // // // //                     <tr className="bg-gray-900/50">
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Membership ID
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Photo
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Full Name
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Email
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Phone Number
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Age
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Gender
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Trainer Name
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Membership Plan
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Contract Date
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Renewal Date
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Pincode
// // // // // //                       </th>
// // // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // // //                         Emergency Contact
// // // // // //                       </th>
// // // // // //                     </tr>
// // // // // //                   </thead>
// // // // // //                   <tbody className="divide-y divide-gray-800">
// // // // // //                     {filteredMembers.map((member) => (
// // // // // //                       <tr
// // // // // //                         key={member.membershipID}
// // // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // // //                       >
// // // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // // //                           {member.membershipID}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm">
// // // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // // //                             <User size={20} />
// // // // // //                           </div>
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // // //                           {editingMember === member.membershipID ? (
// // // // // //                             <input
// // // // // //                               type="text"
// // // // // //                               name="full_name"
// // // // // //                               value={formData.full_name}
// // // // // //                               onChange={handleChange}
// // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // //                             />
// // // // // //                           ) : (
// // // // // //                             member.full_name
// // // // // //                           )}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {editingMember === member.membershipID ? (
// // // // // //                             <input
// // // // // //                               type="email"
// // // // // //                               name="email"
// // // // // //                               value={formData.email}
// // // // // //                               onChange={handleChange}
// // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // //                             />
// // // // // //                           ) : (
// // // // // //                             member.email
// // // // // //                           )}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {editingMember === member.membershipID ? (
// // // // // //                             <input
// // // // // //                               type="text"
// // // // // //                               name="phone_number"
// // // // // //                               value={formData.phone_number}
// // // // // //                               onChange={handleChange}
// // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // //                             />
// // // // // //                           ) : (
// // // // // //                             member.phone_number
// // // // // //                           )}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {editingMember === member.membershipID ? (
// // // // // //                             <input
// // // // // //                               type="number"
// // // // // //                               name="age"
// // // // // //                               value={formData.age}
// // // // // //                               onChange={handleChange}
// // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // //                             />
// // // // // //                           ) : (
// // // // // //                             member.age
// // // // // //                           )}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {editingMember === member.membershipID ? (
// // // // // //                             <select
// // // // // //                               name="gender"
// // // // // //                               value={formData.gender}
// // // // // //                               onChange={handleChange}
// // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // //                             >
// // // // // //                               <option value="Male">Male</option>
// // // // // //                               <option value="Female">Female</option>
// // // // // //                               <option value="Other">Other</option>
// // // // // //                             </select>
// // // // // //                           ) : (
// // // // // //                             member.gender
// // // // // //                           )}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {editingMember === member.membershipID ? (
// // // // // //                             <select
// // // // // //                               name="trainer_name"
// // // // // //                               value={formData.trainer_name}
// // // // // //                               onChange={handleChange}
// // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // //                             >
// // // // // //                               <option value="Trainer1">Trainer1</option>
// // // // // //                               <option value="Trainer2">Trainer2</option>
// // // // // //                               <option value="Trainer3">Trainer3</option>
// // // // // //                             </select>
// // // // // //                           ) : (
// // // // // //                             member.trainer_name
// // // // // //                           )}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {editingMember === member.membershipID ? (
// // // // // //                             <select
// // // // // //                               name="membership_plan"
// // // // // //                               value={formData.membership_plan}
// // // // // //                               onChange={handleChange}
// // // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // // //                             >
// // // // // //                               <option value="Monthly">Monthly</option>
// // // // // //                               <option value="Quarterly">Quarterly</option>
// // // // // //                               <option value="Yearly">Yearly</option>
// // // // // //                             </select>
// // // // // //                           ) : (
// // // // // //                             member.membership_plan
// // // // // //                           )}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {member.payment_date}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {member.renewal_date}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {member.pincode}
// // // // // //                         </td>
// // // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // // //                           {member.emergency_contact}
// // // // // //                         </td>
// // // // // //                       </tr>
// // // // // //                     ))}
// // // // // //                   </tbody>
// // // // // //                 </table>
// // // // // //               </div>
// // // // // //             </div>
// // // // // //           )}
// // // // // //         </div>
// // // // // //       ) : (
// // // // // //         // Card View
// // // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // // //             {filteredMembers.map((member) => (
// // // // // //               <div
// // // // // //                 key={member.membershipID}
// // // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // // //               >
// // // // // //                 <div className="flex items-center space-x-4">
// // // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // // //                     <User size={20} />
// // // // // //                   </div>
// // // // // //                   <div>
// // // // // //                     <h3 className="text-lg font-medium text-white">
// // // // // //                       {member.full_name}
// // // // // //                     </h3>
// // // // // //                     <p className="text-sm text-gray-300">
// // // // // //                       {member.email}
// // // // // //                     </p>
// // // // // //                   </div>
// // // // // //                 </div>
// // // // // //                 <div className="mt-4 space-y-2">
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Membership ID:</span>{" "}
// // // // // //                     {member.membershipID}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Phone Number:</span>{" "}
// // // // // //                     {member.phone_number}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // // //                     {member.age}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // // //                     {member.gender}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Trainer Name:</span>{" "}
// // // // // //                     {member.trainer_name}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // // //                     {member.membership_plan}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Contract Date:</span>{" "}
// // // // // //                     {member.payment_date}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Renewal Date:</span>{" "}
// // // // // //                     {member.renewal_date}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Pincode:</span>{" "}
// // // // // //                     {member.pincode}
// // // // // //                   </p>
// // // // // //                   <p className="text-sm text-gray-300">
// // // // // //                     <span className="font-medium">Emergency Contact:</span>{" "}
// // // // // //                     {member.emergency_contact}
// // // // // //                   </p>
// // // // // //                 </div>
// // // // // //               </div>
// // // // // //             ))}
// // // // // //           </div>
// // // // // //           {filteredMembers.length === 0 && (
// // // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // // //               <svg
// // // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // // //                 fill="none"
// // // // // //                 viewBox="0 0 24 24"
// // // // // //                 stroke="currentColor"
// // // // // //               >
// // // // // //                 <path
// // // // // //                   strokeLinecap="round"
// // // // // //                   strokeLinejoin="round"
// // // // // //                   strokeWidth={1}
// // // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // // //                 />
// // // // // //               </svg>
// // // // // //               <p className="text-2xl font-light tracking-wider">
// // // // // //                 No members found.
// // // // // //               </p>
// // // // // //             </div>
// // // // // //           )}
// // // // // //         </div>
// // // // // //       )}

// // // // // //       {/* Filter Modal */}
// // // // // //       {showFilterModal && (
// // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // //           <div
// // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // //             onClick={() => setShowFilterModal(false)}
// // // // // //           ></div>
// // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg">
// // // // // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // // // // //               Filter Members
// // // // // //             </h2>
// // // // // //             <div className="space-y-6">
// // // // // //               <div>
// // // // // //                 <label className="block text-white mb-2">Age</label>
// // // // // //                 <input
// // // // // //                   type="number"
// // // // // //                   value={filterCriteria.age}
// // // // // //                   onChange={(e) =>
// // // // // //                     setFilterCriteria({
// // // // // //                       ...filterCriteria,
// // // // // //                       age: e.target.value,
// // // // // //                     })
// // // // // //                   }
// // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // //                   placeholder="Enter age"
// // // // // //                 />
// // // // // //               </div>
// // // // // //               <div>
// // // // // //                 <label className="block text-white mb-2">Gender</label>
// // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // //                   {["Male", "Female", "Other"].map((gender) => (
// // // // // //                     <div
// // // // // //                       key={gender}
// // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // //                         filterCriteria.gender.includes(gender)
// // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // //                       }`}
// // // // // //                       onClick={() => {
// // // // // //                         if (filterCriteria.gender.includes(gender)) {
// // // // // //                           setFilterCriteria({
// // // // // //                             ...filterCriteria,
// // // // // //                             gender: filterCriteria.gender.filter(
// // // // // //                               (g) => g !== gender
// // // // // //                             ),
// // // // // //                           });
// // // // // //                         } else {
// // // // // //                           setFilterCriteria({
// // // // // //                             ...filterCriteria,
// // // // // //                             gender: [...filterCriteria.gender, gender],
// // // // // //                           });
// // // // // //                         }
// // // // // //                       }}
// // // // // //                     >
// // // // // //                       {gender}
// // // // // //                     </div>
// // // // // //                   ))}
// // // // // //                 </div>
// // // // // //               </div>
// // // // // //               <div>
// // // // // //                 <label className="block text-white mb-2">Membership Plan</label>
// // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // // // // //                     <div
// // // // // //                       key={plan}
// // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // //                         filterCriteria.membership_plan.includes(plan)
// // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // //                       }`}
// // // // // //                       onClick={() => {
// // // // // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // // // // //                           setFilterCriteria({
// // // // // //                             ...filterCriteria,
// // // // // //                             membership_plan:
// // // // // //                               filterCriteria.membership_plan.filter(
// // // // // //                                 (p) => p !== plan
// // // // // //                               ),
// // // // // //                           });
// // // // // //                         } else {
// // // // // //                           setFilterCriteria({
// // // // // //                             ...filterCriteria,
// // // // // //                             membership_plan: [
// // // // // //                               ...filterCriteria.membership_plan,
// // // // // //                               plan,
// // // // // //                             ],
// // // // // //                           });
// // // // // //                         }
// // // // // //                       }}
// // // // // //                     >
// // // // // //                       {plan}
// // // // // //                     </div>
// // // // // //                   ))}
// // // // // //                 </div>
// // // // // //               </div>
// // // // // //               <div>
// // // // // //                 <label className="block text-white mb-2">
// // // // // //                   Membership Status
// // // // // //                 </label>
// // // // // //                 <div className="grid grid-cols-3 gap-2">
// // // // // //                   {["Active", "Inactive"].map((status) => (
// // // // // //                     <div
// // // // // //                       key={status}
// // // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // // //                         filterCriteria.membership_status.includes(status)
// // // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // // //                       }`}
// // // // // //                       onClick={() => {
// // // // // //                         if (filterCriteria.membership_status.includes(status)) {
// // // // // //                           setFilterCriteria({
// // // // // //                             ...filterCriteria,
// // // // // //                             membership_status:
// // // // // //                               filterCriteria.membership_status.filter(
// // // // // //                                 (s) => s !== status
// // // // // //                               ),
// // // // // //                           });
// // // // // //                         } else {
// // // // // //                           setFilterCriteria({
// // // // // //                             ...filterCriteria,
// // // // // //                             membership_status: [
// // // // // //                               ...filterCriteria.membership_status,
// // // // // //                               status,
// // // // // //                             ],
// // // // // //                           });
// // // // // //                         }
// // // // // //                       }}
// // // // // //                     >
// // // // // //                       {status}
// // // // // //                     </div>
// // // // // //                   ))}
// // // // // //                 </div>
// // // // // //               </div>
// // // // // //               <div>
// // // // // //                 <label className="block text-white mb-2">Pincode</label>
// // // // // //                 <input
// // // // // //                   type="text"
// // // // // //                   value={filterCriteria.pincode}
// // // // // //                   onChange={(e) =>
// // // // // //                     setFilterCriteria({
// // // // // //                       ...filterCriteria,
// // // // // //                       pincode: e.target.value,
// // // // // //                     })
// // // // // //                   }
// // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // //                   placeholder="Enter pincode"
// // // // // //                 />
// // // // // //               </div>
// // // // // //               <div>
// // // // // //                 <label className="block text-white mb-2">
// // // // // //                   Emergency Contact
// // // // // //                 </label>
// // // // // //                 <input
// // // // // //                   type="text"
// // // // // //                   value={filterCriteria.emergency_contact}
// // // // // //                   onChange={(e) =>
// // // // // //                     setFilterCriteria({
// // // // // //                       ...filterCriteria,
// // // // // //                       emergency_contact: e.target.value,
// // // // // //                     })
// // // // // //                   }
// // // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // //                   placeholder="Enter emergency contact"
// // // // // //                 />
// // // // // //               </div>
// // // // // //               <div className="grid grid-cols-2 gap-4">
// // // // // //                 <div>
// // // // // //                   <label className="block text-white mb-2">Contract Date</label>
// // // // // //                   <input
// // // // // //                     type="date"
// // // // // //                     value={filterCriteria.dateRange.start}
// // // // // //                     onChange={(e) =>
// // // // // //                       setFilterCriteria({
// // // // // //                         ...filterCriteria,
// // // // // //                         dateRange: {
// // // // // //                           ...filterCriteria.dateRange,
// // // // // //                           start: e.target.value,
// // // // // //                         },
// // // // // //                       })
// // // // // //                     }
// // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // //                   />
// // // // // //                 </div>
// // // // // //                 <div>
// // // // // //                   <label className="block text-white mb-2">Renewal Date</label>
// // // // // //                   <input
// // // // // //                     type="date"
// // // // // //                     value={filterCriteria.dateRange.end}
// // // // // //                     onChange={(e) =>
// // // // // //                       setFilterCriteria({
// // // // // //                         ...filterCriteria,
// // // // // //                         dateRange: {
// // // // // //                           ...filterCriteria.dateRange,
// // // // // //                           end: e.target.value,
// // // // // //                         },
// // // // // //                       })
// // // // // //                     }
// // // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // // //                   />
// // // // // //                 </div>
// // // // // //               </div>
// // // // // //             </div>
// // // // // //             <div className="mt-8 flex space-x-4">
// // // // // //               <button
// // // // // //                 onClick={() => setShowFilterModal(false)}
// // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // //               >
// // // // // //                 Cancel
// // // // // //               </button>
// // // // // //               <button
// // // // // //                 onClick={applyFilter}
// // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // //               >
// // // // // //                 Apply Filters
// // // // // //               </button>
// // // // // //             </div>
// // // // // //           </div>
// // // // // //         </div>
// // // // // //       )}

// // // // // //       {/* Confirm Delete Dialog */}
// // // // // //       {showConfirmDialog && (
// // // // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // // // //           <div
// // // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // // //             onClick={() => setShowConfirmDialog(false)}
// // // // // //           ></div>
// // // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // // // // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // // // // //               Confirm Delete
// // // // // //             </h2>
// // // // // //             <p className="text-gray-300 mb-6 text-center">
// // // // // //               Are you sure you want to delete{" "}
// // // // // //               <span className="font-medium text-white">
// // // // // //                 {memberToDelete?.full_name}
// // // // // //               </span>
// // // // // //               ? This action cannot be undone after 5 seconds.
// // // // // //             </p>
// // // // // //             <div className="flex space-x-4">
// // // // // //               <button
// // // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // // //               >
// // // // // //                 Cancel
// // // // // //               </button>
// // // // // //               <button
// // // // // //                 onClick={() => {
// // // // // //                   if (memberToDelete) {
// // // // // //                     handleDelete(memberToDelete.membershipID);
// // // // // //                   }
// // // // // //                 }}
// // // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // // //               >
// // // // // //                 Delete
// // // // // //               </button>
// // // // // //             </div>
// // // // // //           </div>
// // // // // //         </div>
// // // // // //       )}

// // // // // //       {/* Undo Delete Toast */}
// // // // // //       {deletedMember && undoTimer > 0 && (
// // // // // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // //           <p className="text-gray-300">
// // // // // //             <span className="font-medium text-white">
// // // // // //               {deletedMember.full_name}
// // // // // //             </span>{" "}
// // // // // //             deleted
// // // // // //           </p>
// // // // // //           <button
// // // // // //             onClick={handleUndoDelete}
// // // // // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400"
// // // // // //           >
// // // // // //             <Undo size={16} />
// // // // // //             <span>Undo ({undoTimer}s)</span>
// // // // // //           </button>
// // // // // //         </div>
// // // // // //       )}

// // // // // //       {/* Save Success Toast */}
// // // // // //       {saveSuccess && (
// // // // // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // // //           <svg
// // // // // //             xmlns="http://www.w3.org/2000/svg"
// // // // // //             className="h-6 w-6 text-green-500"
// // // // // //             fill="none"
// // // // // //             viewBox="0 0 24 24"
// // // // // //             stroke="currentColor"
// // // // // //           >
// // // // // //             <path
// // // // // //               strokeLinecap="round"
// // // // // //               strokeLinejoin="round"
// // // // // //               strokeWidth={2}
// // // // // //               d="M5 13l4 4L19 7"
// // // // // //             />
// // // // // //           </svg>
// // // // // //           <p className="text-green-300">Member updated successfully!</p>
// // // // // //         </div>
// // // // // //       )}
// // // // // //     </div>
// // // // // //   );
// // // // // // };

// // // // // // export default MembersPage;
// // // // // "use client";

// // // // // import { useState, useEffect } from "react";
// // // // // import { useRouter } from "next/navigation";
// // // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // // const MembersPage = () => {
// // // // //   const router = useRouter();
// // // // //   const [members, setMembers] = useState([]);
// // // // //   const [isLoading, setIsLoading] = useState(true);
// // // // //   const [error, setError] = useState(null);
// // // // //   const [searchTerm, setSearchTerm] = useState("");
// // // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // // //   const [editingMember, setEditingMember] = useState(null);
// // // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // // //     age: "",
// // // // //     gender: [],
// // // // //     membership_plan: [],
// // // // //     membership_status: [],
// // // // //     dateRange: { start: "", end: "" },
// // // // //     pincode: "",
// // // // //     emergency_contact: "",
// // // // //   });
// // // // //   const [formData, setFormData] = useState({
// // // // //     full_name: "",
// // // // //     email: "",
// // // // //     phone_number: "",
// // // // //     age: "",
// // // // //     gender: "",
// // // // //     trainer_name: "",
// // // // //     password: "",
// // // // //     membership_plan: "",
// // // // //     amount_Paid: "",
// // // // //     payment_status: "",
// // // // //     membership_status: "",
// // // // //     payment_date: "",
// // // // //     renewal_date: "",
// // // // //     pincode: "",
// // // // //     emergency_contact: "",
// // // // //   });
// // // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // // //   // Fetch members from the backend
// // // // //   useEffect(() => {
// // // // //     const fetchMembers = async () => {
// // // // //       try {
// // // // //         const response = await fetch(
// // // // //           "http://localhost:5000/api/admin/members",
// // // // //           {
// // // // //             method: "GET",
// // // // //             headers: {
// // // // //               "Content-Type": "application/json",
// // // // //             },
// // // // //           }
// // // // //         );
// // // // //         if (!response.ok) {
// // // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // // //         }
// // // // //         const data = await response.json();
// // // // //         console.log("API Response:", data);

// // // // //         const formattedMembers = data.map((member) => ({
// // // // //           ...member,
// // // // //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// // // // //           pincode: member.pincode || "",
// // // // //           emergency_contact: member.emergency_contact || "",
// // // // //         }));

// // // // //         setMembers(formattedMembers);
// // // // //         setError(null);
// // // // //       } catch (err) {
// // // // //         setError("Failed to fetch members: " + err.message);
// // // // //         console.error("Error fetching members:", err);
// // // // //       } finally {
// // // // //         setIsLoading(false);
// // // // //       }
// // // // //     };
// // // // //     fetchMembers();
// // // // //   }, []);

// // // // //   // Handle search and filter
// // // // //   const filteredMembers = (members || []).filter((member) => {
// // // // //     const full_name = member.full_name || "";
// // // // //     const email = member.email || "";
// // // // //     const membership_status = member.membership_status || "";
// // // // //     const pincode = member.pincode || "";
// // // // //     const emergency_contact = member.emergency_contact || "";

// // // // //     // Search filter (case-insensitive)
// // // // //     const matchesSearch =
// // // // //       searchTerm === "" ||
// // // // //       full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // //       membership_status.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // //       pincode.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // // //       emergency_contact.toLowerCase().includes(searchTerm.toLowerCase());

// // // // //     // Age filter
// // // // //     const ageMatch =
// // // // //       filterCriteria.age === "" ||
// // // // //       (member.age !== null &&
// // // // //         member.age !== undefined &&
// // // // //         member.age.toString() === filterCriteria.age);

// // // // //     // Gender filter (multiple selection)
// // // // //     const genderMatch =
// // // // //       filterCriteria.gender.length === 0 ||
// // // // //       filterCriteria.gender.includes(member.gender);

// // // // //     // Membership Plan filter (multiple selection)
// // // // //     const membershipPlanMatch =
// // // // //       filterCriteria.membership_plan.length === 0 ||
// // // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // // //     // Membership Status filter (multiple selection)
// // // // //     const membershipStatusMatch =
// // // // //       filterCriteria.membership_status.length === 0 ||
// // // // //       filterCriteria.membership_status.includes(member.membership_status);

// // // // //     // Date range filter
// // // // //     const memberPaymentDate = new Date(member.payment_date);
// // // // //     const matchesPaymentDate =
// // // // //       !filterCriteria.dateRange.start ||
// // // // //       memberPaymentDate >= new Date(filterCriteria.dateRange.start);
// // // // //     const memberRenewalDate = new Date(member.renewal_date);
// // // // //     const matchesRenewalDate =
// // // // //       !filterCriteria.dateRange.end ||
// // // // //       memberRenewalDate <= new Date(filterCriteria.dateRange.end);

// // // // //     // Pincode filter
// // // // //     const pincodeMatch =
// // // // //       filterCriteria.pincode === "" ||
// // // // //       (member.pincode && member.pincode.includes(filterCriteria.pincode));

// // // // //     // Emergency Contact filter
// // // // //     const emergencyContactMatch =
// // // // //       filterCriteria.emergency_contact === "" ||
// // // // //       (member.emergency_contact &&
// // // // //         member.emergency_contact.includes(filterCriteria.emergency_contact));

// // // // //     return (
// // // // //       matchesSearch &&
// // // // //       ageMatch &&
// // // // //       genderMatch &&
// // // // //       membershipPlanMatch &&
// // // // //       membershipStatusMatch &&
// // // // //       matchesPaymentDate &&
// // // // //       matchesRenewalDate &&
// // // // //       pincodeMatch &&
// // // // //       emergencyContactMatch
// // // // //     );
// // // // //   });

// // // // //   // Handle edit
// // // // //   const handleEdit = (member) => {
// // // // //     if (!member || !member.membershipID) return;
// // // // //     setEditingMember(member.membershipID);
// // // // //     setFormData({
// // // // //       full_name: member.full_name || "",
// // // // //       email: member.email || "",
// // // // //       phone_number: member.phone_number || "",
// // // // //       age: member.age || "",
// // // // //       gender: member.gender || "",
// // // // //       trainer_name: member.trainer_name || "",
// // // // //       password: member.password || "",
// // // // //       membership_plan: member.membership_plan || "",
// // // // //       amount_Paid: member.amount_Paid || 0,
// // // // //       payment_status: member.payment_status || "",
// // // // //       membership_status: member.membership_status || "",
// // // // //       payment_date: member.payment_date || "",
// // // // //       renewal_date: member.renewal_date || "",
// // // // //       pincode: member.pincode || "",
// // // // //       emergency_contact: member.emergency_contact || "",
// // // // //     });
// // // // //   };

// // // // //   // Handle form changes
// // // // //   const handleChange = (e) => {
// // // // //     const { name, value } = e.target;
// // // // //     setFormData((prev) => ({
// // // // //       ...prev,
// // // // //       [name]: value,
// // // // //     }));
// // // // //   };

// // // // //   // Save edited member
// // // // //   const handleSave = async () => {
// // // // //     if (!editingMember) {
// // // // //       console.error("Error: No member is currently being edited.");
// // // // //       return;
// // // // //     }

// // // // //     const membershipID = editingMember;

// // // // //     try {
// // // // //       const trainerResponse = await fetch(
// // // // //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// // // // //         {
// // // // //           method: "GET",
// // // // //           headers: {
// // // // //             "Content-Type": "application/json",
// // // // //           },
// // // // //         }
// // // // //       );

// // // // //       if (!trainerResponse.ok) {
// // // // //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// // // // //       }

// // // // //       const dataToSend = {
// // // // //         ...formData,
// // // // //         amount_Paid: parseFloat(formData.amount_Paid) || 0,
// // // // //         membershipID: membershipID,
// // // // //       };

// // // // //       console.log("Data being sent to server:", dataToSend);

// // // // //       const response = await fetch(
// // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // //         {
// // // // //           method: "PUT",
// // // // //           headers: {
// // // // //             "Content-Type": "application/json",
// // // // //           },
// // // // //           body: JSON.stringify(dataToSend),
// // // // //         }
// // // // //       );

// // // // //       if (!response.ok) {
// // // // //         const errorText = await response.text();
// // // // //         throw new Error(
// // // // //           `HTTP error! Status: ${response.status}, Response: ${errorText}`
// // // // //         );
// // // // //       }

// // // // //       const updatedMember = await response.json();
// // // // //       console.log("Response from server:", updatedMember);

// // // // //       setMembers((prevMembers) =>
// // // // //         prevMembers.map((member) =>
// // // // //           member.membershipID === membershipID
// // // // //             ? { ...member, ...dataToSend }
// // // // //             : member
// // // // //         )
// // // // //       );

// // // // //       setEditingMember(null);
// // // // //       setSaveSuccess(true);
// // // // //       setTimeout(() => setSaveSuccess(false), 3000);
// // // // //     } catch (err) {
// // // // //       console.error("Error updating member:", err);
// // // // //       alert(err.message);
// // // // //     }
// // // // //   };

// // // // //   // Handle delete
// // // // //   const confirmDelete = (member) => {
// // // // //     if (!member) return;
// // // // //     setMemberToDelete(member);
// // // // //     setShowConfirmDialog(true);
// // // // //   };

// // // // //   const handleDelete = async (membershipID) => {
// // // // //     setShowConfirmDialog(false);
// // // // //     const memberToDeleteObj = members.find(
// // // // //       (m) => m.membershipID === membershipID
// // // // //     );
// // // // //     if (!memberToDeleteObj) {
// // // // //       console.error("Member not found");
// // // // //       return;
// // // // //     }
// // // // //     setDeletedMember(memberToDeleteObj);
// // // // //     setMembers(
// // // // //       members.filter((member) => member.membershipID !== membershipID)
// // // // //     );

// // // // //     setUndoTimer(5);
// // // // //     const timer = setInterval(() => {
// // // // //       setUndoTimer((prev) => {
// // // // //         if (prev === 1) {
// // // // //           clearInterval(timer);
// // // // //           deleteMemberFromDatabase(membershipID);
// // // // //           return 0;
// // // // //         }
// // // // //         return prev - 1;
// // // // //       });
// // // // //     }, 1000);
// // // // //     setDeleteTimer(timer);
// // // // //   };

// // // // //   // Delete member from the database
// // // // //   const deleteMemberFromDatabase = async (membershipID) => {
// // // // //     try {
// // // // //       const response = await fetch(
// // // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // // //         {
// // // // //           method: "DELETE",
// // // // //           headers: {
// // // // //             "Content-Type": "application/json",
// // // // //           },
// // // // //         }
// // // // //       );
// // // // //       if (!response.ok) {
// // // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // // //       }
// // // // //       setDeletedMember(null);
// // // // //     } catch (err) {
// // // // //       console.error("Error deleting member:", err);
// // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // //     }
// // // // //   };

// // // // //   // Undo delete functionality
// // // // //   const handleUndoDelete = () => {
// // // // //     if (deleteTimer) {
// // // // //       clearInterval(deleteTimer);
// // // // //       setDeleteTimer(null);
// // // // //     }
// // // // //     if (deletedMember) {
// // // // //       setMembers((prev) => [...prev, deletedMember]);
// // // // //       setDeletedMember(null);
// // // // //     }
// // // // //     setUndoTimer(0);
// // // // //   };

// // // // //   // Toggle view mode
// // // // //   const toggleViewMode = () => {
// // // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // // //   };

// // // // //   // Apply filter
// // // // //   const applyFilter = () => {
// // // // //     setShowFilterModal(false);
// // // // //   };

// // // // //   // Reset filters
// // // // //   const resetFilters = () => {
// // // // //     setFilterCriteria({
// // // // //       age: "",
// // // // //       gender: [],
// // // // //       membership_plan: [],
// // // // //       membership_status: [],
// // // // //       dateRange: { start: "", end: "" },
// // // // //       pincode: "",
// // // // //       emergency_contact: "",
// // // // //     });
// // // // //   };

// // // // //   if (isLoading)
// // // // //     return (
// // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // // //         <div className="text-center">
// // // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // // //           <p className="text-2xl font-light tracking-wider">
// // // // //             Loading members...
// // // // //           </p>
// // // // //         </div>
// // // // //       </div>
// // // // //     );

// // // // //   if (error)
// // // // //     return (
// // // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // // //         <div className="text-center">
// // // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // // //         </div>
// // // // //       </div>
// // // // //     );

// // // // //   return (
// // // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // // //       {/* Navbar */}
// // // // //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// // // // //         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
// // // // //           {/* Title */}
// // // // //           <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 text-center md:text-left">
// // // // //             Members List
// // // // //           </h1>

// // // // //           {/* Buttons */}
// // // // //           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
// // // // //             {/* Toggle View Mode Button */}
// // // // //             <button
// // // // //               onClick={toggleViewMode}
// // // // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // // //             >
// // // // //               {viewMode === "table" ? "Card View" : "Table View"}
// // // // //             </button>

// // // // //             {/* Filter Button */}
// // // // //             <button
// // // // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // // // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center"
// // // // //             >
// // // // //               <svg
// // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // // //                 fill="none"
// // // // //                 viewBox="0 0 24 24"
// // // // //                 stroke="currentColor"
// // // // //               >
// // // // //                 <path
// // // // //                   strokeLinecap="round"
// // // // //                   strokeLinejoin="round"
// // // // //                   strokeWidth={1.5}
// // // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // // //                 />
// // // // //               </svg>
// // // // //               <span className="font-medium">Filter View</span>
// // // // //             </button>
// // // // //           </div>
// // // // //         </div>
// // // // //       </div>

// // // // //       {/* Header Section */}
// // // // //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// // // // //         <div className="w-full px-8 pt-10">
// // // // //           <div
// // // // //             className={`relative transition-all duration-500 ${
// // // // //               searchFocused ? "scale-105" : ""
// // // // //             }`}
// // // // //           >
// // // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // // //               <svg
// // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // //                 className={`h-5 w-5 transition-all duration-300 ${
// // // // //                   searchFocused
// // // // //                     ? "dark:text-red-500 text-black"
// // // // //                     : "text-gray-500"
// // // // //                 }`}
// // // // //                 fill="none"
// // // // //                 viewBox="0 0 24 24"
// // // // //                 stroke="currentColor"
// // // // //                 strokeWidth={1.5}
// // // // //               >
// // // // //                 <path
// // // // //                   strokeLinecap="round"
// // // // //                   strokeLinejoin="round"
// // // // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // // //                 />
// // // // //               </svg>
// // // // //             </span>
// // // // //             <input
// // // // //               type="text"
// // // // //               placeholder="Search by name, email, or membership status"
// // // // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // // //               value={searchTerm}
// // // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // // //               onFocus={() => setSearchFocused(true)}
// // // // //               onBlur={() => setSearchFocused(false)}
// // // // //             />
// // // // //           </div>
// // // // //         </div>
// // // // //       </div>

// // // // //       {/* Clear Filters Button */}
// // // // //       {(filterCriteria.age ||
// // // // //         filterCriteria.gender.length > 0 ||
// // // // //         filterCriteria.membership_plan.length > 0 ||
// // // // //         filterCriteria.membership_status.length > 0 ||
// // // // //         filterCriteria.dateRange.start ||
// // // // //         filterCriteria.dateRange.end ||
// // // // //         filterCriteria.pincode ||
// // // // //         filterCriteria.emergency_contact) && (
// // // // //         <div className="w-full px-8 pt-4">
// // // // //           <button
// // // // //             onClick={resetFilters}
// // // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // // //           >
// // // // //             Clear Filters
// // // // //           </button>
// // // // //         </div>
// // // // //       )}

// // // // //       {/* Members Table */}
// // // // //       {viewMode === "table" ? (
// // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // //           {filteredMembers.length === 0 ? (
// // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // //               <svg
// // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // //                 fill="none"
// // // // //                 viewBox="0 0 24 24"
// // // // //                 stroke="currentColor"
// // // // //               >
// // // // //                 <path
// // // // //                   strokeLinecap="round"
// // // // //                   strokeLinejoin="round"
// // // // //                   strokeWidth={1}
// // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // //                 />
// // // // //               </svg>
// // // // //               <p className="text-2xl font-light tracking-wider">
// // // // //                 No members found.
// // // // //               </p>
// // // // //             </div>
// // // // //           ) : (
// // // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // // //               <div className="overflow-x-auto">
// // // // //                 <table className="w-full divide-y divide-gray-800">
// // // // //                   <thead>
// // // // //                     <tr className="bg-gray-900/50">
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Membership ID
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Photo
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Full Name
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Email
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Phone Number
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Age
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Gender
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Trainer Name
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Membership Plan
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Contract Date
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Renewal Date
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Pincode
// // // // //                       </th>
// // // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // // //                         Emergency Contact
// // // // //                       </th>
// // // // //                     </tr>
// // // // //                   </thead>
// // // // //                   <tbody className="divide-y divide-gray-800">
// // // // //                     {filteredMembers.map((member) => (
// // // // //                       <tr
// // // // //                         key={member.membershipID}
// // // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // // //                       >
// // // // //                         <td className="py-5 px-6 text-sm font-light">
// // // // //                           {member.membershipID}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm">
// // // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // // //                             <User size={20} />
// // // // //                           </div>
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // // //                           {editingMember === member.membershipID ? (
// // // // //                             <input
// // // // //                               type="text"
// // // // //                               name="full_name"
// // // // //                               value={formData.full_name}
// // // // //                               onChange={handleChange}
// // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // //                             />
// // // // //                           ) : (
// // // // //                             member.full_name
// // // // //                           )}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {editingMember === member.membershipID ? (
// // // // //                             <input
// // // // //                               type="email"
// // // // //                               name="email"
// // // // //                               value={formData.email}
// // // // //                               onChange={handleChange}
// // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // //                             />
// // // // //                           ) : (
// // // // //                             member.email
// // // // //                           )}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {editingMember === member.membershipID ? (
// // // // //                             <input
// // // // //                               type="text"
// // // // //                               name="phone_number"
// // // // //                               value={formData.phone_number}
// // // // //                               onChange={handleChange}
// // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // //                             />
// // // // //                           ) : (
// // // // //                             member.phone_number
// // // // //                           )}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {editingMember === member.membershipID ? (
// // // // //                             <input
// // // // //                               type="number"
// // // // //                               name="age"
// // // // //                               value={formData.age}
// // // // //                               onChange={handleChange}
// // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // //                             />
// // // // //                           ) : (
// // // // //                             member.age
// // // // //                           )}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {editingMember === member.membershipID ? (
// // // // //                             <select
// // // // //                               name="gender"
// // // // //                               value={formData.gender}
// // // // //                               onChange={handleChange}
// // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // //                             >
// // // // //                               <option value="Male">Male</option>
// // // // //                               <option value="Female">Female</option>
// // // // //                               <option value="Other">Other</option>
// // // // //                             </select>
// // // // //                           ) : (
// // // // //                             member.gender
// // // // //                           )}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {editingMember === member.membershipID ? (
// // // // //                             <select
// // // // //                               name="trainer_name"
// // // // //                               value={formData.trainer_name}
// // // // //                               onChange={handleChange}
// // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // //                             >
// // // // //                               <option value="Trainer1">Trainer1</option>
// // // // //                               <option value="Trainer2">Trainer2</option>
// // // // //                               <option value="Trainer3">Trainer3</option>
// // // // //                             </select>
// // // // //                           ) : (
// // // // //                             member.trainer_name
// // // // //                           )}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {editingMember === member.membershipID ? (
// // // // //                             <select
// // // // //                               name="membership_plan"
// // // // //                               value={formData.membership_plan}
// // // // //                               onChange={handleChange}
// // // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // // //                             >
// // // // //                               <option value="Monthly">Monthly</option>
// // // // //                               <option value="Quarterly">Quarterly</option>
// // // // //                               <option value="Yearly">Yearly</option>
// // // // //                             </select>
// // // // //                           ) : (
// // // // //                             member.membership_plan
// // // // //                           )}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {member.payment_date}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {member.renewal_date}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {member.pincode}
// // // // //                         </td>
// // // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // // //                           {member.emergency_contact}
// // // // //                         </td>
// // // // //                       </tr>
// // // // //                     ))}
// // // // //                   </tbody>
// // // // //                 </table>
// // // // //               </div>
// // // // //             </div>
// // // // //           )}
// // // // //         </div>
// // // // //       ) : (
// // // // //         // Card View
// // // // //         <div className="w-full px-8 pt-10 pb-12">
// // // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // // //             {filteredMembers.map((member) => (
// // // // //               <div
// // // // //                 key={member.membershipID}
// // // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // // //               >
// // // // //                 <div className="flex items-center space-x-4">
// // // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // // //                     <User size={20} />
// // // // //                   </div>
// // // // //                   <div>
// // // // //                     <h3 className="text-lg font-medium text-white">
// // // // //                       {member.full_name}
// // // // //                     </h3>
// // // // //                     <p className="text-sm text-gray-300">
// // // // //                       {member.email}
// // // // //                     </p>
// // // // //                   </div>
// // // // //                 </div>
// // // // //                 <div className="mt-4 space-y-2">
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Membership ID:</span>{" "}
// // // // //                     {member.membershipID}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Phone Number:</span>{" "}
// // // // //                     {member.phone_number}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Age:</span>{" "}
// // // // //                     {member.age}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Gender:</span>{" "}
// // // // //                     {member.gender}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Trainer Name:</span>{" "}
// // // // //                     {member.trainer_name}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // // //                     {member.membership_plan}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Contract Date:</span>{" "}
// // // // //                     {member.payment_date}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Renewal Date:</span>{" "}
// // // // //                     {member.renewal_date}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Pincode:</span>{" "}
// // // // //                     {member.pincode}
// // // // //                   </p>
// // // // //                   <p className="text-sm text-gray-300">
// // // // //                     <span className="font-medium">Emergency Contact:</span>{" "}
// // // // //                     {member.emergency_contact}
// // // // //                   </p>
// // // // //                 </div>
// // // // //               </div>
// // // // //             ))}
// // // // //           </div>
// // // // //           {filteredMembers.length === 0 && (
// // // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // // //               <svg
// // // // //                 xmlns="http://www.w3.org/2000/svg"
// // // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // // //                 fill="none"
// // // // //                 viewBox="0 0 24 24"
// // // // //                 stroke="currentColor"
// // // // //               >
// // // // //                 <path
// // // // //                   strokeLinecap="round"
// // // // //                   strokeLinejoin="round"
// // // // //                   strokeWidth={1}
// // // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // // //                 />
// // // // //               </svg>
// // // // //               <p className="text-2xl font-light tracking-wider">
// // // // //                 No members found.
// // // // //               </p>
// // // // //             </div>
// // // // //           )}
// // // // //         </div>
// // // // //       )}

// // // // //       {/* Filter Modal - Responsive */}
// // // // //       {showFilterModal && (
// // // // //         <div className="fixed inset-0 flex items-center justify-center z-50 p-4">
// // // // //           <div
// // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // //             onClick={() => setShowFilterModal(false)}
// // // // //           ></div>
// // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto z-10 shadow-lg">
// // // // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // // // //               Filter Members
// // // // //             </h2>
// // // // //             <div className="space-y-6">
// // // // //               <div>
// // // // //                 <label className="block text-white mb-2">Age</label>
// // // // //                 <input
// // // // //                   type="number"
// // // // //                   value={filterCriteria.age}
// // // // //                   onChange={(e) =>
// // // // //                     setFilterCriteria({
// // // // //                       ...filterCriteria,
// // // // //                       age: e.target.value,
// // // // //                     })
// // // // //                   }
// // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // //                   placeholder="Enter age"
// // // // //                 />
// // // // //               </div>
// // // // //               <div>
// // // // //                 <label className="block text-white mb-2">Gender</label>
// // // // //                 <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
// // // // //                   {["Male", "Female", "Other"].map((gender) => (
// // // // //                     <div
// // // // //                       key={gender}
// // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // //                         filterCriteria.gender.includes(gender)
// // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // //                       }`}
// // // // //                       onClick={() => {
// // // // //                         if (filterCriteria.gender.includes(gender)) {
// // // // //                           setFilterCriteria({
// // // // //                             ...filterCriteria,
// // // // //                             gender: filterCriteria.gender.filter(
// // // // //                               (g) => g !== gender
// // // // //                             ),
// // // // //                           });
// // // // //                         } else {
// // // // //                           setFilterCriteria({
// // // // //                             ...filterCriteria,
// // // // //                             gender: [...filterCriteria.gender, gender],
// // // // //                           });
// // // // //                         }
// // // // //                       }}
// // // // //                     >
// // // // //                       {gender}
// // // // //                     </div>
// // // // //                   ))}
// // // // //                 </div>
// // // // //               </div>
// // // // //               <div>
// // // // //                 <label className="block text-white mb-2">Membership Plan</label>
// // // // //                 <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
// // // // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // // // //                     <div
// // // // //                       key={plan}
// // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // //                         filterCriteria.membership_plan.includes(plan)
// // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // //                       }`}
// // // // //                       onClick={() => {
// // // // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // // // //                           setFilterCriteria({
// // // // //                             ...filterCriteria,
// // // // //                             membership_plan:
// // // // //                               filterCriteria.membership_plan.filter(
// // // // //                                 (p) => p !== plan
// // // // //                               ),
// // // // //                           });
// // // // //                         } else {
// // // // //                           setFilterCriteria({
// // // // //                             ...filterCriteria,
// // // // //                             membership_plan: [
// // // // //                               ...filterCriteria.membership_plan,
// // // // //                               plan,
// // // // //                             ],
// // // // //                           });
// // // // //                         }
// // // // //                       }}
// // // // //                     >
// // // // //                       {plan}
// // // // //                     </div>
// // // // //                   ))}
// // // // //                 </div>
// // // // //               </div>
// // // // //               <div>
// // // // //                 <label className="block text-white mb-2">
// // // // //                   Membership Status
// // // // //                 </label>
// // // // //                 <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
// // // // //                   {["Active", "Inactive"].map((status) => (
// // // // //                     <div
// // // // //                       key={status}
// // // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // // //                         filterCriteria.membership_status.includes(status)
// // // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // // //                       }`}
// // // // //                       onClick={() => {
// // // // //                         if (filterCriteria.membership_status.includes(status)) {
// // // // //                           setFilterCriteria({
// // // // //                             ...filterCriteria,
// // // // //                             membership_status:
// // // // //                               filterCriteria.membership_status.filter(
// // // // //                                 (s) => s !== status
// // // // //                               ),
// // // // //                           });
// // // // //                         } else {
// // // // //                           setFilterCriteria({
// // // // //                             ...filterCriteria,
// // // // //                             membership_status: [
// // // // //                               ...filterCriteria.membership_status,
// // // // //                               status,
// // // // //                             ],
// // // // //                           });
// // // // //                         }
// // // // //                       }}
// // // // //                     >
// // // // //                       {status}
// // // // //                     </div>
// // // // //                   ))}
// // // // //                 </div>
// // // // //               </div>
// // // // //               <div>
// // // // //                 <label className="block text-white mb-2">Pincode</label>
// // // // //                 <input
// // // // //                   type="text"
// // // // //                   value={filterCriteria.pincode}
// // // // //                   onChange={(e) =>
// // // // //                     setFilterCriteria({
// // // // //                       ...filterCriteria,
// // // // //                       pincode: e.target.value,
// // // // //                     })
// // // // //                   }
// // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // //                   placeholder="Enter pincode"
// // // // //                 />
// // // // //               </div>
// // // // //               <div>
// // // // //                 <label className="block text-white mb-2">
// // // // //                   Emergency Contact
// // // // //                 </label>
// // // // //                 <input
// // // // //                   type="text"
// // // // //                   value={filterCriteria.emergency_contact}
// // // // //                   onChange={(e) =>
// // // // //                     setFilterCriteria({
// // // // //                       ...filterCriteria,
// // // // //                       emergency_contact: e.target.value,
// // // // //                     })
// // // // //                   }
// // // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // //                   placeholder="Enter emergency contact"
// // // // //                 />
// // // // //               </div>
// // // // //               <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
// // // // //                 <div>
// // // // //                   <label className="block text-white mb-2">Contract Date</label>
// // // // //                   <input
// // // // //                     type="date"
// // // // //                     value={filterCriteria.dateRange.start}
// // // // //                     onChange={(e) =>
// // // // //                       setFilterCriteria({
// // // // //                         ...filterCriteria,
// // // // //                         dateRange: {
// // // // //                           ...filterCriteria.dateRange,
// // // // //                           start: e.target.value,
// // // // //                         },
// // // // //                       })
// // // // //                     }
// // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // //                   />
// // // // //                 </div>
// // // // //                 <div>
// // // // //                   <label className="block text-white mb-2">Renewal Date</label>
// // // // //                   <input
// // // // //                     type="date"
// // // // //                     value={filterCriteria.dateRange.end}
// // // // //                     onChange={(e) =>
// // // // //                       setFilterCriteria({
// // // // //                         ...filterCriteria,
// // // // //                         dateRange: {
// // // // //                           ...filterCriteria.dateRange,
// // // // //                           end: e.target.value,
// // // // //                         },
// // // // //                       })
// // // // //                     }
// // // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // // //                   />
// // // // //                 </div>
// // // // //               </div>
// // // // //             </div>
// // // // //             <div className="mt-8 flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
// // // // //               <button
// // // // //                 onClick={() => setShowFilterModal(false)}
// // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // //               >
// // // // //                 Cancel
// // // // //               </button>
// // // // //               <button
// // // // //                 onClick={applyFilter}
// // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // //               >
// // // // //                 Apply Filters
// // // // //               </button>
// // // // //             </div>
// // // // //           </div>
// // // // //         </div>
// // // // //       )}

// // // // //       {/* Confirm Delete Dialog */}
// // // // //       {showConfirmDialog && (
// // // // //         <div className="fixed inset-0 flex items-center justify-center z-50 p-4">
// // // // //           <div
// // // // //             className="absolute inset-0 bg-black opacity-60"
// // // // //             onClick={() => setShowConfirmDialog(false)}
// // // // //           ></div>
// // // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-6 w-full max-w-md z-10 shadow-lg">
// // // // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // // // //               Confirm Delete
// // // // //             </h2>
// // // // //             <p className="text-gray-300 mb-6 text-center">
// // // // //               Are you sure you want to delete{" "}
// // // // //               <span className="font-medium text-white">
// // // // //                 {memberToDelete?.full_name}
// // // // //               </span>
// // // // //               ? This action cannot be undone after 5 seconds.
// // // // //             </p>
// // // // //             <div className="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
// // // // //               <button
// // // // //                 onClick={() => setShowConfirmDialog(false)}
// // // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // // //               >
// // // // //                 Cancel
// // // // //               </button>
// // // // //               <button
// // // // //                 onClick={() => {
// // // // //                   if (memberToDelete) {
// // // // //                     handleDelete(memberToDelete.membershipID);
// // // // //                   }
// // // // //                 }}
// // // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // // //               >
// // // // //                 Delete
// // // // //               </button>
// // // // //             </div>
// // // // //           </div>
// // // // //         </div>
// // // // //       )}

// // // // //       {/* Undo Delete Toast */}
// // // // //       {deletedMember && undoTimer > 0 && (
// // // // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // //           <p className="text-gray-300">
// // // // //             <span className="font-medium text-white">
// // // // //               {deletedMember.full_name}
// // // // //             </span>{" "}
// // // // //             deleted
// // // // //           </p>
// // // // //           <button
// // // // //             onClick={handleUndoDelete}
// // // // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400"
// // // // //           >
// // // // //             <Undo size={16} />
// // // // //             <span>Undo ({undoTimer}s)</span>
// // // // //           </button>
// // // // //         </div>
// // // // //       )}

// // // // //       {/* Save Success Toast */}
// // // // //       {saveSuccess && (
// // // // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // // //           <svg
// // // // //             xmlns="http://www.w3.org/2000/svg"
// // // // //             className="h-6 w-6 text-green-500"
// // // // //             fill="none"
// // // // //             viewBox="0 0 24 24"
// // // // //             stroke="currentColor"
// // // // //           >
// // // // //             <path
// // // // //               strokeLinecap="round"
// // // // //               strokeLinejoin="round"
// // // // //               strokeWidth={2}
// // // // //               d="M5 13l4 4L19 7"
// // // // //             />
// // // // //           </svg>
// // // // //           <p className="text-green-300">Member updated successfully!</p>
// // // // //         </div>
// // // // //       )}
// // // // //     </div>
// // // // //   );
// // // // // };

// // // // // export default MembersPage;
// // // // "use client";

// // // // import { useState, useEffect } from "react";
// // // // import { useRouter } from "next/navigation";
// // // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // // const MembersPage = () => {
// // // //   const router = useRouter();
// // // //   const [members, setMembers] = useState([]);
// // // //   const [isLoading, setIsLoading] = useState(true);
// // // //   const [error, setError] = useState(null);
// // // //   const [searchTerm, setSearchTerm] = useState("");
// // // //   const [searchFocused, setSearchFocused] = useState(false);
// // // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // // //   const [editingMember, setEditingMember] = useState(null);
// // // //   const [deletedMember, setDeletedMember] = useState(null);
// // // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // // //   const [filterCriteria, setFilterCriteria] = useState({
// // // //     age: "",
// // // //     gender: [],
// // // //     membership_plan: [],
// // // //     membership_status: [],
// // // //     dateRange: { start: "", end: "" }, // Changed to paymentDate and renewalDate
// // // //     pincode: "",
// // // //     emergency_contact: "",
// // // //   });
// // // //   const [formData, setFormData] = useState({
// // // //     full_name: "",
// // // //     email: "",
// // // //     phone_number: "",
// // // //     age: "",
// // // //     gender: "",
// // // //     trainer_name: "",
// // // //     password: "",
// // // //     membership_plan: "",
// // // //     amount_Paid: "",
// // // //     payment_status: "",
// // // //     membership_status: "",
// // // //     payment_date: "",
// // // //     renewal_date: "",
// // // //     pincode: "",
// // // //     emergency_contact: "",
// // // //   });
// // // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // // //   // Fetch members from the backend
// // // //   useEffect(() => {
// // // //     const fetchMembers = async () => {
// // // //       try {
// // // //         const response = await fetch(
// // // //           "http://localhost:5000/api/admin/members",
// // // //           {
// // // //             method: "GET",
// // // //             headers: {
// // // //               "Content-Type": "application/json",
// // // //             },
// // // //           }
// // // //         );
// // // //         if (!response.ok) {
// // // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // // //         }
// // // //         const data = await response.json();
// // // //         console.log("API Response:", data);

// // // //         // Ensure amount_Paid is a number and include new fields
// // // //         const formattedMembers = data.map((member) => ({
// // // //           ...member,
// // // //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// // // //           pincode: member.pincode || "",
// // // //           emergency_contact: member.emergency_contact || "",
// // // //         }));

// // // //         setMembers(formattedMembers);
// // // //         setError(null);
// // // //       } catch (err) {
// // // //         setError("Failed to fetch members: " + err.message);
// // // //         console.error("Error fetching members:", err);
// // // //       } finally {
// // // //         setIsLoading(false);
// // // //       }
// // // //     };
// // // //     fetchMembers();
// // // //   }, []);

// // // //   // Handle search and filter
// // // //   const filteredMembers = (members || []).filter((member) => {
// // // //     const full_name = member.full_name || "";
// // // //     const email = member.email || "";
// // // //     const membership_status = member.membership_status || "";
// // // //     const pincode = member.pincode || "";
// // // //     const emergency_contact = member.emergency_contact || "";

// // // //     // Search filter (case-insensitive)
// // // //     const matchesSearch =
// // // //       searchTerm === "" ||
// // // //       full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // //       membership_status.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // //       pincode.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // // //       emergency_contact.toLowerCase().includes(searchTerm.toLowerCase());

// // // //     // Age filter
// // // //     const ageMatch =
// // // //       filterCriteria.age === "" ||
// // // //       (member.age !== null &&
// // // //         member.age !== undefined &&
// // // //         member.age.toString() === filterCriteria.age);

// // // //     // Gender filter (multiple selection)
// // // //     const genderMatch =
// // // //       filterCriteria.gender.length === 0 ||
// // // //       filterCriteria.gender.includes(member.gender);

// // // //     // Membership Plan filter (multiple selection)
// // // //     const membershipPlanMatch =
// // // //       filterCriteria.membership_plan.length === 0 ||
// // // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // // //     // Membership Status filter (multiple selection)
// // // //     const membershipStatusMatch =
// // // //       filterCriteria.membership_status.length === 0 ||
// // // //       filterCriteria.membership_status.includes(member.membership_status);

// // // //     // Date range filter
// // // //     const memberPaymentDate = new Date(member.payment_date);
// // // //     const matchesPaymentDate =
// // // //       !filterCriteria.dateRange.start ||
// // // //       memberPaymentDate >= new Date(filterCriteria.dateRange.start);
// // // //     const memberRenewalDate = new Date(member.renewal_date);
// // // //     const matchesRenewalDate =
// // // //       !filterCriteria.dateRange.end ||
// // // //       memberRenewalDate <= new Date(filterCriteria.dateRange.end);

// // // //     // Pincode filter
// // // //     const pincodeMatch =
// // // //       filterCriteria.pincode === "" ||
// // // //       (member.pincode && member.pincode.includes(filterCriteria.pincode));

// // // //     // Emergency Contact filter
// // // //     const emergencyContactMatch =
// // // //       filterCriteria.emergency_contact === "" ||
// // // //       (member.emergency_contact &&
// // // //         member.emergency_contact.includes(filterCriteria.emergency_contact));

// // // //     // Return true only if all filters match
// // // //     return (
// // // //       matchesSearch &&
// // // //       ageMatch &&
// // // //       genderMatch &&
// // // //       membershipPlanMatch &&
// // // //       membershipStatusMatch &&
// // // //       matchesPaymentDate &&
// // // //       matchesRenewalDate &&
// // // //       pincodeMatch &&
// // // //       emergencyContactMatch
// // // //     );
// // // //   });

// // // //   // Handle edit
// // // //   const handleEdit = (member) => {
// // // //     if (!member || !member.membershipID) return; // Ensure member exists and has an ID
// // // //     setEditingMember(member.membershipID); // Store membershipID in editing state
// // // //     setFormData({
// // // //       full_name: member.full_name || "",
// // // //       email: member.email || "",
// // // //       phone_number: member.phone_number || "",
// // // //       age: member.age || "",
// // // //       gender: member.gender || "",
// // // //       trainer_name: member.trainer_name || "",
// // // //       password: member.password || "",
// // // //       membership_plan: member.membership_plan || "",
// // // //       amount_Paid: member.amount_Paid || 0, // Ensure amount_Paid is a number
// // // //       payment_status: member.payment_status || "",
// // // //       membership_status: member.membership_status || "",
// // // //       payment_date: member.payment_date || "",
// // // //       renewal_date: member.renewal_date || "",
// // // //       pincode: member.pincode || "", // Include pincode
// // // //       emergency_contact: member.emergency_contact || "", // Include emergency_contact
// // // //     });
// // // //   };

// // // //   // Handle form changes
// // // //   const handleChange = (e) => {
// // // //     const { name, value } = e.target;
// // // //     setFormData((prev) => ({
// // // //       ...prev,
// // // //       [name]: value,
// // // //     }));
// // // //   };

// // // //   // Save edited member
// // // //   const handleSave = async () => {
// // // //     if (!editingMember) {
// // // //       console.error("Error: No member is currently being edited.");
// // // //       return;
// // // //     }

// // // //     const membershipID = editingMember;

// // // //     // Validate trainer before proceeding
// // // //     try {
// // // //       const trainerResponse = await fetch(
// // // //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// // // //         {
// // // //           method: "GET",
// // // //           headers: {
// // // //             "Content-Type": "application/json",
// // // //           },
// // // //         }
// // // //       );

// // // //       if (!trainerResponse.ok) {
// // // //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// // // //       }

// // // //       // Proceed with updating the member
// // // //       const dataToSend = {
// // // //         ...formData,
// // // //         amount_Paid: parseFloat(formData.amount_Paid) || 0, // Ensure amount_Paid is a number
// // // //         membershipID: membershipID,
// // // //       };

// // // //       console.log("Data being sent to server:", dataToSend); // Debugging

// // // //       const response = await fetch(
// // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // //         {
// // // //           method: "PUT",
// // // //           headers: {
// // // //             "Content-Type": "application/json",
// // // //           },
// // // //           body: JSON.stringify(dataToSend),
// // // //         }
// // // //       );

// // // //       if (!response.ok) {
// // // //         const errorText = await response.text();
// // // //         throw new Error(
// // // //           `HTTP error! Status: ${response.status}, Response: ${errorText}`
// // // //         );
// // // //       }

// // // //       const updatedMember = await response.json();
// // // //       console.log("Response from server:", updatedMember); // Debugging

// // // //       // Update local state to reflect what was sent to the server
// // // //       setMembers((prevMembers) =>
// // // //         prevMembers.map((member) =>
// // // //           member.membershipID === membershipID
// // // //             ? { ...member, ...dataToSend }
// // // //             : member
// // // //         )
// // // //       );

// // // //       setEditingMember(null);
// // // //       setSaveSuccess(true);
// // // //       setTimeout(() => setSaveSuccess(false), 3000);
// // // //     } catch (err) {
// // // //       console.error("Error updating member:", err);
// // // //       alert(err.message); // Notify the user about the error
// // // //     }
// // // //   };

// // // //   // Handle delete
// // // //   const confirmDelete = (member) => {
// // // //     if (!member) return; // Ensure member is not null or undefined
// // // //     setMemberToDelete(member);
// // // //     setShowConfirmDialog(true);
// // // //   };

// // // //   const handleDelete = async (membershipID) => {
// // // //     setShowConfirmDialog(false);
// // // //     const memberToDeleteObj = members.find(
// // // //       (m) => m.membershipID === membershipID
// // // //     );
// // // //     if (!memberToDeleteObj) {
// // // //       console.error("Member not found");
// // // //       return;
// // // //     }
// // // //     setDeletedMember(memberToDeleteObj);
// // // //     setMembers(
// // // //       members.filter((member) => member.membershipID !== membershipID)
// // // //     );

// // // //     // Start the 5-second timer
// // // //     setUndoTimer(5);
// // // //     const timer = setInterval(() => {
// // // //       setUndoTimer((prev) => {
// // // //         if (prev === 1) {
// // // //           clearInterval(timer);
// // // //           deleteMemberFromDatabase(membershipID); // Delete from the database after 5 seconds
// // // //           return 0;
// // // //         }
// // // //         return prev - 1;
// // // //       });
// // // //     }, 1000);
// // // //     setDeleteTimer(timer);
// // // //   };

// // // //   // Delete member from the database
// // // //   const deleteMemberFromDatabase = async (membershipID) => {
// // // //     try {
// // // //       const response = await fetch(
// // // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // // //         {
// // // //           method: "DELETE",
// // // //           headers: {
// // // //             "Content-Type": "application/json",
// // // //           },
// // // //         }
// // // //       );
// // // //       if (!response.ok) {
// // // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // // //       }
// // // //       setDeletedMember(null);
// // // //     } catch (err) {
// // // //       console.error("Error deleting member:", err);
// // // //       setMembers((prev) => [...prev, deletedMember]);
// // // //     }
// // // //   };

// // // //   // Undo delete functionality
// // // //   const handleUndoDelete = () => {
// // // //     if (deleteTimer) {
// // // //       clearInterval(deleteTimer);
// // // //       setDeleteTimer(null);
// // // //     }
// // // //     if (deletedMember) {
// // // //       setMembers((prev) => [...prev, deletedMember]);
// // // //       setDeletedMember(null);
// // // //     }
// // // //     setUndoTimer(0); // Reset the timer
// // // //   };

// // // //   // Toggle view mode
// // // //   const toggleViewMode = () => {
// // // //     setViewMode(viewMode === "table" ? "card" : "table");
// // // //   };

// // // //   // Apply filter
// // // //   const applyFilter = () => {
// // // //     setShowFilterModal(false);
// // // //   };

// // // //   // Reset filters
// // // //   const resetFilters = () => {
// // // //     setFilterCriteria({
// // // //       age: "",
// // // //       gender: [],
// // // //       membership_plan: [],
// // // //       membership_status: [],
// // // //       dateRange: { start: "", end: "" },
// // // //       pincode: "", // Reset pincode filter
// // // //       emergency_contact: "", // Reset emergency_contact filter
// // // //     });
// // // //   };

// // // //   if (isLoading)
// // // //     return (
// // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // // //         <div className="text-center">
// // // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // // //           <p className="text-2xl font-light tracking-wider">
// // // //             Loading members...
// // // //           </p>
// // // //         </div>
// // // //       </div>
// // // //     );

// // // //   if (error)
// // // //     return (
// // // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // // //         <div className="text-center">
// // // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // // //         </div>
// // // //       </div>
// // // //     );

// // // //   return (
// // // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // // //       {/* Navbar */}
// // // //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// // // //         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
// // // //           {/* Title */}
// // // //           <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 text-center md:text-left">
// // // //             Members List
// // // //           </h1>

// // // //           {/* Buttons */}
// // // //           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
// // // //             {/* Toggle View Mode Button */}
// // // //             <button
// // // //               onClick={toggleViewMode}
// // // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // // //             >
// // // //               {viewMode === "table" ? "Card View" : "Table View"}
// // // //             </button>

// // // //             {/* Filter Button */}
// // // //             <button
// // // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center"
// // // //             >
// // // //               <svg
// // // //                 xmlns="http://www.w3.org/2000/svg"
// // // //                 className="h-5 w-5 mr-2 text-red-500"
// // // //                 fill="none"
// // // //                 viewBox="0 0 24 24"
// // // //                 stroke="currentColor"
// // // //               >
// // // //                 <path
// // // //                   strokeLinecap="round"
// // // //                   strokeLinejoin="round"
// // // //                   strokeWidth={1.5}
// // // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // // //                 />
// // // //               </svg>
// // // //               <span className="font-medium">Filter View</span>
// // // //             </button>
// // // //           </div>
// // // //         </div>
// // // //       </div>

// // // //       {/* Header Section */}
// // // //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// // // //         <div className="w-full px-8 pt-10">
// // // //           <div
// // // //             className={`relative transition-all duration-500 ${
// // // //               searchFocused ? "scale-105" : ""
// // // //             }`}
// // // //           >
// // // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // // //               <svg
// // // //                 xmlns="http://www.w3.org/2000/svg"
// // // //                 className={`h-5 w-5 transition-all duration-300 ${
// // // //                   searchFocused
// // // //                     ? "dark:text-red-500 text-black"
// // // //                     : "text-gray-500"
// // // //                 }`}
// // // //                 fill="none"
// // // //                 viewBox="0 0 24 24"
// // // //                 stroke="currentColor"
// // // //                 strokeWidth={1.5}
// // // //               >
// // // //                 <path
// // // //                   strokeLinecap="round"
// // // //                   strokeLinejoin="round"
// // // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // // //                 />
// // // //               </svg>
// // // //             </span>
// // // //             <input
// // // //               type="text"
// // // //               placeholder="Search by name, email, or membership status"
// // // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // // //               value={searchTerm}
// // // //               onChange={(e) => setSearchTerm(e.target.value)}
// // // //               onFocus={() => setSearchFocused(true)}
// // // //               onBlur={() => setSearchFocused(false)}
// // // //             />
// // // //           </div>
// // // //         </div>
// // // //       </div>

// // // //       {/* Clear Filters Button */}
// // // //       {(filterCriteria.age ||
// // // //         filterCriteria.gender.length > 0 ||
// // // //         filterCriteria.membership_plan.length > 0 ||
// // // //         filterCriteria.membership_status.length > 0 ||
// // // //         filterCriteria.dateRange.start ||
// // // //         filterCriteria.dateRange.end ||
// // // //         filterCriteria.pincode ||
// // // //         filterCriteria.emergency_contact) && (
// // // //         <div className="w-full px-8 pt-4">
// // // //           <button
// // // //             onClick={resetFilters}
// // // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // // //           >
// // // //             Clear Filters
// // // //           </button>
// // // //         </div>
// // // //       )}

// // // //       {/* Members Table */}
// // // //       {viewMode === "table" ? (
// // // //         <div className="w-full px-8 pt-10 pb-12">
// // // //           {filteredMembers.length === 0 ? (
// // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // //               <svg
// // // //                 xmlns="http://www.w3.org/2000/svg"
// // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // //                 fill="none"
// // // //                 viewBox="0 0 24 24"
// // // //                 stroke="currentColor"
// // // //               >
// // // //                 <path
// // // //                   strokeLinecap="round"
// // // //                   strokeLinejoin="round"
// // // //                   strokeWidth={1}
// // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // //                 />
// // // //               </svg>
// // // //               <p className="text-2xl font-light tracking-wider">
// // // //                 No members found.
// // // //               </p>
// // // //             </div>
// // // //           ) : (
// // // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // // //               <div className="overflow-x-auto">
// // // //                 <table className="w-full divide-y divide-gray-800">
// // // //                   <thead>
// // // //                     <tr className="bg-gray-900/50">
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Membership ID
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Photo
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Full Name
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Email
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Phone Number
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Age
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Gender
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Trainer Name
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Membership Plan
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Contract Date
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Renewal Date
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Pincode
// // // //                       </th>
// // // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // // //                         Emergency Contact
// // // //                       </th>
// // // //                     </tr>
// // // //                   </thead>
// // // //                   <tbody className="divide-y divide-gray-800">
// // // //                     {filteredMembers.map((member) => (
// // // //                       <tr
// // // //                         key={member.membershipID}
// // // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // // //                       >
// // // //                         <td className="py-5 px-6 text-sm font-light">
// // // //                           {member.membershipID}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm">
// // // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // // //                             <User size={20} />
// // // //                           </div>
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // // //                           {editingMember === member.membershipID ? (
// // // //                             <input
// // // //                               type="text"
// // // //                               name="full_name"
// // // //                               value={formData.full_name}
// // // //                               onChange={handleChange}
// // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // //                             />
// // // //                           ) : (
// // // //                             member.full_name
// // // //                           )}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {editingMember === member.membershipID ? (
// // // //                             <input
// // // //                               type="email"
// // // //                               name="email"
// // // //                               value={formData.email}
// // // //                               onChange={handleChange}
// // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // //                             />
// // // //                           ) : (
// // // //                             member.email
// // // //                           )}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {editingMember === member.membershipID ? (
// // // //                             <input
// // // //                               type="text"
// // // //                               name="phone_number"
// // // //                               value={formData.phone_number}
// // // //                               onChange={handleChange}
// // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // //                             />
// // // //                           ) : (
// // // //                             member.phone_number
// // // //                           )}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {editingMember === member.membershipID ? (
// // // //                             <input
// // // //                               type="number"
// // // //                               name="age"
// // // //                               value={formData.age}
// // // //                               onChange={handleChange}
// // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // //                             />
// // // //                           ) : (
// // // //                             member.age
// // // //                           )}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {editingMember === member.membershipID ? (
// // // //                             <select
// // // //                               name="gender"
// // // //                               value={formData.gender}
// // // //                               onChange={handleChange}
// // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // //                             >
// // // //                               <option value="Male">Male</option>
// // // //                               <option value="Female">Female</option>
// // // //                               <option value="Other">Other</option>
// // // //                             </select>
// // // //                           ) : (
// // // //                             member.gender
// // // //                           )}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {editingMember === member.membershipID ? (
// // // //                             <select
// // // //                               name="trainer_name"
// // // //                               value={formData.trainer_name}
// // // //                               onChange={handleChange}
// // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // //                             >
// // // //                               <option value="Trainer1">Trainer1</option>
// // // //                               <option value="Trainer2">Trainer2</option>
// // // //                               <option value="Trainer3">Trainer3</option>
// // // //                             </select>
// // // //                           ) : (
// // // //                             member.trainer_name
// // // //                           )}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {editingMember === member.membershipID ? (
// // // //                             <select
// // // //                               name="membership_plan"
// // // //                               value={formData.membership_plan}
// // // //                               onChange={handleChange}
// // // //                               className="bg-gray-700 text-white p-1 rounded"
// // // //                             >
// // // //                               <option value="Monthly">Monthly</option>
// // // //                               <option value="Quarterly">Quarterly</option>
// // // //                               <option value="Yearly">Yearly</option>
// // // //                             </select>
// // // //                           ) : (
// // // //                             member.membership_plan
// // // //                           )}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {member.payment_date}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {member.renewal_date}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {member.pincode}
// // // //                         </td>
// // // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // // //                           {member.emergency_contact}
// // // //                         </td>
// // // //                       </tr>
// // // //                     ))}
// // // //                   </tbody>
// // // //                 </table>
// // // //               </div>
// // // //             </div>
// // // //           )}
// // // //         </div>
// // // //       ) : (
// // // //         // Card View
// // // //         <div className="w-full px-8 pt-10 pb-12">
// // // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // // //             {filteredMembers.map((member) => (
// // // //               <div
// // // //                 key={member.membershipID}
// // // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // // //               >
// // // //                 <div className="flex items-center space-x-4">
// // // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // // //                     <User size={20} />
// // // //                   </div>
// // // //                   <div>
// // // //                     <h3 className="text-lg font-medium text-white">
// // // //                       {member.full_name}
// // // //                     </h3>
// // // //                     <p className="text-sm text-gray-300">
// // // //                       {member.email}
// // // //                     </p>
// // // //                   </div>
// // // //                 </div>
// // // //                 <div className="mt-4 space-y-2">
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Membership ID:</span>{" "}
// // // //                     {member.membershipID}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Phone Number:</span>{" "}
// // // //                     {member.phone_number}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Age:</span>{" "}
// // // //                     {member.age}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Gender:</span>{" "}
// // // //                     {member.gender}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Trainer Name:</span>{" "}
// // // //                     {member.trainer_name}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // // //                     {member.membership_plan}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Contract Date:</span>{" "}
// // // //                     {member.payment_date}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Renewal Date:</span>{" "}
// // // //                     {member.renewal_date}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Pincode:</span>{" "}
// // // //                     {member.pincode}
// // // //                   </p>
// // // //                   <p className="text-sm text-gray-300">
// // // //                     <span className="font-medium">Emergency Contact:</span>{" "}
// // // //                     {member.emergency_contact}
// // // //                   </p>
// // // //                 </div>
// // // //               </div>
// // // //             ))}
// // // //           </div>
// // // //           {filteredMembers.length === 0 && (
// // // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // // //               <svg
// // // //                 xmlns="http://www.w3.org/2000/svg"
// // // //                 className="h-20 w-20 mb-6 text-gray-600"
// // // //                 fill="none"
// // // //                 viewBox="0 0 24 24"
// // // //                 stroke="currentColor"
// // // //               >
// // // //                 <path
// // // //                   strokeLinecap="round"
// // // //                   strokeLinejoin="round"
// // // //                   strokeWidth={1}
// // // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // // //                 />
// // // //               </svg>
// // // //               <p className="text-2xl font-light tracking-wider">
// // // //                 No members found.
// // // //               </p>
// // // //             </div>
// // // //           )}
// // // //         </div>
// // // //       )}

// // // //       {/* Filter Modal */}
// // // //       {showFilterModal && (
// // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // //           <div
// // // //             className="absolute inset-0 bg-black opacity-60"
// // // //             onClick={() => setShowFilterModal(false)}
// // // //           ></div>
// // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg">
// // // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // // //               Filter Members
// // // //             </h2>
// // // //             <div className="space-y-6">
// // // //               <div>
// // // //                 <label className="block text-white mb-2">Age</label>
// // // //                 <input
// // // //                   type="number"
// // // //                   value={filterCriteria.age}
// // // //                   onChange={(e) =>
// // // //                     setFilterCriteria({
// // // //                       ...filterCriteria,
// // // //                       age: e.target.value,
// // // //                     })
// // // //                   }
// // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // //                   placeholder="Enter age"
// // // //                 />
// // // //               </div>
// // // //               <div>
// // // //                 <label className="block text-white mb-2">Gender</label>
// // // //                 <div className="grid grid-cols-3 gap-2">
// // // //                   {["Male", "Female", "Other"].map((gender) => (
// // // //                     <div
// // // //                       key={gender}
// // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // //                         filterCriteria.gender.includes(gender)
// // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // //                       }`}
// // // //                       onClick={() => {
// // // //                         if (filterCriteria.gender.includes(gender)) {
// // // //                           setFilterCriteria({
// // // //                             ...filterCriteria,
// // // //                             gender: filterCriteria.gender.filter(
// // // //                               (g) => g !== gender
// // // //                             ),
// // // //                           });
// // // //                         } else {
// // // //                           setFilterCriteria({
// // // //                             ...filterCriteria,
// // // //                             gender: [...filterCriteria.gender, gender],
// // // //                           });
// // // //                         }
// // // //                       }}
// // // //                     >
// // // //                       {gender}
// // // //                     </div>
// // // //                   ))}
// // // //                 </div>
// // // //               </div>
// // // //               <div>
// // // //                 <label className="block text-white mb-2">Membership Plan</label>
// // // //                 <div className="grid grid-cols-3 gap-2">
// // // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // // //                     <div
// // // //                       key={plan}
// // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // //                         filterCriteria.membership_plan.includes(plan)
// // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // //                       }`}
// // // //                       onClick={() => {
// // // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // // //                           setFilterCriteria({
// // // //                             ...filterCriteria,
// // // //                             membership_plan:
// // // //                               filterCriteria.membership_plan.filter(
// // // //                                 (p) => p !== plan
// // // //                               ),
// // // //                           });
// // // //                         } else {
// // // //                           setFilterCriteria({
// // // //                             ...filterCriteria,
// // // //                             membership_plan: [
// // // //                               ...filterCriteria.membership_plan,
// // // //                               plan,
// // // //                             ],
// // // //                           });
// // // //                         }
// // // //                       }}
// // // //                     >
// // // //                       {plan}
// // // //                     </div>
// // // //                   ))}
// // // //                 </div>
// // // //               </div>
// // // //               <div>
// // // //                 <label className="block text-white mb-2">
// // // //                   Membership Status
// // // //                 </label>
// // // //                 <div className="grid grid-cols-3 gap-2">
// // // //                   {["Active", "Inactive"].map((status) => (
// // // //                     <div
// // // //                       key={status}
// // // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // // //                         filterCriteria.membership_status.includes(status)
// // // //                           ? "border-red-500 bg-red-900/30 text-white"
// // // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // // //                       }`}
// // // //                       onClick={() => {
// // // //                         if (filterCriteria.membership_status.includes(status)) {
// // // //                           setFilterCriteria({
// // // //                             ...filterCriteria,
// // // //                             membership_status:
// // // //                               filterCriteria.membership_status.filter(
// // // //                                 (s) => s !== status
// // // //                               ),
// // // //                           });
// // // //                         } else {
// // // //                           setFilterCriteria({
// // // //                             ...filterCriteria,
// // // //                             membership_status: [
// // // //                               ...filterCriteria.membership_status,
// // // //                               status,
// // // //                             ],
// // // //                           });
// // // //                         }
// // // //                       }}
// // // //                     >
// // // //                       {status}
// // // //                     </div>
// // // //                   ))}
// // // //                 </div>
// // // //               </div>
// // // //               <div>
// // // //                 <label className="block text-white mb-2">Pincode</label>
// // // //                 <input
// // // //                   type="text"
// // // //                   value={filterCriteria.pincode}
// // // //                   onChange={(e) =>
// // // //                     setFilterCriteria({
// // // //                       ...filterCriteria,
// // // //                       pincode: e.target.value,
// // // //                     })
// // // //                   }
// // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // //                   placeholder="Enter pincode"
// // // //                 />
// // // //               </div>
// // // //               <div>
// // // //                 <label className="block text-white mb-2">
// // // //                   Emergency Contact
// // // //                 </label>
// // // //                 <input
// // // //                   type="text"
// // // //                   value={filterCriteria.emergency_contact}
// // // //                   onChange={(e) =>
// // // //                     setFilterCriteria({
// // // //                       ...filterCriteria,
// // // //                       emergency_contact: e.target.value,
// // // //                     })
// // // //                   }
// // // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // //                   placeholder="Enter emergency contact"
// // // //                 />
// // // //               </div>
// // // //               <div className="grid grid-cols-2 gap-4">
// // // //                 <div>
// // // //                   <label className="block text-white mb-2">Contract Date</label>
// // // //                   <input
// // // //                     type="date"
// // // //                     value={filterCriteria.dateRange.start}
// // // //                     onChange={(e) =>
// // // //                       setFilterCriteria({
// // // //                         ...filterCriteria,
// // // //                         dateRange: {
// // // //                           ...filterCriteria.dateRange,
// // // //                           start: e.target.value,
// // // //                         },
// // // //                       })
// // // //                     }
// // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // //                   />
// // // //                 </div>
// // // //                 <div>
// // // //                   <label className="block text-white mb-2">Renewal Date</label>
// // // //                   <input
// // // //                     type="date"
// // // //                     value={filterCriteria.dateRange.end}
// // // //                     onChange={(e) =>
// // // //                       setFilterCriteria({
// // // //                         ...filterCriteria,
// // // //                         dateRange: {
// // // //                           ...filterCriteria.dateRange,
// // // //                           end: e.target.value,
// // // //                         },
// // // //                       })
// // // //                     }
// // // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // // //                   />
// // // //                 </div>
// // // //               </div>
// // // //             </div>
// // // //             <div className="mt-8 flex space-x-4">
// // // //               <button
// // // //                 onClick={() => setShowFilterModal(false)}
// // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // //               >
// // // //                 Cancel
// // // //               </button>
// // // //               <button
// // // //                 onClick={applyFilter}
// // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // //               >
// // // //                 Apply Filters
// // // //               </button>
// // // //             </div>
// // // //           </div>
// // // //         </div>
// // // //       )}

// // // //       {/* Confirm Delete Dialog */}
// // // //       {showConfirmDialog && (
// // // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // // //           <div
// // // //             className="absolute inset-0 bg-black opacity-60"
// // // //             onClick={() => setShowConfirmDialog(false)}
// // // //           ></div>
// // // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // // //               Confirm Delete
// // // //             </h2>
// // // //             <p className="text-gray-300 mb-6 text-center">
// // // //               Are you sure you want to delete{" "}
// // // //               <span className="font-medium text-white">
// // // //                 {memberToDelete?.full_name}
// // // //               </span>
// // // //               ? This action cannot be undone after 5 seconds.
// // // //             </p>
// // // //             <div className="flex space-x-4">
// // // //               <button
// // // //                 onClick={() => setShowConfirmDialog(false)}
// // // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // // //               >
// // // //                 Cancel
// // // //               </button>
// // // //               <button
// // // //                 onClick={() => {
// // // //                   if (memberToDelete) {
// // // //                     handleDelete(memberToDelete.membershipID);
// // // //                   }
// // // //                 }}
// // // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // // //               >
// // // //                 Delete
// // // //               </button>
// // // //             </div>
// // // //           </div>
// // // //         </div>
// // // //       )}

// // // //       {/* Undo Delete Toast */}
// // // //       {deletedMember && undoTimer > 0 && (
// // // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // //           <p className="text-gray-300">
// // // //             <span className="font-medium text-white">
// // // //               {deletedMember.full_name}
// // // //             </span>{" "}
// // // //             deleted
// // // //           </p>
// // // //           <button
// // // //             onClick={handleUndoDelete}
// // // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400"
// // // //           >
// // // //             <Undo size={16} />
// // // //             <span>Undo ({undoTimer}s)</span>
// // // //           </button>
// // // //         </div>
// // // //       )}

// // // //       {/* Save Success Toast */}
// // // //       {saveSuccess && (
// // // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // // //           <svg
// // // //             xmlns="http://www.w3.org/2000/svg"
// // // //             className="h-6 w-6 text-green-500"
// // // //             fill="none"
// // // //             viewBox="0 0 24 24"
// // // //             stroke="currentColor"
// // // //           >
// // // //             <path
// // // //               strokeLinecap="round"
// // // //               strokeLinejoin="round"
// // // //               strokeWidth={2}
// // // //               d="M5 13l4 4L19 7"
// // // //             />
// // // //           </svg>
// // // //           <p className="text-green-300">Member updated successfully!</p>
// // // //         </div>
// // // //       )}
// // // //     </div>
// // // //   );
// // // // };

// // // // export default MembersPage; 
// // // "use client";

// // // import { useState, useEffect } from "react";
// // // import { useRouter } from "next/navigation";
// // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // const MembersPage = () => {
// // //   const router = useRouter();
// // //   const [members, setMembers] = useState([]);
// // //   const [isLoading, setIsLoading] = useState(true);
// // //   const [error, setError] = useState(null);
// // //   const [searchTerm, setSearchTerm] = useState("");
// // //   const [searchFocused, setSearchFocused] = useState(false);
// // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // //   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
// // //   const [editingMember, setEditingMember] = useState(null);
// // //   const [deletedMember, setDeletedMember] = useState(null);
// // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // //   const [filterCriteria, setFilterCriteria] = useState({
// // //     age: "",
// // //     gender: [],
// // //     membership_plan: [],
// // //     membership_status: [],
// // //     dateRange: { start: "", end: "" }, // Changed to paymentDate and renewalDate
// // //     pincode: "",
// // //     emergency_contact: "",
// // //   });
// // //   const [formData, setFormData] = useState({
// // //     full_name: "",
// // //     email: "",
// // //     phone_number: "",
// // //     age: "",
// // //     gender: "",
// // //     trainer_name: "",
// // //     password: "",
// // //     membership_plan: "",
// // //     amount_Paid: "",
// // //     payment_status: "",
// // //     membership_status: "",
// // //     payment_date: "",
// // //     renewal_date: "",
// // //     pincode: "",
// // //     emergency_contact: "",
// // //   });
// // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // //   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

// // //   // Fetch members from the backend
// // //   useEffect(() => {
// // //     const fetchMembers = async () => {
// // //       try {
// // //         const response = await fetch(
// // //           "http://localhost:5000/api/admin/members",
// // //           {
// // //             method: "GET",
// // //             headers: {
// // //               "Content-Type": "application/json",
// // //             },
// // //           }
// // //         );
// // //         if (!response.ok) {
// // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // //         }
// // //         const data = await response.json();
// // //         console.log("API Response:", data);

// // //         // Ensure amount_Paid is a number and include new fields
// // //         const formattedMembers = data.map((member) => ({
// // //           ...member,
// // //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// // //           pincode: member.pincode || "",
// // //           emergency_contact: member.emergency_contact || "",
// // //         }));

// // //         setMembers(formattedMembers);
// // //         setError(null);
// // //       } catch (err) {
// // //         setError("Failed to fetch members: " + err.message);
// // //         console.error("Error fetching members:", err);
// // //       } finally {
// // //         setIsLoading(false);
// // //       }
// // //     };
// // //     fetchMembers();
// // //   }, []);

// // //   // Handle search and filter
// // //   const filteredMembers = (members || []).filter((member) => {
// // //     const full_name = member.full_name || "";
// // //     const email = member.email || "";
// // //     const membership_status = member.membership_status || "";
// // //     const pincode = member.pincode || "";
// // //     const emergency_contact = member.emergency_contact || "";

// // //     // Search filter (case-insensitive)
// // //     const matchesSearch =
// // //       searchTerm === "" ||
// // //       full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       email.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       membership_status.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       pincode.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       emergency_contact.toLowerCase().includes(searchTerm.toLowerCase());

// // //     // Age filter
// // //     const ageMatch =
// // //       filterCriteria.age === "" ||
// // //       (member.age !== null &&
// // //         member.age !== undefined &&
// // //         member.age.toString() === filterCriteria.age);

// // //     // Gender filter (multiple selection)
// // //     const genderMatch =
// // //       filterCriteria.gender.length === 0 ||
// // //       filterCriteria.gender.includes(member.gender);

// // //     // Membership Plan filter (multiple selection)
// // //     const membershipPlanMatch =
// // //       filterCriteria.membership_plan.length === 0 ||
// // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // //     // Membership Status filter (multiple selection)
// // //     const membershipStatusMatch =
// // //       filterCriteria.membership_status.length === 0 ||
// // //       filterCriteria.membership_status.includes(member.membership_status);

// // //     // Date range filter
// // //     const memberPaymentDate = new Date(member.payment_date);
// // //     const matchesPaymentDate =
// // //       !filterCriteria.dateRange.start ||
// // //       memberPaymentDate >= new Date(filterCriteria.dateRange.start);
// // //     const memberRenewalDate = new Date(member.renewal_date);
// // //     const matchesRenewalDate =
// // //       !filterCriteria.dateRange.end ||
// // //       memberRenewalDate <= new Date(filterCriteria.dateRange.end);

// // //     // Pincode filter
// // //     const pincodeMatch =
// // //       filterCriteria.pincode === "" ||
// // //       (member.pincode && member.pincode.includes(filterCriteria.pincode));

// // //     // Emergency Contact filter
// // //     const emergencyContactMatch =
// // //       filterCriteria.emergency_contact === "" ||
// // //       (member.emergency_contact &&
// // //         member.emergency_contact.includes(filterCriteria.emergency_contact));

// // //     // Return true only if all filters match
// // //     return (
// // //       matchesSearch &&
// // //       ageMatch &&
// // //       genderMatch &&
// // //       membershipPlanMatch &&
// // //       membershipStatusMatch &&
// // //       matchesPaymentDate &&
// // //       matchesRenewalDate &&
// // //       pincodeMatch &&
// // //       emergencyContactMatch
// // //     );
// // //   });

// // //   // Handle edit
// // //   const handleEdit = (member) => {
// // //     if (!member || !member.membershipID) return; // Ensure member exists and has an ID
// // //     setEditingMember(member.membershipID); // Store membershipID in editing state
// // //     setFormData({
// // //       full_name: member.full_name || "",
// // //       email: member.email || "",
// // //       phone_number: member.phone_number || "",
// // //       age: member.age || "",
// // //       gender: member.gender || "",
// // //       trainer_name: member.trainer_name || "",
// // //       password: member.password || "",
// // //       membership_plan: member.membership_plan || "",
// // //       amount_Paid: member.amount_Paid || 0, // Ensure amount_Paid is a number
// // //       payment_status: member.payment_status || "",
// // //       membership_status: member.membership_status || "",
// // //       payment_date: member.payment_date || "",
// // //       renewal_date: member.renewal_date || "",
// // //       pincode: member.pincode || "", // Include pincode
// // //       emergency_contact: member.emergency_contact || "", // Include emergency_contact
// // //     });
// // //   };

// // //   // Handle form changes
// // //   const handleChange = (e) => {
// // //     const { name, value } = e.target;
// // //     setFormData((prev) => ({
// // //       ...prev,
// // //       [name]: value,
// // //     }));
// // //   };

// // //   // Save edited member
// // //   const handleSave = async () => {
// // //     if (!editingMember) {
// // //       console.error("Error: No member is currently being edited.");
// // //       return;
// // //     }

// // //     const membershipID = editingMember;

// // //     // Validate trainer before proceeding
// // //     try {
// // //       const trainerResponse = await fetch(
// // //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// // //         {
// // //           method: "GET",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //         }
// // //       );

// // //       if (!trainerResponse.ok) {
// // //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// // //       }

// // //       // Proceed with updating the member
// // //       const dataToSend = {
// // //         ...formData,
// // //         amount_Paid: parseFloat(formData.amount_Paid) || 0, // Ensure amount_Paid is a number
// // //         membershipID: membershipID,
// // //       };

// // //       console.log("Data being sent to server:", dataToSend); // Debugging

// // //       const response = await fetch(
// // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // //         {
// // //           method: "PUT",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //           body: JSON.stringify(dataToSend),
// // //         }
// // //       );

// // //       if (!response.ok) {
// // //         const errorText = await response.text();
// // //         throw new Error(
// // //           `HTTP error! Status: ${response.status}, Response: ${errorText}`
// // //         );
// // //       }

// // //       const updatedMember = await response.json();
// // //       console.log("Response from server:", updatedMember); // Debugging

// // //       // Update local state to reflect what was sent to the server
// // //       setMembers((prevMembers) =>
// // //         prevMembers.map((member) =>
// // //           member.membershipID === membershipID
// // //             ? { ...member, ...dataToSend }
// // //             : member
// // //         )
// // //       );

// // //       setEditingMember(null);
// // //       setSaveSuccess(true);
// // //       setTimeout(() => setSaveSuccess(false), 3000);
// // //     } catch (err) {
// // //       console.error("Error updating member:", err);
// // //       alert(err.message); // Notify the user about the error
// // //     }
// // //   };

// // //   // Handle delete
// // //   const confirmDelete = (member) => {
// // //     if (!member) return; // Ensure member is not null or undefined
// // //     setMemberToDelete(member);
// // //     setShowConfirmDialog(true);
// // //   };

// // //   const handleDelete = async (membershipID) => {
// // //     setShowConfirmDialog(false);
// // //     const memberToDeleteObj = members.find(
// // //       (m) => m.membershipID === membershipID
// // //     );
// // //     if (!memberToDeleteObj) {
// // //       console.error("Member not found");
// // //       return;
// // //     }
// // //     setDeletedMember(memberToDeleteObj);
// // //     setMembers(
// // //       members.filter((member) => member.membershipID !== membershipID)
// // //     );

// // //     // Start the 5-second timer
// // //     setUndoTimer(5);
// // //     const timer = setInterval(() => {
// // //       setUndoTimer((prev) => {
// // //         if (prev === 1) {
// // //           clearInterval(timer);
// // //           deleteMemberFromDatabase(membershipID); // Delete from the database after 5 seconds
// // //           return 0;
// // //         }
// // //         return prev - 1;
// // //       });
// // //     }, 1000);
// // //     setDeleteTimer(timer);
// // //   };

// // //   // Delete member from the database
// // //   const deleteMemberFromDatabase = async (membershipID) => {
// // //     try {
// // //       const response = await fetch(
// // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // //         {
// // //           method: "DELETE",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //         }
// // //       );
// // //       if (!response.ok) {
// // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // //       }
// // //       setDeletedMember(null);
// // //     } catch (err) {
// // //       console.error("Error deleting member:", err);
// // //       setMembers((prev) => [...prev, deletedMember]);
// // //     }
// // //   };

// // //   // Undo delete functionality
// // //   const handleUndoDelete = () => {
// // //     if (deleteTimer) {
// // //       clearInterval(deleteTimer);
// // //       setDeleteTimer(null);
// // //     }
// // //     if (deletedMember) {
// // //       setMembers((prev) => [...prev, deletedMember]);
// // //       setDeletedMember(null);
// // //     }
// // //     setUndoTimer(0); // Reset the timer
// // //   };

// // //   // Toggle view mode
// // //   const toggleViewMode = () => {
// // //     setViewMode(viewMode === "table" ? "card" : "table");
// // //   };

// // //   // Apply filter
// // //   const applyFilter = () => {
// // //     setShowFilterModal(false);
// // //   };

// // //   // Reset filters
// // //   const resetFilters = () => {
// // //     setFilterCriteria({
// // //       age: "",
// // //       gender: [],
// // //       membership_plan: [],
// // //       membership_status: [],
// // //       dateRange: { start: "", end: "" },
// // //       pincode: "", // Reset pincode filter
// // //       emergency_contact: "", // Reset emergency_contact filter
// // //     });
// // //   };

// // //   if (isLoading)
// // //     return (
// // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // //         <div className="text-center">
// // //           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // //           <p className="text-2xl font-light tracking-wider">
// // //             Loading members...
// // //           </p>
// // //         </div>
// // //       </div>
// // //     );

// // //   if (error)
// // //     return (
// // //       <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // //         <div className="text-center">
// // //           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // //         </div>
// // //       </div>
// // //     );

// // //   return (
// // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // //       {/* Navbar */}
// // //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// // //         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
// // //           {/* Title */}
// // //           <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 text-center md:text-left">
// // //             Members List
// // //           </h1>

// // //           {/* Buttons */}
// // //           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
// // //             {/* Toggle View Mode Button */}
// // //             <button
// // //               onClick={toggleViewMode}
// // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20"
// // //             >
// // //               {viewMode === "table" ? "Card View" : "Table View"}
// // //             </button>

// // //             {/* Filter Button */}
// // //             <button
// // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center"
// // //             >
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-5 w-5 mr-2 text-red-500"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1.5}
// // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // //                 />
// // //               </svg>
// // //               <span className="font-medium">Filter View</span>
// // //             </button>
// // //           </div>
// // //         </div>
// // //       </div>

// // //       {/* Header Section */}
// // //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// // //         <div className="w-full px-8 pt-10">
// // //           <div
// // //             className={`relative transition-all duration-500 ${
// // //               searchFocused ? "scale-105" : ""
// // //             }`}
// // //           >
// // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className={`h-5 w-5 transition-all duration-300 ${
// // //                   searchFocused
// // //                     ? "dark:text-red-500 text-black"
// // //                     : "text-gray-500"
// // //                 }`}
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //                 strokeWidth={1.5}
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // //                 />
// // //               </svg>
// // //             </span>
// // //             <input
// // //               type="text"
// // //               placeholder="Search by name, email, or membership status"
// // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
// // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // //               value={searchTerm}
// // //               onChange={(e) => setSearchTerm(e.target.value)}
// // //               onFocus={() => setSearchFocused(true)}
// // //               onBlur={() => setSearchFocused(false)}
// // //             />
// // //           </div>
// // //         </div>
// // //       </div>

// // //       {/* Clear Filters Button */}
// // //       {(filterCriteria.age ||
// // //         filterCriteria.gender.length > 0 ||
// // //         filterCriteria.membership_plan.length > 0 ||
// // //         filterCriteria.membership_status.length > 0 ||
// // //         filterCriteria.dateRange.start ||
// // //         filterCriteria.dateRange.end ||
// // //         filterCriteria.pincode ||
// // //         filterCriteria.emergency_contact) && (
// // //         <div className="w-full px-8 pt-4">
// // //           <button
// // //             onClick={resetFilters}
// // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600"
// // //           >
// // //             Clear Filters
// // //           </button>
// // //         </div>
// // //       )}

// // //       {/* Members Table */}
// // //       {viewMode === "table" ? (
// // //         <div className="w-full px-8 pt-10 pb-12">
// // //           {filteredMembers.length === 0 ? (
// // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-20 w-20 mb-6 text-gray-600"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1}
// // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // //                 />
// // //               </svg>
// // //               <p className="text-2xl font-light tracking-wider">
// // //                 No members found.
// // //               </p>
// // //             </div>
// // //           ) : (
// // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // //               <div className="overflow-x-auto">
// // //                 <table className="w-full divide-y divide-gray-800">
// // //                   <thead>
// // //                     <tr className="bg-gray-900/50">
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Membership ID
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Photo
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Full Name
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Email
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Phone Number
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Age
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Gender
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Trainer Name
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Membership Plan
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Contract Date
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Renewal Date
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Pincode
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Emergency Contact
// // //                       </th>
// // //                     </tr>
// // //                   </thead>
// // //                   <tbody className="divide-y divide-gray-800">
// // //                     {filteredMembers.map((member) => (
// // //                       <tr
// // //                         key={member.membershipID}
// // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // //                       >
// // //                         <td className="py-5 px-6 text-sm font-light">
// // //                           {member.membershipID}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm">
// // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // //                             <User size={20} />
// // //                           </div>
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="text"
// // //                               name="full_name"
// // //                               value={formData.full_name}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded"
// // //                             />
// // //                           ) : (
// // //                             member.full_name
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="email"
// // //                               name="email"
// // //                               value={formData.email}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded"
// // //                             />
// // //                           ) : (
// // //                             member.email
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="text"
// // //                               name="phone_number"
// // //                               value={formData.phone_number}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded"
// // //                             />
// // //                           ) : (
// // //                             member.phone_number
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="number"
// // //                               name="age"
// // //                               value={formData.age}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded"
// // //                             />
// // //                           ) : (
// // //                             member.age
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="gender"
// // //                               value={formData.gender}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded"
// // //                             >
// // //                               <option value="Male">Male</option>
// // //                               <option value="Female">Female</option>
// // //                               <option value="Other">Other</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.gender
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="trainer_name"
// // //                               value={formData.trainer_name}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded"
// // //                             >
// // //                               <option value="Trainer1">Trainer1</option>
// // //                               <option value="Trainer2">Trainer2</option>
// // //                               <option value="Trainer3">Trainer3</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.trainer_name
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="membership_plan"
// // //                               value={formData.membership_plan}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded"
// // //                             >
// // //                               <option value="Monthly">Monthly</option>
// // //                               <option value="Quarterly">Quarterly</option>
// // //                               <option value="Yearly">Yearly</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.membership_plan
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.payment_date}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.renewal_date}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.pincode}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.emergency_contact}
// // //                         </td>
// // //                       </tr>
// // //                     ))}
// // //                   </tbody>
// // //                 </table>
// // //               </div>
// // //             </div>
// // //           )}
// // //         </div>
// // //       ) : (
// // //         // Card View
// // //         <div className="w-full px-8 pt-10 pb-12">
// // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // //             {filteredMembers.map((member) => (
// // //               <div
// // //                 key={member.membershipID}
// // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // //               >
// // //                 <div className="flex items-center space-x-4">
// // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // //                     <User size={20} />
// // //                   </div>
// // //                   <div>
// // //                     <h3 className="text-lg font-medium text-white">
// // //                       {member.full_name}
// // //                     </h3>
// // //                     <p className="text-sm text-gray-300">
// // //                       {member.email}
// // //                     </p>
// // //                   </div>
// // //                 </div>
// // //                 <div className="mt-4 space-y-2">
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Membership ID:</span>{" "}
// // //                     {member.membershipID}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Phone Number:</span>{" "}
// // //                     {member.phone_number}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Age:</span>{" "}
// // //                     {member.age}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Gender:</span>{" "}
// // //                     {member.gender}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Trainer Name:</span>{" "}
// // //                     {member.trainer_name}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // //                     {member.membership_plan}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Contract Date:</span>{" "}
// // //                     {member.payment_date}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Renewal Date:</span>{" "}
// // //                     {member.renewal_date}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Pincode:</span>{" "}
// // //                     {member.pincode}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Emergency Contact:</span>{" "}
// // //                     {member.emergency_contact}
// // //                   </p>
// // //                 </div>
// // //               </div>
// // //             ))}
// // //           </div>
// // //           {filteredMembers.length === 0 && (
// // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-20 w-20 mb-6 text-gray-600"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1}
// // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // //                 />
// // //               </svg>
// // //               <p className="text-2xl font-light tracking-wider">
// // //                 No members found.
// // //               </p>
// // //             </div>
// // //           )}
// // //         </div>
// // //       )}

// // //       {/* Filter Modal */}
// // //       {showFilterModal && (
// // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // //           <div
// // //             className="absolute inset-0 bg-black opacity-60"
// // //             onClick={() => setShowFilterModal(false)}
// // //           ></div>
// // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg">
// // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // //               Filter Members
// // //             </h2>
// // //             <div className="space-y-6">
// // //               <div>
// // //                 <label className="block text-white mb-2">Age</label>
// // //                 <input
// // //                   type="number"
// // //                   value={filterCriteria.age}
// // //                   onChange={(e) =>
// // //                     setFilterCriteria({
// // //                       ...filterCriteria,
// // //                       age: e.target.value,
// // //                     })
// // //                   }
// // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // //                   placeholder="Enter age"
// // //                 />
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">Gender</label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Male", "Female", "Other"].map((gender) => (
// // //                     <div
// // //                       key={gender}
// // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // //                         filterCriteria.gender.includes(gender)
// // //                           ? "border-red-500 bg-red-900/30 text-white"
// // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // //                       }`}
// // //                       onClick={() => {
// // //                         if (filterCriteria.gender.includes(gender)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             gender: filterCriteria.gender.filter(
// // //                               (g) => g !== gender
// // //                             ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             gender: [...filterCriteria.gender, gender],
// // //                           });
// // //                         }
// // //                       }}
// // //                     >
// // //                       {gender}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">Membership Plan</label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // //                     <div
// // //                       key={plan}
// // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // //                         filterCriteria.membership_plan.includes(plan)
// // //                           ? "border-red-500 bg-red-900/30 text-white"
// // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // //                       }`}
// // //                       onClick={() => {
// // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_plan:
// // //                               filterCriteria.membership_plan.filter(
// // //                                 (p) => p !== plan
// // //                               ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_plan: [
// // //                               ...filterCriteria.membership_plan,
// // //                               plan,
// // //                             ],
// // //                           });
// // //                         }
// // //                       }}
// // //                     >
// // //                       {plan}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">
// // //                   Membership Status
// // //                 </label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Active", "Inactive"].map((status) => (
// // //                     <div
// // //                       key={status}
// // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // //                         filterCriteria.membership_status.includes(status)
// // //                           ? "border-red-500 bg-red-900/30 text-white"
// // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // //                       }`}
// // //                       onClick={() => {
// // //                         if (filterCriteria.membership_status.includes(status)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_status:
// // //                               filterCriteria.membership_status.filter(
// // //                                 (s) => s !== status
// // //                               ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_status: [
// // //                               ...filterCriteria.membership_status,
// // //                               status,
// // //                             ],
// // //                           });
// // //                         }
// // //                       }}
// // //                     >
// // //                       {status}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">Pincode</label>
// // //                 <input
// // //                   type="text"
// // //                   value={filterCriteria.pincode}
// // //                   onChange={(e) =>
// // //                     setFilterCriteria({
// // //                       ...filterCriteria,
// // //                       pincode: e.target.value,
// // //                     })
// // //                   }
// // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // //                   placeholder="Enter pincode"
// // //                 />
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">
// // //                   Emergency Contact
// // //                 </label>
// // //                 <input
// // //                   type="text"
// // //                   value={filterCriteria.emergency_contact}
// // //                   onChange={(e) =>
// // //                     setFilterCriteria({
// // //                       ...filterCriteria,
// // //                       emergency_contact: e.target.value,
// // //                     })
// // //                   }
// // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // //                   placeholder="Enter emergency contact"
// // //                 />
// // //               </div>
// // //               <div className="grid grid-cols-2 gap-4">
// // //                 <div>
// // //                   <label className="block text-white mb-2">Contract Date</label>
// // //                   <input
// // //                     type="date"
// // //                     value={filterCriteria.dateRange.start}
// // //                     onChange={(e) =>
// // //                       setFilterCriteria({
// // //                         ...filterCriteria,
// // //                         dateRange: {
// // //                           ...filterCriteria.dateRange,
// // //                           start: e.target.value,
// // //                         },
// // //                       })
// // //                     }
// // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // //                   />
// // //                 </div>
// // //                 <div>
// // //                   <label className="block text-white mb-2">Renewal Date</label>
// // //                   <input
// // //                     type="date"
// // //                     value={filterCriteria.dateRange.end}
// // //                     onChange={(e) =>
// // //                       setFilterCriteria({
// // //                         ...filterCriteria,
// // //                         dateRange: {
// // //                           ...filterCriteria.dateRange,
// // //                           end: e.target.value,
// // //                         },
// // //                       })
// // //                     }
// // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg"
// // //                   />
// // //                 </div>
// // //               </div>
// // //             </div>
// // //             <div className="mt-8 flex space-x-4">
// // //               <button
// // //                 onClick={() => setShowFilterModal(false)}
// // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // //               >
// // //                 Cancel
// // //               </button>
// // //               <button
// // //                 onClick={applyFilter}
// // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // //               >
// // //                 Apply Filters
// // //               </button>
// // //             </div>
// // //           </div>
// // //         </div>
// // //       )}

// // //       {/* Confirm Delete Dialog */}
// // //       {showConfirmDialog && (
// // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // //           <div
// // //             className="absolute inset-0 bg-black opacity-60"
// // //             onClick={() => setShowConfirmDialog(false)}
// // //           ></div>
// // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // //               Confirm Delete
// // //             </h2>
// // //             <p className="text-gray-300 mb-6 text-center">
// // //               Are you sure you want to delete{" "}
// // //               <span className="font-medium text-white">
// // //                 {memberToDelete?.full_name}
// // //               </span>
// // //               ? This action cannot be undone after 5 seconds.
// // //             </p>
// // //             <div className="flex space-x-4">
// // //               <button
// // //                 onClick={() => setShowConfirmDialog(false)}
// // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500"
// // //               >
// // //                 Cancel
// // //               </button>
// // //               <button
// // //                 onClick={() => {
// // //                   if (memberToDelete) {
// // //                     handleDelete(memberToDelete.membershipID);
// // //                   }
// // //                 }}
// // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600"
// // //               >
// // //                 Delete
// // //               </button>
// // //             </div>
// // //           </div>
// // //         </div>
// // //       )}

// // //       {/* Undo Delete Toast */}
// // //       {deletedMember && undoTimer > 0 && (
// // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // //           <p className="text-gray-300">
// // //             <span className="font-medium text-white">
// // //               {deletedMember.full_name}
// // //             </span>{" "}
// // //             deleted
// // //           </p>
// // //           <button
// // //             onClick={handleUndoDelete}
// // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400"
// // //           >
// // //             <Undo size={16} />
// // //             <span>Undo ({undoTimer}s)</span>
// // //           </button>
// // //         </div>
// // //       )}

// // //       {/* Save Success Toast */}
// // //       {saveSuccess && (
// // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // //           <svg
// // //             xmlns="http://www.w3.org/2000/svg"
// // //             className="h-6 w-6 text-green-500"
// // //             fill="none"
// // //             viewBox="0 0 24 24"
// // //             stroke="currentColor"
// // //           >
// // //             <path
// // //               strokeLinecap="round"
// // //               strokeLinejoin="round"
// // //               strokeWidth={2}
// // //               d="M5 13l4 4L19 7"
// // //             />
// // //           </svg>
// // //           <p className="text-green-300">Member updated successfully!</p>
// // //         </div>
// // //       )}
// // //     </div>
// // //   );
// // // };

// // // export default MembersPage;
// // // "use client";

// // // import { useState, useEffect } from "react";
// // // import { useRouter } from "next/navigation";
// // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // const MembersPage = () => {
// // //   const router = useRouter();
// // //   const [members, setMembers] = useState([]);
// // //   const [isLoading, setIsLoading] = useState(true);
// // //   const [error, setError] = useState(null);
// // //   const [searchTerm, setSearchTerm] = useState("");
// // //   const [searchFocused, setSearchFocused] = useState(false);
// // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // //   const [viewMode, setViewMode] = useState("table");
// // //   const [editingMember, setEditingMember] = useState(null);
// // //   const [deletedMember, setDeletedMember] = useState(null);
// // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // //   const [filterCriteria, setFilterCriteria] = useState({
// // //     age: "",
// // //     gender: [],
// // //     membership_plan: [],
// // //     membership_status: [],
// // //     dateRange: { start: "", end: "" },
// // //     pincode: "",
// // //     emergency_contact: "",
// // //   });
// // //   const [formData, setFormData] = useState({
// // //     full_name: "",
// // //     email: "",
// // //     phone_number: "",
// // //     age: "",
// // //     gender: "",
// // //     trainer_name: "",
// // //     password: "",
// // //     membership_plan: "",
// // //     amount_Paid: "",
// // //     payment_status: "",
// // //     membership_status: "",
// // //     payment_date: "",
// // //     renewal_date: "",
// // //     pincode: "",
// // //     emergency_contact: "",
// // //   });
// // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // //   const [undoTimer, setUndoTimer] = useState(5);

// // //   useEffect(() => {
// // //     const fetchMembers = async () => {
// // //       try {
// // //         const response = await fetch("http://localhost:5000/api/admin/members", {
// // //           method: "GET",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //         });
// // //         if (!response.ok) {
// // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // //         }
// // //         const data = await response.json();
// // //         const formattedMembers = data.map((member) => ({
// // //           ...member,
// // //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// // //           pincode: member.pincode || "",
// // //           emergency_contact: member.emergency_contact || "",
// // //         }));

// // //         setMembers(formattedMembers);
// // //         setError(null);
// // //       } catch (err) {
// // //         setError("Failed to fetch members: " + err.message);
// // //         console.error("Error fetching members:", err);
// // //       } finally {
// // //         setIsLoading(false);
// // //       }
// // //     };
// // //     fetchMembers();
// // //   }, []);

// // //   const filteredMembers = (members || []).filter((member) => {
// // //     const matchesSearch =
// // //       searchTerm === "" ||
// // //       member.full_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       member.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       member.membership_status?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       member.pincode?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       member.emergency_contact?.toLowerCase().includes(searchTerm.toLowerCase());

// // //     const ageMatch =
// // //       filterCriteria.age === "" ||
// // //       member.age?.toString() === filterCriteria.age;

// // //     const genderMatch =
// // //       filterCriteria.gender.length === 0 ||
// // //       filterCriteria.gender.includes(member.gender);

// // //     const membershipPlanMatch =
// // //       filterCriteria.membership_plan.length === 0 ||
// // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // //     const membershipStatusMatch =
// // //       filterCriteria.membership_status.length === 0 ||
// // //       filterCriteria.membership_status.includes(member.membership_status);

// // //     const memberPaymentDate = new Date(member.payment_date);
// // //     const matchesPaymentDate =
// // //       !filterCriteria.dateRange.start ||
// // //       memberPaymentDate >= new Date(filterCriteria.dateRange.start);
// // //     const memberRenewalDate = new Date(member.renewal_date);
// // //     const matchesRenewalDate =
// // //       !filterCriteria.dateRange.end ||
// // //       memberRenewalDate <= new Date(filterCriteria.dateRange.end);

// // //     const pincodeMatch =
// // //       filterCriteria.pincode === "" ||
// // //       member.pincode?.includes(filterCriteria.pincode);

// // //     const emergencyContactMatch =
// // //       filterCriteria.emergency_contact === "" ||
// // //       member.emergency_contact?.includes(filterCriteria.emergency_contact);

// // //     return (
// // //       matchesSearch &&
// // //       ageMatch &&
// // //       genderMatch &&
// // //       membershipPlanMatch &&
// // //       membershipStatusMatch &&
// // //       matchesPaymentDate &&
// // //       matchesRenewalDate &&
// // //       pincodeMatch &&
// // //       emergencyContactMatch
// // //     );
// // //   });

// // //   const handleEdit = (member) => {
// // //     if (!member || !member.membershipID) return;
// // //     setEditingMember(member.membershipID);
// // //     setFormData({
// // //       full_name: member.full_name || "",
// // //       email: member.email || "",
// // //       phone_number: member.phone_number || "",
// // //       age: member.age || "",
// // //       gender: member.gender || "",
// // //       trainer_name: member.trainer_name || "",
// // //       password: member.password || "",
// // //       membership_plan: member.membership_plan || "",
// // //       amount_Paid: member.amount_Paid || 0,
// // //       payment_status: member.payment_status || "",
// // //       membership_status: member.membership_status || "",
// // //       payment_date: member.payment_date || "",
// // //       renewal_date: member.renewal_date || "",
// // //       pincode: member.pincode || "",
// // //       emergency_contact: member.emergency_contact || "",
// // //     });
// // //   };

// // //   const handleChange = (e) => {
// // //     const { name, value } = e.target;
// // //     setFormData((prev) => ({
// // //       ...prev,
// // //       [name]: value,
// // //     }));
// // //   };

// // //   const handleSave = async () => {
// // //     if (!editingMember) {
// // //       console.error("Error: No member is currently being edited.");
// // //       return;
// // //     }

// // //     const membershipID = editingMember;

// // //     try {
// // //       const trainerResponse = await fetch(
// // //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// // //         {
// // //           method: "GET",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //         }
// // //       );

// // //       if (!trainerResponse.ok) {
// // //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// // //       }

// // //       const dataToSend = {
// // //         ...formData,
// // //         amount_Paid: parseFloat(formData.amount_Paid) || 0,
// // //         membershipID: membershipID,
// // //       };

// // //       const response = await fetch(
// // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // //         {
// // //           method: "PUT",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //           body: JSON.stringify(dataToSend),
// // //         }
// // //       );

// // //       if (!response.ok) {
// // //         const errorText = await response.text();
// // //         throw new Error(
// // //           `HTTP error! Status: ${response.status}, Response: ${errorText}`
// // //         );
// // //       }

// // //       const updatedMember = await response.json();
// // //       setMembers((prevMembers) =>
// // //         prevMembers.map((member) =>
// // //           member.membershipID === membershipID
// // //             ? { ...member, ...dataToSend }
// // //             : member
// // //         )
// // //       );

// // //       setEditingMember(null);
// // //       setSaveSuccess(true);
// // //       setTimeout(() => setSaveSuccess(false), 3000);
// // //     } catch (err) {
// // //       console.error("Error updating member:", err);
// // //       alert(err.message);
// // //     }
// // //   };

// // //   const confirmDelete = (member) => {
// // //     if (!member) return;
// // //     setMemberToDelete(member);
// // //     setShowConfirmDialog(true);
// // //   };

// // //   const handleDelete = async (membershipID) => {
// // //     setShowConfirmDialog(false);
// // //     const memberToDeleteObj = members.find(
// // //       (m) => m.membershipID === membershipID
// // //     );
// // //     if (!memberToDeleteObj) {
// // //       console.error("Member not found");
// // //       return;
// // //     }
// // //     setDeletedMember(memberToDeleteObj);
// // //     setMembers(
// // //       members.filter((member) => member.membershipID !== membershipID)
// // //     );

// // //     setUndoTimer(5);
// // //     const timer = setInterval(() => {
// // //       setUndoTimer((prev) => {
// // //         if (prev === 1) {
// // //           clearInterval(timer);
// // //           deleteMemberFromDatabase(membershipID);
// // //           return 0;
// // //         }
// // //         return prev - 1;
// // //       });
// // //     }, 1000);
// // //     setDeleteTimer(timer);
// // //   };

// // //   const deleteMemberFromDatabase = async (membershipID) => {
// // //     try {
// // //       const response = await fetch(
// // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // //         {
// // //           method: "DELETE",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //         }
// // //       );
// // //       if (!response.ok) {
// // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // //       }
// // //       setDeletedMember(null);
// // //     } catch (err) {
// // //       console.error("Error deleting member:", err);
// // //       setMembers((prev) => [...prev, deletedMember]);
// // //     }
// // //   };

// // //   const handleUndoDelete = () => {
// // //     if (deleteTimer) {
// // //       clearInterval(deleteTimer);
// // //       setDeleteTimer(null);
// // //     }
// // //     if (deletedMember) {
// // //       setMembers((prev) => [...prev, deletedMember]);
// // //       setDeletedMember(null);
// // //     }
// // //     setUndoTimer(0);
// // //   };

// // //   const toggleViewMode = () => {
// // //     setViewMode(viewMode === "table" ? "card" : "table");
// // //   };

// // //   const applyFilter = () => {
// // //     setShowFilterModal(false);
// // //   };

// // //   const resetFilters = () => {
// // //     setFilterCriteria({
// // //       age: "",
// // //       gender: [],
// // //       membership_plan: [],
// // //       membership_status: [],
// // //       dateRange: { start: "", end: "" },
// // //       pincode: "",
// // //       emergency_contact: "",
// // //     });
// // //   };

// // //   if (isLoading) return (
// // //     <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // //       <div className="text-center">
// // //         <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // //         <p className="text-2xl font-light tracking-wider">Loading members...</p>
// // //       </div>
// // //     </div>
// // //   );

// // //   if (error) return (
// // //     <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // //       <div className="text-center">
// // //         <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // //       </div>
// // //     </div>
// // //   );

// // //   return (
// // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// // //         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
// // //           <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 text-center md:text-left">
// // //             Members List
// // //           </h1>

// // //           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
// // //             <button
// // //               onClick={toggleViewMode}
// // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //             >
// // //               {viewMode === "table" ? "Card View" : "Table View"}
// // //             </button>

// // //             <button
// // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // //               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //             >
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-5 w-5 mr-2 text-red-500"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1.5}
// // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // //                 />
// // //               </svg>
// // //               <span className="font-medium">Filter View</span>
// // //             </button>
// // //           </div>
// // //         </div>
// // //       </div>

// // //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// // //         <div className="w-full px-8 pt-10">
// // //           <div className={`relative transition-all duration-500 ${searchFocused ? "scale-105" : ""}`}>
// // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className={`h-5 w-5 transition-all duration-300 ${
// // //                   searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // //                 }`}
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //                 strokeWidth={1.5}
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // //                 />
// // //               </svg>
// // //             </span>
// // //             <input
// // //               type="text"
// // //               placeholder="Search by name, email, or membership status"
// // //               className={`w-full bg-gray-800/50 backdrop-blur-sm border
// // //                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
// // //                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
// // //                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50
// // //                 transition-all duration-300 text-lg bg-white dark:bg-gray-800`}
// // //               value={searchTerm}
// // //               onChange={(e) => setSearchTerm(e.target.value)}
// // //               onFocus={() => setSearchFocused(true)}
// // //               onBlur={() => setSearchFocused(false)}
// // //             />
// // //           </div>
// // //         </div>
// // //       </div>

// // //       {(filterCriteria.age || filterCriteria.gender.length > 0 || 
// // //         filterCriteria.membership_plan.length > 0 || 
// // //         filterCriteria.membership_status.length > 0 ||
// // //         filterCriteria.dateRange.start || filterCriteria.dateRange.end ||
// // //         filterCriteria.pincode || filterCriteria.emergency_contact) && (
// // //         <div className="w-full px-8 pt-4">
// // //           <button
// // //             onClick={resetFilters}
// // //             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //           >
// // //             Clear Filters
// // //           </button>
// // //         </div>
// // //       )}

// // //       {viewMode === "table" ? (
// // //         <div className="w-full px-8 pt-10 pb-12">
// // //           {filteredMembers.length === 0 ? (
// // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-20 w-20 mb-6 text-gray-600"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1}
// // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // //                 />
// // //               </svg>
// // //               <p className="text-2xl font-light tracking-wider">
// // //                 No members found.
// // //               </p>
// // //             </div>
// // //           ) : (
// // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // //               <div className="overflow-x-auto">
// // //                 <table className="w-full divide-y divide-gray-800">
// // //                   <thead>
// // //                     <tr className="bg-gray-900/50">
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Membership ID
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Photo
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Full Name
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Email
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Phone Number
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Age
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Gender
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Trainer Name
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Membership Plan
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Contract Date
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Renewal Date
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Pincode
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Emergency Contact
// // //                       </th>
// // //                     </tr>
// // //                   </thead>
// // //                   <tbody className="divide-y divide-gray-800">
// // //                     {filteredMembers.map((member) => (
// // //                       <tr
// // //                         key={member.membershipID}
// // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // //                       >
// // //                         <td className="py-5 px-6 text-sm font-light">
// // //                           {member.membershipID}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm">
// // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform">
// // //                             <User size={20} />
// // //                           </div>
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="text"
// // //                               name="full_name"
// // //                               value={formData.full_name}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                             />
// // //                           ) : (
// // //                             member.full_name
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="email"
// // //                               name="email"
// // //                               value={formData.email}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                             />
// // //                           ) : (
// // //                             member.email
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="text"
// // //                               name="phone_number"
// // //                               value={formData.phone_number}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                             />
// // //                           ) : (
// // //                             member.phone_number
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="number"
// // //                               name="age"
// // //                               value={formData.age}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                             />
// // //                           ) : (
// // //                             member.age
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="gender"
// // //                               value={formData.gender}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                             >
// // //                               <option value="Male">Male</option>
// // //                               <option value="Female">Female</option>
// // //                               <option value="Other">Other</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.gender
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="trainer_name"
// // //                               value={formData.trainer_name}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                             >
// // //                               <option value="Trainer1">Trainer1</option>
// // //                               <option value="Trainer2">Trainer2</option>
// // //                               <option value="Trainer3">Trainer3</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.trainer_name
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="membership_plan"
// // //                               value={formData.membership_plan}
// // //                               onChange={handleChange}
// // //                               className="bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                             >
// // //                               <option value="Monthly">Monthly</option>
// // //                               <option value="Quarterly">Quarterly</option>
// // //                               <option value="Yearly">Yearly</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.membership_plan
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.payment_date}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.renewal_date}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.pincode}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.emergency_contact}
// // //                         </td>
// // //                       </tr>
// // //                     ))}
// // //                   </tbody>
// // //                 </table>
// // //               </div>
// // //             </div>
// // //           )}
// // //         </div>
// // //       ) : (
// // //         <div className="w-full px-8 pt-10 pb-12">
// // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // //             {filteredMembers.map((member) => (
// // //               <div
// // //                 key={member.membershipID}
// // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300"
// // //               >
// // //                 <div className="flex items-center space-x-4">
// // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full">
// // //                     <User size={20} />
// // //                   </div>
// // //                   <div>
// // //                     <h3 className="text-lg font-medium text-white">
// // //                       {member.full_name}
// // //                     </h3>
// // //                     <p className="text-sm text-gray-300">
// // //                       {member.email}
// // //                     </p>
// // //                   </div>
// // //                 </div>
// // //                 <div className="mt-4 space-y-2">
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Membership ID:</span>{" "}
// // //                     {member.membershipID}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Phone Number:</span>{" "}
// // //                     {member.phone_number}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Age:</span>{" "}
// // //                     {member.age}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Gender:</span>{" "}
// // //                     {member.gender}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Trainer Name:</span>{" "}
// // //                     {member.trainer_name}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // //                     {member.membership_plan}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Contract Date:</span>{" "}
// // //                     {member.payment_date}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Renewal Date:</span>{" "}
// // //                     {member.renewal_date}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Pincode:</span>{" "}
// // //                     {member.pincode}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Emergency Contact:</span>{" "}
// // //                     {member.emergency_contact}
// // //                   </p>
// // //                 </div>
// // //               </div>
// // //             ))}
// // //           </div>
// // //           {filteredMembers.length === 0 && (
// // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-20 w-20 mb-6 text-gray-600"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1}
// // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // //                 />
// // //               </svg>
// // //               <p className="text-2xl font-light tracking-wider">
// // //                 No members found.
// // //               </p>
// // //             </div>
// // //           )}
// // //         </div>
// // //       )}

// // //       {showFilterModal && (
// // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // //           <div
// // //             className="absolute inset-0 bg-black opacity-60"
// // //             onClick={() => setShowFilterModal(false)}
// // //           ></div>
// // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg max-h-[90vh] overflow-y-auto">
// // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // //               Filter Members
// // //             </h2>
// // //             <div className="space-y-6 pb-6">
// // //               <div>
// // //                 <label className="block text-white mb-2">Age</label>
// // //                 <input
// // //                   type="number"
// // //                   value={filterCriteria.age}
// // //                   onChange={(e) => setFilterCriteria({...filterCriteria, age: e.target.value})}
// // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                   placeholder="Enter age"
// // //                 />
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">Gender</label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Male", "Female", "Other"].map((gender) => (
// // //                     <div
// // //                       key={gender}
// // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // //                         filterCriteria.gender.includes(gender)
// // //                           ? "border-red-500 bg-red-900/30 text-white"
// // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // //                       } focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50`}
// // //                       onClick={() => {
// // //                         if (filterCriteria.gender.includes(gender)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             gender: filterCriteria.gender.filter(
// // //                               (g) => g !== gender
// // //                             ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             gender: [...filterCriteria.gender, gender],
// // //                           });
// // //                         }
// // //                       }}
// // //                       tabIndex={0}
// // //                     >
// // //                       {gender}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">Membership Plan</label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // //                     <div
// // //                       key={plan}
// // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // //                         filterCriteria.membership_plan.includes(plan)
// // //                           ? "border-red-500 bg-red-900/30 text-white"
// // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // //                       } focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50`}
// // //                       onClick={() => {
// // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_plan:
// // //                               filterCriteria.membership_plan.filter(
// // //                                 (p) => p !== plan
// // //                               ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_plan: [
// // //                               ...filterCriteria.membership_plan,
// // //                               plan,
// // //                             ],
// // //                           });
// // //                         }
// // //                       }}
// // //                       tabIndex={0}
// // //                     >
// // //                       {plan}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">
// // //                   Membership Status
// // //                 </label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Active", "Inactive"].map((status) => (
// // //                     <div
// // //                       key={status}
// // //                       className={`border rounded-lg p-2 cursor-pointer transition-colors ${
// // //                         filterCriteria.membership_status.includes(status)
// // //                           ? "border-red-500 bg-red-900/30 text-white"
// // //                           : "border-gray-700 bg-gray-800 text-gray-400"
// // //                       } focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50`}
// // //                       onClick={() => {
// // //                         if (filterCriteria.membership_status.includes(status)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_status:
// // //                               filterCriteria.membership_status.filter(
// // //                                 (s) => s !== status
// // //                               ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_status: [
// // //                               ...filterCriteria.membership_status,
// // //                               status,
// // //                             ],
// // //                           });
// // //                         }
// // //                       }}
// // //                       tabIndex={0}
// // //                     >
// // //                       {status}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">Pincode</label>
// // //                 <input
// // //                   type="text"
// // //                   value={filterCriteria.pincode}
// // //                   onChange={(e) => setFilterCriteria({...filterCriteria, pincode: e.target.value})}
// // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                   placeholder="Enter pincode"
// // //                 />
// // //               </div>
// // //               <div>
// // //                 <label className="block text-white mb-2">
// // //                   Emergency Contact
// // //                 </label>
// // //                 <input
// // //                   type="text"
// // //                   value={filterCriteria.emergency_contact}
// // //                   onChange={(e) => setFilterCriteria({...filterCriteria, emergency_contact: e.target.value})}
// // //                   className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                   placeholder="Enter emergency contact"
// // //                 />
// // //               </div>
// // //               <div className="grid grid-cols-2 gap-4">
// // //                 <div>
// // //                   <label className="block text-white mb-2">Contract Date</label>
// // //                   <input
// // //                     type="date"
// // //                     value={filterCriteria.dateRange.start}
// // //                     onChange={(e) => setFilterCriteria({
// // //                       ...filterCriteria,
// // //                       dateRange: {
// // //                         ...filterCriteria.dateRange,
// // //                         start: e.target.value,
// // //                       },
// // //                     })}
// // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                   />
// // //                 </div>
// // //                 <div>
// // //                   <label className="block text-white mb-2">Renewal Date</label>
// // //                   <input
// // //                     type="date"
// // //                     value={filterCriteria.dateRange.end}
// // //                     onChange={(e) => setFilterCriteria({
// // //                       ...filterCriteria,
// // //                       dateRange: {
// // //                         ...filterCriteria.dateRange,
// // //                         end: e.target.value,
// // //                       },
// // //                     })}
// // //                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //                   />
// // //                 </div>
// // //               </div>
// // //             </div>
// // //             <div className="flex space-x-4 pt-4">
// // //               <button
// // //                 onClick={() => setShowFilterModal(false)}
// // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //               >
// // //                 Cancel
// // //               </button>
// // //               <button
// // //                 onClick={applyFilter}
// // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //               >
// // //                 Apply Filters
// // //               </button>
// // //             </div>
// // //           </div>
// // //         </div>
// // //       )}

// // //       {showConfirmDialog && (
// // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // //           <div
// // //             className="absolute inset-0 bg-black opacity-60"
// // //             onClick={() => setShowConfirmDialog(false)}
// // //           ></div>
// // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // //               Confirm Delete
// // //             </h2>
// // //             <p className="text-gray-300 mb-6 text-center">
// // //               Are you sure you want to delete{" "}
// // //               <span className="font-medium text-white">
// // //                 {memberToDelete?.full_name}
// // //               </span>
// // //               ? This action cannot be undone after 5 seconds.
// // //             </p>
// // //             <div className="flex space-x-4">
// // //               <button
// // //                 onClick={() => setShowConfirmDialog(false)}
// // //                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //               >
// // //                 Cancel
// // //               </button>
// // //               <button
// // //                 onClick={() => {
// // //                   if (memberToDelete) {
// // //                     handleDelete(memberToDelete.membershipID);
// // //                   }
// // //                 }}
// // //                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
// // //               >
// // //                 Delete
// // //               </button>
// // //             </div>
// // //           </div>
// // //         </div>
// // //       )}

// // //       {deletedMember && undoTimer > 0 && (
// // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // //           <p className="text-gray-300">
// // //             <span className="font-medium text-white">
// // //               {deletedMember.full_name}
// // //             </span>{" "}
// // //             deleted
// // //           </p>
// // //           <button
// // //             onClick={handleUndoDelete}
// // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 rounded"
// // //           >
// // //             <Undo size={16} />
// // //             <span>Undo ({undoTimer}s)</span>
// // //           </button>
// // //         </div>
// // //       )}

// // //       {saveSuccess && (
// // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // //           <svg
// // //             xmlns="http://www.w3.org/2000/svg"
// // //             className="h-6 w-6 text-green-500"
// // //             fill="none"
// // //             viewBox="0 0 24 24"
// // //             stroke="currentColor"
// // //           >
// // //             <path
// // //               strokeLinecap="round"
// // //               strokeLinejoin="round"
// // //               strokeWidth={2}
// // //               d="M5 13l4 4L19 7"
// // //             />
// // //           </svg>
// // //           <p className="text-green-300">Member updated successfully!</p>
// // //         </div>
// // //       )}
// // //     </div>
// // //   );
// // // };

// // // export default MembersPage;
// // // "use client";

// // // import { useState, useEffect } from "react";
// // // import { useRouter } from "next/navigation";
// // // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // // const MembersPage = () => {
// // //   const router = useRouter();
// // //   const [members, setMembers] = useState([]);
// // //   const [isLoading, setIsLoading] = useState(true);
// // //   const [error, setError] = useState(null);
// // //   const [searchTerm, setSearchTerm] = useState("");
// // //   const [searchFocused, setSearchFocused] = useState(false);
// // //   const [showFilterModal, setShowFilterModal] = useState(false);
// // //   const [viewMode, setViewMode] = useState("table");
// // //   const [editingMember, setEditingMember] = useState(null);
// // //   const [deletedMember, setDeletedMember] = useState(null);
// // //   const [deleteTimer, setDeleteTimer] = useState(null);
// // //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// // //   const [memberToDelete, setMemberToDelete] = useState(null);
// // //   const [filterCriteria, setFilterCriteria] = useState({
// // //     age: "",
// // //     gender: [],
// // //     membership_plan: [],
// // //     membership_status: [],
// // //     dateRange: { start: "", end: "" },
// // //     pincode: "",
// // //     emergency_contact: "",
// // //   });
// // //   const [formData, setFormData] = useState({
// // //     full_name: "",
// // //     email: "",
// // //     phone_number: "",
// // //     age: "",
// // //     gender: "",
// // //     trainer_name: "",
// // //     password: "",
// // //     membership_plan: "",
// // //     amount_Paid: "",
// // //     payment_status: "",
// // //     membership_status: "",
// // //     payment_date: "",
// // //     renewal_date: "",
// // //     pincode: "",
// // //     emergency_contact: "",
// // //   });
// // //   const [saveSuccess, setSaveSuccess] = useState(false);
// // //   const [undoTimer, setUndoTimer] = useState(5);

// // //   // Reusable class constants for consistent styling
// // //   const viewModeButtonClasses = "w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95";
// // //   const filterButtonClasses = "w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95";
// // //   const searchInputClasses = "w-full bg-gray-800/50 backdrop-blur-sm border border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition-all duration-300 text-lg bg-white dark:bg-gray-800 active:ring-2 active:ring-red-500";
// // //   const clearFiltersButtonClasses = "bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95";
// // //   const filterOptionClasses = (isSelected) => `border rounded-lg p-2 cursor-pointer transition-all duration-100 ${isSelected ? "border-red-500 bg-red-900/30 text-white" : "border-gray-700 bg-gray-800 text-gray-400"} focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95`;
// // //   const filterInputClasses = "w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500";
// // //   const modalActionButtonClasses = "flex-1 py-3 rounded-lg transition-all duration-100 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95";
// // //   const confirmDialogButtonClasses = "flex-1 py-3 rounded-lg transition-all duration-100 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95";
// // //   const tableEditInputClasses = "bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500";

// // //   useEffect(() => {
// // //     const fetchMembers = async () => {
// // //       try {
// // //         const response = await fetch("http://localhost:5000/api/admin/members", {
// // //           method: "GET",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //         });
// // //         if (!response.ok) {
// // //           throw new Error(`HTTP error! Status: ${response.status}`);
// // //         }
// // //         const data = await response.json();
// // //         const formattedMembers = data.map((member) => ({
// // //           ...member,
// // //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// // //           pincode: member.pincode || "",
// // //           emergency_contact: member.emergency_contact || "",
// // //         }));

// // //         setMembers(formattedMembers);
// // //         setError(null);
// // //       } catch (err) {
// // //         setError("Failed to fetch members: " + err.message);
// // //         console.error("Error fetching members:", err);
// // //       } finally {
// // //         setIsLoading(false);
// // //       }
// // //     };
// // //     fetchMembers();
// // //   }, []);

// // //   const filteredMembers = (members || []).filter((member) => {
// // //     const matchesSearch =
// // //       searchTerm === "" ||
// // //       member.full_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       member.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       member.membership_status?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       member.pincode?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// // //       member.emergency_contact?.toLowerCase().includes(searchTerm.toLowerCase());

// // //     const ageMatch =
// // //       filterCriteria.age === "" ||
// // //       member.age?.toString() === filterCriteria.age;

// // //     const genderMatch =
// // //       filterCriteria.gender.length === 0 ||
// // //       filterCriteria.gender.includes(member.gender);

// // //     const membershipPlanMatch =
// // //       filterCriteria.membership_plan.length === 0 ||
// // //       filterCriteria.membership_plan.includes(member.membership_plan);

// // //     const membershipStatusMatch =
// // //       filterCriteria.membership_status.length === 0 ||
// // //       filterCriteria.membership_status.includes(member.membership_status);

// // //     const memberPaymentDate = new Date(member.payment_date);
// // //     const matchesPaymentDate =
// // //       !filterCriteria.dateRange.start ||
// // //       memberPaymentDate >= new Date(filterCriteria.dateRange.start);
// // //     const memberRenewalDate = new Date(member.renewal_date);
// // //     const matchesRenewalDate =
// // //       !filterCriteria.dateRange.end ||
// // //       memberRenewalDate <= new Date(filterCriteria.dateRange.end);

// // //     const pincodeMatch =
// // //       filterCriteria.pincode === "" ||
// // //       member.pincode?.includes(filterCriteria.pincode);

// // //     const emergencyContactMatch =
// // //       filterCriteria.emergency_contact === "" ||
// // //       member.emergency_contact?.includes(filterCriteria.emergency_contact);

// // //     return (
// // //       matchesSearch &&
// // //       ageMatch &&
// // //       genderMatch &&
// // //       membershipPlanMatch &&
// // //       membershipStatusMatch &&
// // //       matchesPaymentDate &&
// // //       matchesRenewalDate &&
// // //       pincodeMatch &&
// // //       emergencyContactMatch
// // //     );
// // //   });

// // //   const handleEdit = (member) => {
// // //     if (!member || !member.membershipID) return;
// // //     setEditingMember(member.membershipID);
// // //     setFormData({
// // //       full_name: member.full_name || "",
// // //       email: member.email || "",
// // //       phone_number: member.phone_number || "",
// // //       age: member.age || "",
// // //       gender: member.gender || "",
// // //       trainer_name: member.trainer_name || "",
// // //       password: member.password || "",
// // //       membership_plan: member.membership_plan || "",
// // //       amount_Paid: member.amount_Paid || 0,
// // //       payment_status: member.payment_status || "",
// // //       membership_status: member.membership_status || "",
// // //       payment_date: member.payment_date || "",
// // //       renewal_date: member.renewal_date || "",
// // //       pincode: member.pincode || "",
// // //       emergency_contact: member.emergency_contact || "",
// // //     });
// // //   };

// // //   const handleChange = (e) => {
// // //     const { name, value } = e.target;
// // //     setFormData((prev) => ({
// // //       ...prev,
// // //       [name]: value,
// // //     }));
// // //   };

// // //   const handleSave = async () => {
// // //     if (!editingMember) {
// // //       console.error("Error: No member is currently being edited.");
// // //       return;
// // //     }

// // //     const membershipID = editingMember;

// // //     try {
// // //       const trainerResponse = await fetch(
// // //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// // //         {
// // //           method: "GET",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //         }
// // //       );

// // //       if (!trainerResponse.ok) {
// // //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// // //       }

// // //       const dataToSend = {
// // //         ...formData,
// // //         amount_Paid: parseFloat(formData.amount_Paid) || 0,
// // //         membershipID: membershipID,
// // //       };

// // //       const response = await fetch(
// // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // //         {
// // //           method: "PUT",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //           body: JSON.stringify(dataToSend),
// // //         }
// // //       );

// // //       if (!response.ok) {
// // //         const errorText = await response.text();
// // //         throw new Error(
// // //           `HTTP error! Status: ${response.status}, Response: ${errorText}`
// // //         );
// // //       }

// // //       const updatedMember = await response.json();
// // //       setMembers((prevMembers) =>
// // //         prevMembers.map((member) =>
// // //           member.membershipID === membershipID
// // //             ? { ...member, ...dataToSend }
// // //             : member
// // //         )
// // //       );

// // //       setEditingMember(null);
// // //       setSaveSuccess(true);
// // //       setTimeout(() => setSaveSuccess(false), 3000);
// // //     } catch (err) {
// // //       console.error("Error updating member:", err);
// // //       alert(err.message);
// // //     }
// // //   };

// // //   const confirmDelete = (member) => {
// // //     if (!member) return;
// // //     setMemberToDelete(member);
// // //     setShowConfirmDialog(true);
// // //   };

// // //   const handleDelete = async (membershipID) => {
// // //     setShowConfirmDialog(false);
// // //     const memberToDeleteObj = members.find(
// // //       (m) => m.membershipID === membershipID
// // //     );
// // //     if (!memberToDeleteObj) {
// // //       console.error("Member not found");
// // //       return;
// // //     }
// // //     setDeletedMember(memberToDeleteObj);
// // //     setMembers(
// // //       members.filter((member) => member.membershipID !== membershipID)
// // //     );

// // //     setUndoTimer(5);
// // //     const timer = setInterval(() => {
// // //       setUndoTimer((prev) => {
// // //         if (prev === 1) {
// // //           clearInterval(timer);
// // //           deleteMemberFromDatabase(membershipID);
// // //           return 0;
// // //         }
// // //         return prev - 1;
// // //       });
// // //     }, 1000);
// // //     setDeleteTimer(timer);
// // //   };

// // //   const deleteMemberFromDatabase = async (membershipID) => {
// // //     try {
// // //       const response = await fetch(
// // //         `http://localhost:5000/api/admin/members/${membershipID}`,
// // //         {
// // //           method: "DELETE",
// // //           headers: {
// // //             "Content-Type": "application/json",
// // //           },
// // //         }
// // //       );
// // //       if (!response.ok) {
// // //         throw new Error(`HTTP error! Status: ${response.status}`);
// // //       }
// // //       setDeletedMember(null);
// // //     } catch (err) {
// // //       console.error("Error deleting member:", err);
// // //       setMembers((prev) => [...prev, deletedMember]);
// // //     }
// // //   };

// // //   const handleUndoDelete = () => {
// // //     if (deleteTimer) {
// // //       clearInterval(deleteTimer);
// // //       setDeleteTimer(null);
// // //     }
// // //     if (deletedMember) {
// // //       setMembers((prev) => [...prev, deletedMember]);
// // //       setDeletedMember(null);
// // //     }
// // //     setUndoTimer(0);
// // //   };

// // //   const toggleViewMode = () => {
// // //     setViewMode(viewMode === "table" ? "card" : "table");
// // //   };

// // //   const applyFilter = () => {
// // //     setShowFilterModal(false);
// // //   };

// // //   const resetFilters = () => {
// // //     setFilterCriteria({
// // //       age: "",
// // //       gender: [],
// // //       membership_plan: [],
// // //       membership_status: [],
// // //       dateRange: { start: "", end: "" },
// // //       pincode: "",
// // //       emergency_contact: "",
// // //     });
// // //   };

// // //   if (isLoading) return (
// // //     <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// // //       <div className="text-center">
// // //         <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// // //         <p className="text-2xl font-light tracking-wider">Loading members...</p>
// // //       </div>
// // //     </div>
// // //   );

// // //   if (error) return (
// // //     <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// // //       <div className="text-center">
// // //         <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// // //       </div>
// // //     </div>
// // //   );

// // //   return (
// // //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// // //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// // //         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
// // //           <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 text-center md:text-left">
// // //             Members List
// // //           </h1>

// // //           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
// // //             <button
// // //               onClick={toggleViewMode}
// // //               className={viewModeButtonClasses}
// // //             >
// // //               {viewMode === "table" ? "Card View" : "Table View"}
// // //             </button>

// // //             <button
// // //               onClick={() => setShowFilterModal(!showFilterModal)}
// // //               className={filterButtonClasses}
// // //             >
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-5 w-5 mr-2 text-red-500"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1.5}
// // //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// // //                 />
// // //               </svg>
// // //               <span className="font-medium">Filter View</span>
// // //             </button>
// // //           </div>
// // //         </div>
// // //       </div>

// // //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// // //         <div className="w-full px-8 pt-10">
// // //           <div className={`relative transition-all duration-500 ${searchFocused ? "scale-105" : ""}`}>
// // //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className={`h-5 w-5 transition-all duration-300 ${
// // //                   searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// // //                 }`}
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //                 strokeWidth={1.5}
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// // //                 />
// // //               </svg>
// // //             </span>
// // //             <input
// // //               type="text"
// // //               placeholder="Search by name, email, or membership status"
// // //               className={searchInputClasses}
// // //               value={searchTerm}
// // //               onChange={(e) => setSearchTerm(e.target.value)}
// // //               onFocus={() => setSearchFocused(true)}
// // //               onBlur={() => setSearchFocused(false)}
// // //             />
// // //           </div>
// // //         </div>
// // //       </div>

// // //       {(filterCriteria.age || filterCriteria.gender.length > 0 || 
// // //         filterCriteria.membership_plan.length > 0 || 
// // //         filterCriteria.membership_status.length > 0 ||
// // //         filterCriteria.dateRange.start || filterCriteria.dateRange.end ||
// // //         filterCriteria.pincode || filterCriteria.emergency_contact) && (
// // //         <div className="w-full px-8 pt-4">
// // //           <button
// // //             onClick={resetFilters}
// // //             className={clearFiltersButtonClasses}
// // //           >
// // //             Clear Filters
// // //           </button>
// // //         </div>
// // //       )}

// // //       {viewMode === "table" ? (
// // //         <div className="w-full px-8 pt-10 pb-12">
// // //           {filteredMembers.length === 0 ? (
// // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-20 w-20 mb-6 text-gray-600"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1}
// // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // //                 />
// // //               </svg>
// // //               <p className="text-2xl font-light tracking-wider">
// // //                 No members found.
// // //               </p>
// // //             </div>
// // //           ) : (
// // //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// // //               <div className="overflow-x-auto">
// // //                 <table className="w-full divide-y divide-gray-800">
// // //                   <thead>
// // //                     <tr className="bg-gray-900/50">
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Membership ID
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Photo
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Full Name
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Email
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Phone Number
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Age
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Gender
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Trainer Name
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Membership Plan
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Contract Date
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Renewal Date
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Pincode
// // //                       </th>
// // //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// // //                         Emergency Contact
// // //                       </th>
// // //                     </tr>
// // //                   </thead>
// // //                   <tbody className="divide-y divide-gray-800">
// // //                     {filteredMembers.map((member) => (
// // //                       <tr
// // //                         key={member.membershipID}
// // //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// // //                       >
// // //                         <td className="py-5 px-6 text-sm font-light">
// // //                           {member.membershipID}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm">
// // //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform active:scale-95">
// // //                             <User size={20} />
// // //                           </div>
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-medium text-white">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="text"
// // //                               name="full_name"
// // //                               value={formData.full_name}
// // //                               onChange={handleChange}
// // //                               className={tableEditInputClasses}
// // //                             />
// // //                           ) : (
// // //                             member.full_name
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="email"
// // //                               name="email"
// // //                               value={formData.email}
// // //                               onChange={handleChange}
// // //                               className={tableEditInputClasses}
// // //                             />
// // //                           ) : (
// // //                             member.email
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="text"
// // //                               name="phone_number"
// // //                               value={formData.phone_number}
// // //                               onChange={handleChange}
// // //                               className={tableEditInputClasses}
// // //                             />
// // //                           ) : (
// // //                             member.phone_number
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <input
// // //                               type="number"
// // //                               name="age"
// // //                               value={formData.age}
// // //                               onChange={handleChange}
// // //                               className={tableEditInputClasses}
// // //                             />
// // //                           ) : (
// // //                             member.age
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="gender"
// // //                               value={formData.gender}
// // //                               onChange={handleChange}
// // //                               className={tableEditInputClasses}
// // //                             >
// // //                               <option value="Male">Male</option>
// // //                               <option value="Female">Female</option>
// // //                               <option value="Other">Other</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.gender
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="trainer_name"
// // //                               value={formData.trainer_name}
// // //                               onChange={handleChange}
// // //                               className={tableEditInputClasses}
// // //                             >
// // //                               <option value="Trainer1">Trainer1</option>
// // //                               <option value="Trainer2">Trainer2</option>
// // //                               <option value="Trainer3">Trainer3</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.trainer_name
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {editingMember === member.membershipID ? (
// // //                             <select
// // //                               name="membership_plan"
// // //                               value={formData.membership_plan}
// // //                               onChange={handleChange}
// // //                               className={tableEditInputClasses}
// // //                             >
// // //                               <option value="Monthly">Monthly</option>
// // //                               <option value="Quarterly">Quarterly</option>
// // //                               <option value="Yearly">Yearly</option>
// // //                             </select>
// // //                           ) : (
// // //                             member.membership_plan
// // //                           )}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.payment_date}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.renewal_date}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.pincode}
// // //                         </td>
// // //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// // //                           {member.emergency_contact}
// // //                         </td>
// // //                       </tr>
// // //                     ))}
// // //                   </tbody>
// // //                 </table>
// // //               </div>
// // //             </div>
// // //           )}
// // //         </div>
// // //       ) : (
// // //         <div className="w-full px-8 pt-10 pb-12">
// // //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// // //             {filteredMembers.map((member) => (
// // //               <div
// // //                 key={member.membershipID}
// // //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300 active:ring-2 active:ring-red-500"
// // //               >
// // //                 <div className="flex items-center space-x-4">
// // //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full active:scale-95">
// // //                     <User size={20} />
// // //                   </div>
// // //                   <div>
// // //                     <h3 className="text-lg font-medium text-white">
// // //                       {member.full_name}
// // //                     </h3>
// // //                     <p className="text-sm text-gray-300">
// // //                       {member.email}
// // //                     </p>
// // //                   </div>
// // //                 </div>
// // //                 <div className="mt-4 space-y-2">
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Membership ID:</span>{" "}
// // //                     {member.membershipID}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Phone Number:</span>{" "}
// // //                     {member.phone_number}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Age:</span>{" "}
// // //                     {member.age}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Gender:</span>{" "}
// // //                     {member.gender}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Trainer Name:</span>{" "}
// // //                     {member.trainer_name}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Membership Plan:</span>{" "}
// // //                     {member.membership_plan}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Contract Date:</span>{" "}
// // //                     {member.payment_date}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Renewal Date:</span>{" "}
// // //                     {member.renewal_date}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Pincode:</span>{" "}
// // //                     {member.pincode}
// // //                   </p>
// // //                   <p className="text-sm text-gray-300">
// // //                     <span className="font-medium">Emergency Contact:</span>{" "}
// // //                     {member.emergency_contact}
// // //                   </p>
// // //                 </div>
// // //               </div>
// // //             ))}
// // //           </div>
// // //           {filteredMembers.length === 0 && (
// // //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// // //               <svg
// // //                 xmlns="http://www.w3.org/2000/svg"
// // //                 className="h-20 w-20 mb-6 text-gray-600"
// // //                 fill="none"
// // //                 viewBox="0 0 24 24"
// // //                 stroke="currentColor"
// // //               >
// // //                 <path
// // //                   strokeLinecap="round"
// // //                   strokeLinejoin="round"
// // //                   strokeWidth={1}
// // //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// // //                 />
// // //               </svg>
// // //               <p className="text-2xl font-light tracking-wider">
// // //                 No members found.
// // //               </p>
// // //             </div>
// // //           )}
// // //         </div>
// // //       )}

// // //       {showFilterModal && (
// // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // //           <div
// // //             className="absolute inset-0 bg-black opacity-60"
// // //             onClick={() => setShowFilterModal(false)}
// // //           ></div>
// // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg max-h-[90vh] overflow-y-auto">
// // //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// // //               Filter Members
// // //             </h2>
// // //             <div className="space-y-6 pb-6">
// // //               <div>
// // //                 <label className="block text-white mb-2">Age</label>
// // //                 <input
// // //                   type="number"
// // //                   value={filterCriteria.age}
// // //                   onChange={(e) => setFilterCriteria({...filterCriteria, age: e.target.value})}
// // //                   className={filterInputClasses}
// // //                   placeholder="Enter age"
// // //                 />
// // //               </div>

// // //               <div>
// // //                 <label className="block text-white mb-2">Gender</label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Male", "Female", "Other"].map((gender) => (
// // //                     <div
// // //                       key={gender}
// // //                       className={filterOptionClasses(filterCriteria.gender.includes(gender))}
// // //                       onClick={() => {
// // //                         if (filterCriteria.gender.includes(gender)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             gender: filterCriteria.gender.filter(
// // //                               (g) => g !== gender
// // //                             ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             gender: [...filterCriteria.gender, gender],
// // //                           });
// // //                         }
// // //                       }}
// // //                       tabIndex={0}
// // //                     >
// // //                       {gender}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>

// // //               <div>
// // //                 <label className="block text-white mb-2">Membership Plan</label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// // //                     <div
// // //                       key={plan}
// // //                       className={filterOptionClasses(filterCriteria.membership_plan.includes(plan))}
// // //                       onClick={() => {
// // //                         if (filterCriteria.membership_plan.includes(plan)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_plan:
// // //                               filterCriteria.membership_plan.filter(
// // //                                 (p) => p !== plan
// // //                               ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_plan: [
// // //                               ...filterCriteria.membership_plan,
// // //                               plan,
// // //                             ],
// // //                           });
// // //                         }
// // //                       }}
// // //                       tabIndex={0}
// // //                     >
// // //                       {plan}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>

// // //               <div>
// // //                 <label className="block text-white mb-2">
// // //                   Membership Status
// // //                 </label>
// // //                 <div className="grid grid-cols-3 gap-2">
// // //                   {["Active", "Inactive"].map((status) => (
// // //                     <div
// // //                       key={status}
// // //                       className={filterOptionClasses(filterCriteria.membership_status.includes(status))}
// // //                       onClick={() => {
// // //                         if (filterCriteria.membership_status.includes(status)) {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_status:
// // //                               filterCriteria.membership_status.filter(
// // //                                 (s) => s !== status
// // //                               ),
// // //                           });
// // //                         } else {
// // //                           setFilterCriteria({
// // //                             ...filterCriteria,
// // //                             membership_status: [
// // //                               ...filterCriteria.membership_status,
// // //                               status,
// // //                             ],
// // //                           });
// // //                         }
// // //                       }}
// // //                       tabIndex={0}
// // //                     >
// // //                       {status}
// // //                     </div>
// // //                   ))}
// // //                 </div>
// // //               </div>

// // //               <div>
// // //                 <label className="block text-white mb-2">Pincode</label>
// // //                 <input
// // //                   type="text"
// // //                   value={filterCriteria.pincode}
// // //                   onChange={(e) => setFilterCriteria({...filterCriteria, pincode: e.target.value})}
// // //                   className={filterInputClasses}
// // //                   placeholder="Enter pincode"
// // //                 />
// // //               </div>

// // //               <div>
// // //                 <label className="block text-white mb-2">
// // //                   Emergency Contact
// // //                 </label>
// // //                 <input
// // //                   type="text"
// // //                   value={filterCriteria.emergency_contact}
// // //                   onChange={(e) => setFilterCriteria({...filterCriteria, emergency_contact: e.target.value})}
// // //                   className={filterInputClasses}
// // //                   placeholder="Enter emergency contact"
// // //                 />
// // //               </div>

// // //               <div className="grid grid-cols-2 gap-4">
// // //                 <div>
// // //                   <label className="block text-white mb-2">Contract Date</label>
// // //                   <input
// // //                     type="date"
// // //                     value={filterCriteria.dateRange.start}
// // //                     onChange={(e) => setFilterCriteria({
// // //                       ...filterCriteria,
// // //                       dateRange: {
// // //                         ...filterCriteria.dateRange,
// // //                         start: e.target.value,
// // //                       },
// // //                     })}
// // //                     className={filterInputClasses}
// // //                   />
// // //                 </div>
// // //                 <div>
// // //                   <label className="block text-white mb-2">Renewal Date</label>
// // //                   <input
// // //                     type="date"
// // //                     value={filterCriteria.dateRange.end}
// // //                     onChange={(e) => setFilterCriteria({
// // //                       ...filterCriteria,
// // //                       dateRange: {
// // //                         ...filterCriteria.dateRange,
// // //                         end: e.target.value,
// // //                       },
// // //                     })}
// // //                     className={filterInputClasses}
// // //                   />
// // //                 </div>
// // //               </div>
// // //             </div>
// // //             <div className="flex space-x-4 pt-4">
// // //               <button
// // //                 onClick={() => setShowFilterModal(false)}
// // //                 className={`${modalActionButtonClasses} bg-gray-800 border border-gray-700 text-white hover:border-red-500`}
// // //               >
// // //                 Cancel
// // //               </button>
// // //               <button
// // //                 onClick={applyFilter}
// // //                 className={`${modalActionButtonClasses} bg-red-500 text-white hover:bg-red-600`}
// // //               >
// // //                 Apply Filters
// // //               </button>
// // //             </div>
// // //           </div>
// // //         </div>
// // //       )}

// // //       {showConfirmDialog && (
// // //         <div className="fixed inset-0 flex items-center justify-center z-50">
// // //           <div
// // //             className="absolute inset-0 bg-black opacity-60"
// // //             onClick={() => setShowConfirmDialog(false)}
// // //           ></div>
// // //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// // //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// // //               Confirm Delete
// // //             </h2>
// // //             <p className="text-gray-300 mb-6 text-center">
// // //               Are you sure you want to delete{" "}
// // //               <span className="font-medium text-white">
// // //                 {memberToDelete?.full_name}
// // //               </span>
// // //               ? This action cannot be undone after 5 seconds.
// // //             </p>
// // //             <div className="flex space-x-4">
// // //               <button
// // //                 onClick={() => setShowConfirmDialog(false)}
// // //                 className={`${confirmDialogButtonClasses} bg-gray-800 border border-gray-700 text-white hover:border-red-500`}
// // //               >
// // //                 Cancel
// // //               </button>
// // //               <button
// // //                 onClick={() => {
// // //                   if (memberToDelete) {
// // //                     handleDelete(memberToDelete.membershipID);
// // //                   }
// // //                 }}
// // //                 className={`${confirmDialogButtonClasses} bg-red-500 text-white hover:bg-red-600`}
// // //               >
// // //                 Delete
// // //               </button>
// // //             </div>
// // //           </div>
// // //         </div>
// // //       )}

// // //       {deletedMember && undoTimer > 0 && (
// // //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // //           <p className="text-gray-300">
// // //             <span className="font-medium text-white">
// // //               {deletedMember.full_name}
// // //             </span>{" "}
// // //             deleted
// // //           </p>
// // //           <button
// // //             onClick={handleUndoDelete}
// // //             className="flex items-center space-x-1 text-red-500 hover:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 rounded active:ring-2 active:ring-red-500 active:scale-95"
// // //           >
// // //             <Undo size={16} />
// // //             <span>Undo ({undoTimer}s)</span>
// // //           </button>
// // //         </div>
// // //       )}

// // //       {saveSuccess && (
// // //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// // //           <svg
// // //             xmlns="http://www.w3.org/2000/svg"
// // //             className="h-6 w-6 text-green-500"
// // //             fill="none"
// // //             viewBox="0 0 24 24"
// // //             stroke="currentColor"
// // //           >
// // //             <path
// // //               strokeLinecap="round"
// // //               strokeLinejoin="round"
// // //               strokeWidth={2}
// // //               d="M5 13l4 4L19 7"
// // //             />
// // //           </svg>
// // //           <p className="text-green-300">Member updated successfully!</p>
// // //         </div>
// // //       )}
// // //     </div>
// // //   );
// // // };

// // // export default MembersPage;
// // "use client";

// // import { useState, useEffect } from "react";
// // import { useRouter } from "next/navigation";
// // import { Edit, Trash, Save, Undo, Plus, User } from "lucide-react";

// // const MembersPage = () => {
// //   const router = useRouter();
// //   const [members, setMembers] = useState([]);
// //   const [isLoading, setIsLoading] = useState(true);
// //   const [error, setError] = useState(null);
// //   const [searchTerm, setSearchTerm] = useState("");
// //   const [searchFocused, setSearchFocused] = useState(false);
// //   const [showFilterModal, setShowFilterModal] = useState(false);
// //   const [viewMode, setViewMode] = useState("table");
// //   const [editingMember, setEditingMember] = useState(null);
// //   const [deletedMember, setDeletedMember] = useState(null);
// //   const [deleteTimer, setDeleteTimer] = useState(null);
// //   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
// //   const [memberToDelete, setMemberToDelete] = useState(null);
// //   const [filterCriteria, setFilterCriteria] = useState({
// //     age: "",
// //     gender: [],
// //     membership_plan: [],
// //     membership_status: [],
// //     dateRange: { start: "", end: "" },
// //     pincode: "",
// //     emergency_contact: "",
// //   });
// //   const [formData, setFormData] = useState({
// //     full_name: "",
// //     email: "",
// //     phone_number: "",
// //     age: "",
// //     gender: "",
// //     trainer_name: "",
// //     password: "",
// //     membership_plan: "",
// //     amount_Paid: "",
// //     payment_status: "",
// //     membership_status: "",
// //     payment_date: "",
// //     renewal_date: "",
// //     pincode: "",
// //     emergency_contact: "",
// //   });
// //   const [saveSuccess, setSaveSuccess] = useState(false);
// //   const [undoTimer, setUndoTimer] = useState(5);

// //   // Reusable class constants for consistent styling
// //   const viewModeButtonClasses = "w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95 hover:ring-2 hover:ring-red-500";
// //   const filterButtonClasses = "w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95 hover:ring-2 hover:ring-red-500";
// //   const searchInputClasses = "w-full bg-gray-800/50 backdrop-blur-sm border border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition-all duration-300 text-lg bg-white dark:bg-gray-800 active:ring-2 active:ring-red-500 hover:ring-2 hover:ring-red-500";
// //   const clearFiltersButtonClasses = "bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95 hover:ring-2 hover:ring-red-500";
// //   const filterOptionClasses = (isSelected) => `border rounded-lg p-2 cursor-pointer transition-all duration-100 ${isSelected ? "border-red-500 bg-red-900/30 text-white" : "border-gray-700 bg-gray-800 text-gray-400"} focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95 hover:ring-2 hover:ring-red-500`;
// //   const filterInputClasses = "w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 hover:ring-2 hover:ring-red-500";
// //   const modalActionButtonClasses = "flex-1 py-3 rounded-lg transition-all duration-100 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95 hover:ring-2 hover:ring-red-500";
// //   const confirmDialogButtonClasses = "flex-1 py-3 rounded-lg transition-all duration-100 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 active:scale-95 hover:ring-2 hover:ring-red-500";
// //   const tableEditInputClasses = "bg-gray-700 text-white p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 active:ring-2 active:ring-red-500 hover:ring-2 hover:ring-red-500";
// //   const undoDeleteButtonClasses = "flex items-center space-x-1 text-red-500 hover:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 rounded active:ring-2 active:ring-red-500 active:scale-95 hover:ring-2 hover:ring-red-500";

// //   useEffect(() => {
// //     const fetchMembers = async () => {
// //       try {
// //         const response = await fetch("http://localhost:5000/api/admin/members", {
// //           method: "GET",
// //           headers: {
// //             "Content-Type": "application/json",
// //           },
// //         });
// //         if (!response.ok) {
// //           throw new Error(`HTTP error! Status: ${response.status}`);
// //         }
// //         const data = await response.json();
// //         const formattedMembers = data.map((member) => ({
// //           ...member,
// //           amount_Paid: parseFloat(member.amount_Paid) || 0,
// //           pincode: member.pincode || "",
// //           emergency_contact: member.emergency_contact || "",
// //         }));

// //         setMembers(formattedMembers);
// //         setError(null);
// //       } catch (err) {
// //         setError("Failed to fetch members: " + err.message);
// //         console.error("Error fetching members:", err);
// //       } finally {
// //         setIsLoading(false);
// //       }
// //     };
// //     fetchMembers();
// //   }, []);

// //   const filteredMembers = (members || []).filter((member) => {
// //     const matchesSearch =
// //       searchTerm === "" ||
// //       member.full_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// //       member.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// //       member.membership_status?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// //       member.pincode?.toLowerCase().includes(searchTerm.toLowerCase()) ||
// //       member.emergency_contact?.toLowerCase().includes(searchTerm.toLowerCase());

// //     const ageMatch =
// //       filterCriteria.age === "" ||
// //       member.age?.toString() === filterCriteria.age;

// //     const genderMatch =
// //       filterCriteria.gender.length === 0 ||
// //       filterCriteria.gender.includes(member.gender);

// //     const membershipPlanMatch =
// //       filterCriteria.membership_plan.length === 0 ||
// //       filterCriteria.membership_plan.includes(member.membership_plan);

// //     const membershipStatusMatch =
// //       filterCriteria.membership_status.length === 0 ||
// //       filterCriteria.membership_status.includes(member.membership_status);

// //     const memberPaymentDate = new Date(member.payment_date);
// //     const matchesPaymentDate =
// //       !filterCriteria.dateRange.start ||
// //       memberPaymentDate >= new Date(filterCriteria.dateRange.start);
// //     const memberRenewalDate = new Date(member.renewal_date);
// //     const matchesRenewalDate =
// //       !filterCriteria.dateRange.end ||
// //       memberRenewalDate <= new Date(filterCriteria.dateRange.end);

// //     const pincodeMatch =
// //       filterCriteria.pincode === "" ||
// //       member.pincode?.includes(filterCriteria.pincode);

// //     const emergencyContactMatch =
// //       filterCriteria.emergency_contact === "" ||
// //       member.emergency_contact?.includes(filterCriteria.emergency_contact);

// //     return (
// //       matchesSearch &&
// //       ageMatch &&
// //       genderMatch &&
// //       membershipPlanMatch &&
// //       membershipStatusMatch &&
// //       matchesPaymentDate &&
// //       matchesRenewalDate &&
// //       pincodeMatch &&
// //       emergencyContactMatch
// //     );
// //   });

// //   const handleEdit = (member) => {
// //     if (!member || !member.membershipID) return;
// //     setEditingMember(member.membershipID);
// //     setFormData({
// //       full_name: member.full_name || "",
// //       email: member.email || "",
// //       phone_number: member.phone_number || "",
// //       age: member.age || "",
// //       gender: member.gender || "",
// //       trainer_name: member.trainer_name || "",
// //       password: member.password || "",
// //       membership_plan: member.membership_plan || "",
// //       amount_Paid: member.amount_Paid || 0,
// //       payment_status: member.payment_status || "",
// //       membership_status: member.membership_status || "",
// //       payment_date: member.payment_date || "",
// //       renewal_date: member.renewal_date || "",
// //       pincode: member.pincode || "",
// //       emergency_contact: member.emergency_contact || "",
// //     });
// //   };

// //   const handleChange = (e) => {
// //     const { name, value } = e.target;
// //     setFormData((prev) => ({
// //       ...prev,
// //       [name]: value,
// //     }));
// //   };

// //   const handleSave = async () => {
// //     if (!editingMember) {
// //       console.error("Error: No member is currently being edited.");
// //       return;
// //     }

// //     const membershipID = editingMember;

// //     try {
// //       const trainerResponse = await fetch(
// //         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
// //         {
// //           method: "GET",
// //           headers: {
// //             "Content-Type": "application/json",
// //           },
// //         }
// //       );

// //       if (!trainerResponse.ok) {
// //         throw new Error(`Trainer not found: ${formData.trainer_name}`);
// //       }

// //       const dataToSend = {
// //         ...formData,
// //         amount_Paid: parseFloat(formData.amount_Paid) || 0,
// //         membershipID: membershipID,
// //       };

// //       const response = await fetch(
// //         `http://localhost:5000/api/admin/members/${membershipID}`,
// //         {
// //           method: "PUT",
// //           headers: {
// //             "Content-Type": "application/json",
// //           },
// //           body: JSON.stringify(dataToSend),
// //         }
// //       );

// //       if (!response.ok) {
// //         const errorText = await response.text();
// //         throw new Error(
// //           `HTTP error! Status: ${response.status}, Response: ${errorText}`
// //         );
// //       }

// //       const updatedMember = await response.json();
// //       setMembers((prevMembers) =>
// //         prevMembers.map((member) =>
// //           member.membershipID === membershipID
// //             ? { ...member, ...dataToSend }
// //             : member
// //         )
// //       );

// //       setEditingMember(null);
// //       setSaveSuccess(true);
// //       setTimeout(() => setSaveSuccess(false), 3000);
// //     } catch (err) {
// //       console.error("Error updating member:", err);
// //       alert(err.message);
// //     }
// //   };

// //   const confirmDelete = (member) => {
// //     if (!member) return;
// //     setMemberToDelete(member);
// //     setShowConfirmDialog(true);
// //   };

// //   const handleDelete = async (membershipID) => {
// //     setShowConfirmDialog(false);
// //     const memberToDeleteObj = members.find(
// //       (m) => m.membershipID === membershipID
// //     );
// //     if (!memberToDeleteObj) {
// //       console.error("Member not found");
// //       return;
// //     }
// //     setDeletedMember(memberToDeleteObj);
// //     setMembers(
// //       members.filter((member) => member.membershipID !== membershipID)
// //     );

// //     setUndoTimer(5);
// //     const timer = setInterval(() => {
// //       setUndoTimer((prev) => {
// //         if (prev === 1) {
// //           clearInterval(timer);
// //           deleteMemberFromDatabase(membershipID);
// //           return 0;
// //         }
// //         return prev - 1;
// //       });
// //     }, 1000);
// //     setDeleteTimer(timer);
// //   };

// //   const deleteMemberFromDatabase = async (membershipID) => {
// //     try {
// //       const response = await fetch(
// //         `http://localhost:5000/api/admin/members/${membershipID}`,
// //         {
// //           method: "DELETE",
// //           headers: {
// //             "Content-Type": "application/json",
// //           },
// //         }
// //       );
// //       if (!response.ok) {
// //         throw new Error(`HTTP error! Status: ${response.status}`);
// //       }
// //       setDeletedMember(null);
// //     } catch (err) {
// //       console.error("Error deleting member:", err);
// //       setMembers((prev) => [...prev, deletedMember]);
// //     }
// //   };

// //   const handleUndoDelete = () => {
// //     if (deleteTimer) {
// //       clearInterval(deleteTimer);
// //       setDeleteTimer(null);
// //     }
// //     if (deletedMember) {
// //       setMembers((prev) => [...prev, deletedMember]);
// //       setDeletedMember(null);
// //     }
// //     setUndoTimer(0);
// //   };

// //   const toggleViewMode = () => {
// //     setViewMode(viewMode === "table" ? "card" : "table");
// //   };

// //   const applyFilter = () => {
// //     setShowFilterModal(false);
// //   };

// //   const resetFilters = () => {
// //     setFilterCriteria({
// //       age: "",
// //       gender: [],
// //       membership_plan: [],
// //       membership_status: [],
// //       dateRange: { start: "", end: "" },
// //       pincode: "",
// //       emergency_contact: "",
// //     });
// //   };

// //   if (isLoading) return (
// //     <div className="flex items-center justify-center h-screen bg-gray-900 text-white">
// //       <div className="text-center">
// //         <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
// //         <p className="text-2xl font-light tracking-wider">Loading members...</p>
// //       </div>
// //     </div>
// //   );

// //   if (error) return (
// //     <div className="flex items-center justify-center h-screen bg-gray-900 text-red-500">
// //       <div className="text-center">
// //         <p className="text-2xl font-light tracking-wider">Error: {error}</p>
// //       </div>
// //     </div>
// //   );

// //   return (
// //     <div className="bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full">
// //       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
// //         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
// //           <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 text-center md:text-left">
// //             Members List
// //           </h1>

// //           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
// //             <button
// //               onClick={toggleViewMode}
// //               className={viewModeButtonClasses}
// //             >
// //               {viewMode === "table" ? "Card View" : "Table View"}
// //             </button>

// //             <button
// //               onClick={() => setShowFilterModal(!showFilterModal)}
// //               className={filterButtonClasses}
// //             >
// //               <svg
// //                 xmlns="http://www.w3.org/2000/svg"
// //                 className="h-5 w-5 mr-2 text-red-500"
// //                 fill="none"
// //                 viewBox="0 0 24 24"
// //                 stroke="currentColor"
// //               >
// //                 <path
// //                   strokeLinecap="round"
// //                   strokeLinejoin="round"
// //                   strokeWidth={1.5}
// //                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
// //                 />
// //               </svg>
// //               <span className="font-medium">Filter View</span>
// //             </button>
// //           </div>
// //         </div>
// //       </div>

// //       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
// //         <div className="w-full px-8 pt-10">
// //           <div className={`relative transition-all duration-500 ${searchFocused ? "scale-105" : ""}`}>
// //             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
// //               <svg
// //                 xmlns="http://www.w3.org/2000/svg"
// //                 className={`h-5 w-5 transition-all duration-300 ${
// //                   searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
// //                 }`}
// //                 fill="none"
// //                 viewBox="0 0 24 24"
// //                 stroke="currentColor"
// //                 strokeWidth={1.5}
// //               >
// //                 <path
// //                   strokeLinecap="round"
// //                   strokeLinejoin="round"
// //                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
// //                 />
// //               </svg>
// //             </span>
// //             <input
// //               type="text"
// //               placeholder="Search by name, email, or membership status"
// //               className={searchInputClasses}
// //               value={searchTerm}
// //               onChange={(e) => setSearchTerm(e.target.value)}
// //               onFocus={() => setSearchFocused(true)}
// //               onBlur={() => setSearchFocused(false)}
// //             />
// //           </div>
// //         </div>
// //       </div>

// //       {(filterCriteria.age || filterCriteria.gender.length > 0 || 
// //         filterCriteria.membership_plan.length > 0 || 
// //         filterCriteria.membership_status.length > 0 ||
// //         filterCriteria.dateRange.start || filterCriteria.dateRange.end ||
// //         filterCriteria.pincode || filterCriteria.emergency_contact) && (
// //         <div className="w-full px-8 pt-4">
// //           <button
// //             onClick={resetFilters}
// //             className={clearFiltersButtonClasses}
// //           >
// //             Clear Filters
// //           </button>
// //         </div>
// //       )}

// //       {viewMode === "table" ? (
// //         <div className="w-full px-8 pt-10 pb-12">
// //           {filteredMembers.length === 0 ? (
// //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// //               <svg
// //                 xmlns="http://www.w3.org/2000/svg"
// //                 className="h-20 w-20 mb-6 text-gray-600"
// //                 fill="none"
// //                 viewBox="0 0 24 24"
// //                 stroke="currentColor"
// //               >
// //                 <path
// //                   strokeLinecap="round"
// //                   strokeLinejoin="round"
// //                   strokeWidth={1}
// //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// //                 />
// //               </svg>
// //               <p className="text-2xl font-light tracking-wider">
// //                 No members found.
// //               </p>
// //             </div>
// //           ) : (
// //             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
// //               <div className="overflow-x-auto">
// //                 <table className="w-full divide-y divide-gray-800">
// //                   <thead>
// //                     <tr className="bg-gray-900/50">
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Membership ID
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Photo
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Full Name
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Email
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Phone Number
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Age
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Gender
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Trainer Name
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Membership Plan
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Contract Date
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Renewal Date
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Pincode
// //                       </th>
// //                       <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
// //                         Emergency Contact
// //                       </th>
// //                     </tr>
// //                   </thead>
// //                   <tbody className="divide-y divide-gray-800">
// //                     {filteredMembers.map((member) => (
// //                       <tr
// //                         key={member.membershipID}
// //                         className="hover:bg-gray-700/30 transition-colors duration-300 group"
// //                       >
// //                         <td className="py-5 px-6 text-sm font-light">
// //                           {member.membershipID}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm">
// //                           <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center group-hover:scale-110 transform active:scale-95">
// //                             <User size={20} />
// //                           </div>
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-medium text-white">
// //                           {editingMember === member.membershipID ? (
// //                             <input
// //                               type="text"
// //                               name="full_name"
// //                               value={formData.full_name}
// //                               onChange={handleChange}
// //                               className={tableEditInputClasses}
// //                             />
// //                           ) : (
// //                             member.full_name
// //                           )}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {editingMember === member.membershipID ? (
// //                             <input
// //                               type="email"
// //                               name="email"
// //                               value={formData.email}
// //                               onChange={handleChange}
// //                               className={tableEditInputClasses}
// //                             />
// //                           ) : (
// //                             member.email
// //                           )}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {editingMember === member.membershipID ? (
// //                             <input
// //                               type="text"
// //                               name="phone_number"
// //                               value={formData.phone_number}
// //                               onChange={handleChange}
// //                               className={tableEditInputClasses}
// //                             />
// //                           ) : (
// //                             member.phone_number
// //                           )}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {editingMember === member.membershipID ? (
// //                             <input
// //                               type="number"
// //                               name="age"
// //                               value={formData.age}
// //                               onChange={handleChange}
// //                               className={tableEditInputClasses}
// //                             />
// //                           ) : (
// //                             member.age
// //                           )}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {editingMember === member.membershipID ? (
// //                             <select
// //                               name="gender"
// //                               value={formData.gender}
// //                               onChange={handleChange}
// //                               className={tableEditInputClasses}
// //                             >
// //                               <option value="Male">Male</option>
// //                               <option value="Female">Female</option>
// //                               <option value="Other">Other</option>
// //                             </select>
// //                           ) : (
// //                             member.gender
// //                           )}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {editingMember === member.membershipID ? (
// //                             <select
// //                               name="trainer_name"
// //                               value={formData.trainer_name}
// //                               onChange={handleChange}
// //                               className={tableEditInputClasses}
// //                             >
// //                               <option value="Trainer1">Trainer1</option>
// //                               <option value="Trainer2">Trainer2</option>
// //                               <option value="Trainer3">Trainer3</option>
// //                             </select>
// //                           ) : (
// //                             member.trainer_name
// //                           )}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {editingMember === member.membershipID ? (
// //                             <select
// //                               name="membership_plan"
// //                               value={formData.membership_plan}
// //                               onChange={handleChange}
// //                               className={tableEditInputClasses}
// //                             >
// //                               <option value="Monthly">Monthly</option>
// //                               <option value="Quarterly">Quarterly</option>
// //                               <option value="Yearly">Yearly</option>
// //                             </select>
// //                           ) : (
// //                             member.membership_plan
// //                           )}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {member.payment_date}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {member.renewal_date}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {member.pincode}
// //                         </td>
// //                         <td className="py-5 px-6 text-sm font-light text-gray-300">
// //                           {member.emergency_contact}
// //                         </td>
// //                       </tr>
// //                     ))}
// //                   </tbody>
// //                 </table>
// //               </div>
// //             </div>
// //           )}
// //         </div>
// //       ) : (
// //         <div className="w-full px-8 pt-10 pb-12">
// //           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
// //             {filteredMembers.map((member) => (
// //               <div
// //                 key={member.membershipID}
// //                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300 active:ring-2 active:ring-red-500 hover:ring-2 hover:ring-red-500"
// //               >
// //                 <div className="flex items-center space-x-4">
// //                   <div className="p-2 bg-black/30 border border-red-500 text-red-500 rounded-full active:scale-95 hover:ring-2 hover:ring-red-500">
// //                     <User size={20} />
// //                   </div>
// //                   <div>
// //                     <h3 className="text-lg font-medium text-white">
// //                       {member.full_name}
// //                     </h3>
// //                     <p className="text-sm text-gray-300">
// //                       {member.email}
// //                     </p>
// //                   </div>
// //                 </div>
// //                 <div className="mt-4 space-y-2">
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Membership ID:</span>{" "}
// //                     {member.membershipID}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Phone Number:</span>{" "}
// //                     {member.phone_number}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Age:</span>{" "}
// //                     {member.age}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Gender:</span>{" "}
// //                     {member.gender}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Trainer Name:</span>{" "}
// //                     {member.trainer_name}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Membership Plan:</span>{" "}
// //                     {member.membership_plan}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Contract Date:</span>{" "}
// //                     {member.payment_date}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Renewal Date:</span>{" "}
// //                     {member.renewal_date}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Pincode:</span>{" "}
// //                     {member.pincode}
// //                   </p>
// //                   <p className="text-sm text-gray-300">
// //                     <span className="font-medium">Emergency Contact:</span>{" "}
// //                     {member.emergency_contact}
// //                   </p>
// //                 </div>
// //               </div>
// //             ))}
// //           </div>
// //           {filteredMembers.length === 0 && (
// //             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
// //               <svg
// //                 xmlns="http://www.w3.org/2000/svg"
// //                 className="h-20 w-20 mb-6 text-gray-600"
// //                 fill="none"
// //                 viewBox="0 0 24 24"
// //                 stroke="currentColor"
// //               >
// //                 <path
// //                   strokeLinecap="round"
// //                   strokeLinejoin="round"
// //                   strokeWidth={1}
// //                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
// //                 />
// //               </svg>
// //               <p className="text-2xl font-light tracking-wider">
// //                 No members found.
// //               </p>
// //             </div>
// //           )}
// //         </div>
// //       )}

// //       {showFilterModal && (
// //         <div className="fixed inset-0 flex items-center justify-center z-50">
// //           <div
// //             className="absolute inset-0 bg-black opacity-60"
// //             onClick={() => setShowFilterModal(false)}
// //           ></div>
// //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg max-h-[90vh] overflow-y-auto">
// //             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
// //               Filter Members
// //             </h2>
// //             <div className="space-y-6 pb-6">
// //               <div>
// //                 <label className="block text-white mb-2">Age</label>
// //                 <input
// //                   type="number"
// //                   value={filterCriteria.age}
// //                   onChange={(e) => setFilterCriteria({...filterCriteria, age: e.target.value})}
// //                   className={filterInputClasses}
// //                   placeholder="Enter age"
// //                 />
// //               </div>

// //               <div>
// //                 <label className="block text-white mb-2">Gender</label>
// //                 <div className="grid grid-cols-3 gap-2">
// //                   {["Male", "Female", "Other"].map((gender) => (
// //                     <div
// //                       key={gender}
// //                       className={filterOptionClasses(filterCriteria.gender.includes(gender))}
// //                       onClick={() => {
// //                         if (filterCriteria.gender.includes(gender)) {
// //                           setFilterCriteria({
// //                             ...filterCriteria,
// //                             gender: filterCriteria.gender.filter(
// //                               (g) => g !== gender
// //                             ),
// //                           });
// //                         } else {
// //                           setFilterCriteria({
// //                             ...filterCriteria,
// //                             gender: [...filterCriteria.gender, gender],
// //                           });
// //                         }
// //                       }}
// //                       tabIndex={0}
// //                     >
// //                       {gender}
// //                     </div>
// //                   ))}
// //                 </div>
// //               </div>

// //               <div>
// //                 <label className="block text-white mb-2">Membership Plan</label>
// //                 <div className="grid grid-cols-3 gap-2">
// //                   {["Monthly", "Quarterly", "Yearly"].map((plan) => (
// //                     <div
// //                       key={plan}
// //                       className={filterOptionClasses(filterCriteria.membership_plan.includes(plan))}
// //                       onClick={() => {
// //                         if (filterCriteria.membership_plan.includes(plan)) {
// //                           setFilterCriteria({
// //                             ...filterCriteria,
// //                             membership_plan:
// //                               filterCriteria.membership_plan.filter(
// //                                 (p) => p !== plan
// //                               ),
// //                           });
// //                         } else {
// //                           setFilterCriteria({
// //                             ...filterCriteria,
// //                             membership_plan: [
// //                               ...filterCriteria.membership_plan,
// //                               plan,
// //                             ],
// //                           });
// //                         }
// //                       }}
// //                       tabIndex={0}
// //                     >
// //                       {plan}
// //                     </div>
// //                   ))}
// //                 </div>
// //               </div>

// //               <div>
// //                 <label className="block text-white mb-2">
// //                   Membership Status
// //                 </label>
// //                 <div className="grid grid-cols-3 gap-2">
// //                   {["Active", "Inactive"].map((status) => (
// //                     <div
// //                       key={status}
// //                       className={filterOptionClasses(filterCriteria.membership_status.includes(status))}
// //                       onClick={() => {
// //                         if (filterCriteria.membership_status.includes(status)) {
// //                           setFilterCriteria({
// //                             ...filterCriteria,
// //                             membership_status:
// //                               filterCriteria.membership_status.filter(
// //                                 (s) => s !== status
// //                               ),
// //                           });
// //                         } else {
// //                           setFilterCriteria({
// //                             ...filterCriteria,
// //                             membership_status: [
// //                               ...filterCriteria.membership_status,
// //                               status,
// //                             ],
// //                           });
// //                         }
// //                       }}
// //                       tabIndex={0}
// //                     >
// //                       {status}
// //                     </div>
// //                   ))}
// //                 </div>
// //               </div>

// //               <div>
// //                 <label className="block text-white mb-2">Pincode</label>
// //                 <input
// //                   type="text"
// //                   value={filterCriteria.pincode}
// //                   onChange={(e) => setFilterCriteria({...filterCriteria, pincode: e.target.value})}
// //                   className={filterInputClasses}
// //                   placeholder="Enter pincode"
// //                 />
// //               </div>

// //               <div>
// //                 <label className="block text-white mb-2">
// //                   Emergency Contact
// //                 </label>
// //                 <input
// //                   type="text"
// //                   value={filterCriteria.emergency_contact}
// //                   onChange={(e) => setFilterCriteria({...filterCriteria, emergency_contact: e.target.value})}
// //                   className={filterInputClasses}
// //                   placeholder="Enter emergency contact"
// //                 />
// //               </div>

// //               <div className="grid grid-cols-2 gap-4">
// //                 <div>
// //                   <label className="block text-white mb-2">Contract Date</label>
// //                   <input
// //                     type="date"
// //                     value={filterCriteria.dateRange.start}
// //                     onChange={(e) => setFilterCriteria({
// //                       ...filterCriteria,
// //                       dateRange: {
// //                         ...filterCriteria.dateRange,
// //                         start: e.target.value,
// //                       },
// //                     })}
// //                     className={filterInputClasses}
// //                   />
// //                 </div>
// //                 <div>
// //                   <label className="block text-white mb-2">Renewal Date</label>
// //                   <input
// //                     type="date"
// //                     value={filterCriteria.dateRange.end}
// //                     onChange={(e) => setFilterCriteria({
// //                       ...filterCriteria,
// //                       dateRange: {
// //                         ...filterCriteria.dateRange,
// //                         end: e.target.value,
// //                       },
// //                     })}
// //                     className={filterInputClasses}
// //                   />
// //                 </div>
// //               </div>
// //             </div>
// //             <div className="flex space-x-4 pt-4">
// //               <button
// //                 onClick={() => setShowFilterModal(false)}
// //                 className={`${modalActionButtonClasses} bg-gray-800 border border-gray-700 text-white hover:border-red-500`}
// //               >
// //                 Cancel
// //               </button>
// //               <button
// //                 onClick={applyFilter}
// //                 className={`${modalActionButtonClasses} bg-red-500 text-white hover:bg-red-600`}
// //               >
// //                 Apply Filters
// //               </button>
// //             </div>
// //           </div>
// //         </div>
// //       )}

// //       {showConfirmDialog && (
// //         <div className="fixed inset-0 flex items-center justify-center z-50">
// //           <div
// //             className="absolute inset-0 bg-black opacity-60"
// //             onClick={() => setShowConfirmDialog(false)}
// //           ></div>
// //           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
// //             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
// //               Confirm Delete
// //             </h2>
// //             <p className="text-gray-300 mb-6 text-center">
// //               Are you sure you want to delete{" "}
// //               <span className="font-medium text-white">
// //                 {memberToDelete?.full_name}
// //               </span>
// //               ? This action cannot be undone after 5 seconds.
// //             </p>
// //             <div className="flex space-x-4">
// //               <button
// //                 onClick={() => setShowConfirmDialog(false)}
// //                 className={`${confirmDialogButtonClasses} bg-gray-800 border border-gray-700 text-white hover:border-red-500`}
// //               >
// //                 Cancel
// //               </button>
// //               <button
// //                 onClick={() => {
// //                   if (memberToDelete) {
// //                     handleDelete(memberToDelete.membershipID);
// //                   }
// //                 }}
// //                 className={`${confirmDialogButtonClasses} bg-red-500 text-white hover:bg-red-600`}
// //               >
// //                 Delete
// //               </button>
// //             </div>
// //           </div>
// //         </div>
// //       )}

// //       {deletedMember && undoTimer > 0 && (
// //         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// //           <p className="text-gray-300">
// //             <span className="font-medium text-white">
// //               {deletedMember.full_name}
// //             </span>{" "}
// //             deleted
// //           </p>
// //           <button
// //             onClick={handleUndoDelete}
// //             className={undoDeleteButtonClasses}
// //           >
// //             <Undo size={16} />
// //             <span>Undo ({undoTimer}s)</span>
// //           </button>
// //         </div>
// //       )}

// //       {saveSuccess && (
// //         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
// //           <svg
// //             xmlns="http://www.w3.org/2000/svg"
// //             className="h-6 w-6 text-green-500"
// //             fill="none"
// //             viewBox="0 0 24 24"
// //             stroke="currentColor"
// //           >
// //             <path
// //               strokeLinecap="round"
// //               strokeLinejoin="round"
// //               strokeWidth={2}
// //               d="M5 13l4 4L19 7"
// //             />
// //           </svg>
// //           <p className="text-green-300">Member updated successfully!</p>
// //         </div>
// //       )}
// //     </div>
// //   );
// // };

// // export default MembersPage;
// "use client";

// import { useState, useEffect, useMemo } from "react";
// import { useRouter } from "next/navigation";
// import { Edit, Trash, Save, Undo, Plus, User, ArrowLeft } from "lucide-react";
// import Link from 'next/link';
// import { Poppins } from 'next/font/google';

// const poppins = Poppins({ 
//   weight: ['300', '400', '500', '600'],
//   subsets: ['latin'],
//   display: 'swap'
// });

// const MembersPage = () => {
//   const router = useRouter();
//   const [members, setMembers] = useState([]);
//   const [isLoading, setIsLoading] = useState(true);
//   const [error, setError] = useState(null);
//   const [searchTerm, setSearchTerm] = useState("");
//   const [searchFocused, setSearchFocused] = useState(false);
//   const [showFilterModal, setShowFilterModal] = useState(false);
//   const [viewMode, setViewMode] = useState("table"); // 'table' or 'card'
//   const [editingMember, setEditingMember] = useState(null);
//   const [deletedMember, setDeletedMember] = useState(null);
//   const [deleteTimer, setDeleteTimer] = useState(null);
//   const [showConfirmDialog, setShowConfirmDialog] = useState(false);
//   const [memberToDelete, setMemberToDelete] = useState(null);
//   const [filterCriteria, setFilterCriteria] = useState({
//     age: "",
//     gender: [],
//     membership_plan: [],
//     membership_status: [],
//     dateRange: { start: "", end: "" },
//     pincode: "",
//     emergency_contact: "",
//   });
//   const [formData, setFormData] = useState({
//     full_name: "",
//     email: "",
//     phone_number: "",
//     age: "",
//     gender: "",
//     trainer_name: "",
//     membership_plan: "",
//     payment_date: "",
//     renewal_date: "",
//     pincode: "",
//     emergency_contact: "",
//   });
//   const [saveSuccess, setSaveSuccess] = useState(false);
//   const [undoTimer, setUndoTimer] = useState(5); // 5-second timer

//   // Fetch members from the backend
//   useEffect(() => {
//     const fetchMembers = async () => {
//       try {
//         const response = await fetch("http://localhost:5000/api/admin/members", {
//           method: "GET",
//           headers: {
//             "Content-Type": "application/json",
//           },
//         });
//         if (!response.ok) {
//           throw new Error(`HTTP error! Status: ${response.status}`);
//         }
//         const data = await response.json();

//         const formattedMembers = data.map((member) => ({
//           ...member,
//           pincode: member.pincode || "",
//           emergency_contact: member.emergency_contact || "",
//           passport_photo: member.passport_photo 
//             ? member.passport_photo.startsWith('data:') 
//               ? member.passport_photo 
//               : `data:${member.photo_mime_type || 'image/jpeg'};base64,${member.passport_photo}`
//             : null
//         }));

//         setMembers(formattedMembers);
//         setError(null);
//       } catch (err) {
//         setError("Failed to fetch members: " + err.message);
//         console.error("Error fetching members:", err);
//       } finally {
//         setIsLoading(false);
//       }
//     };
//     fetchMembers();
//   }, []);

//   // Handle search and filter
//   const filteredMembers = useMemo(() => {
//     return (members || []).filter((member) => {
//       const full_name = member.full_name || "";
//       const email = member.email || "";
//       const membership_status = member.membership_status || "";
//       const pincode = member.pincode || "";
//       const emergency_contact = member.emergency_contact || "";

//       const matchesSearch =
//         searchTerm === "" ||
//         full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
//         email.toLowerCase().includes(searchTerm.toLowerCase()) ||
//         membership_status.toLowerCase().includes(searchTerm.toLowerCase()) ||
//         pincode.toLowerCase().includes(searchTerm.toLowerCase()) ||
//         emergency_contact.toLowerCase().includes(searchTerm.toLowerCase());

//       const ageMatch =
//         filterCriteria.age === "" ||
//         (member.age !== null &&
//           member.age !== undefined &&
//           member.age.toString() === filterCriteria.age);

//       const genderMatch =
//         filterCriteria.gender.length === 0 ||
//         filterCriteria.gender.includes(member.gender);

//       const membershipPlanMatch =
//         filterCriteria.membership_plan.length === 0 ||
//         filterCriteria.membership_plan.includes(member.membership_plan);

//       const membershipStatusMatch =
//         filterCriteria.membership_status.length === 0 ||
//         filterCriteria.membership_status.includes(member.membership_status);

//       const memberPaymentDate = new Date(member.payment_date);
//       const matchesPaymentDate =
//         !filterCriteria.dateRange.start ||
//         memberPaymentDate >= new Date(filterCriteria.dateRange.start);
//       const memberRenewalDate = new Date(member.renewal_date);
//       const matchesRenewalDate =
//         !filterCriteria.dateRange.end ||
//         memberRenewalDate <= new Date(filterCriteria.dateRange.end);

//       const pincodeMatch =
//         filterCriteria.pincode === "" ||
//         (member.pincode && member.pincode.includes(filterCriteria.pincode));

//       const emergencyContactMatch =
//         filterCriteria.emergency_contact === "" ||
//         (member.emergency_contact &&
//           member.emergency_contact.includes(filterCriteria.emergency_contact));

//       return (
//         matchesSearch &&
//         ageMatch &&
//         genderMatch &&
//         membershipPlanMatch &&
//         membershipStatusMatch &&
//         matchesPaymentDate &&
//         matchesRenewalDate &&
//         pincodeMatch &&
//         emergencyContactMatch
//       );
//     });
//   }, [members, searchTerm, filterCriteria]);

//   // Handle edit
//   const handleEdit = (member) => {
//     if (!member || !member.membershipID) return;
//     setEditingMember(member.membershipID);
//     setFormData({
//       full_name: member.full_name || "",
//       email: member.email || "",
//       phone_number: member.phone_number || "",
//       age: member.age || "",
//       gender: member.gender || "",
//       trainer_name: member.trainer_name || "",
//       membership_plan: member.membership_plan || "",
//       payment_date: member.payment_date || "",
//       renewal_date: member.renewal_date || "",
//       pincode: member.pincode || "",
//       emergency_contact: member.emergency_contact || "",
//     });
//   };

//   // Handle form changes
//   const handleChange = (e) => {
//     const { name, value } = e.target;
//     setFormData((prev) => ({
//       ...prev,
//       [name]: value,
//     }));
//   };

//   // Save edited member
//   const handleSave = async () => {
//     if (!editingMember) {
//       console.error("Error: No member is currently being edited.");
//       return;
//     }

//     const membershipID = editingMember;

//     try {
//       const trainerResponse = await fetch(
//         `http://localhost:5000/api/admin/trainers/${formData.trainer_name}`,
//         {
//           method: "GET",
//           headers: {
//             "Content-Type": "application/json",
//           },
//         }
//       );

//       if (!trainerResponse.ok) {
//         throw new Error(`Trainer not found: ${formData.trainer_name}`);
//       }

//       const dataToSend = {
//         ...formData,
//         membershipID: membershipID,
//       };

//       const response = await fetch(
//         `http://localhost:5000/api/admin/members/${membershipID}`,
//         {
//           method: "PUT",
//           headers: {
//             "Content-Type": "application/json",
//           },
//           body: JSON.stringify(dataToSend),
//         }
//       );

//       if (!response.ok) {
//         const errorText = await response.text();
//         throw new Error(`HTTP error! Status: ${response.status}, Response: ${errorText}`);
//       }

//       const updatedMember = await response.json();

//       setMembers((prevMembers) =>
//         prevMembers.map((member) =>
//           member.membershipID === membershipID ? { 
//             ...member, 
//             ...dataToSend,
//             passport_photo: member.passport_photo // Preserve the existing photo
//           } : member
//         )
//       );

//       setEditingMember(null);
//       setSaveSuccess(true);
//       setTimeout(() => setSaveSuccess(false), 3000);
//     } catch (err) {
//       console.error("Error updating member:", err);
//       alert(err.message);
//     }
//   };

//   // Handle delete
//   const confirmDelete = (member) => {
//     if (!member) return;
//     setMemberToDelete(member);
//     setShowConfirmDialog(true);
//   };

//   const handleDelete = async (membershipID) => {
//     setShowConfirmDialog(false);
//     const memberToDeleteObj = members.find((m) => m.membershipID === membershipID);
//     if (!memberToDeleteObj) {
//       console.error("Member not found");
//       return;
//     }
//     setDeletedMember(memberToDeleteObj);
//     setMembers(members.filter((member) => member.membershipID !== membershipID));

//     setUndoTimer(5);
//     const timer = setInterval(() => {
//       setUndoTimer((prev) => {
//         if (prev === 1) {
//           clearInterval(timer);
//           deleteMemberFromDatabase(membershipID);
//           return 0;
//         }
//         return prev - 1;
//       });
//     }, 1000);
//     setDeleteTimer(timer);
//   };

//   // Delete member from the database
//   const deleteMemberFromDatabase = async (membershipID) => {
//     try {
//       const response = await fetch(
//         `http://localhost:5000/api/admin/members/${membershipID}`,
//         {
//           method: "DELETE",
//           headers: {
//             "Content-Type": "application/json",
//           },
//         }
//       );
//       if (!response.ok) {
//         throw new Error(`HTTP error! Status: ${response.status}`);
//       }
//       setDeletedMember(null);
//     } catch (err) {
//       console.error("Error deleting member:", err);
//       setMembers((prev) => [...prev, deletedMember]);
//     }
//   };

//   // Undo delete functionality
//   const handleUndoDelete = () => {
//     if (deleteTimer) {
//       clearInterval(deleteTimer);
//       setDeleteTimer(null);
//     }
//     if (deletedMember) {
//       setMembers((prev) => [...prev, deletedMember]);
//       setDeletedMember(null);
//     }
//     setUndoTimer(0);
//   };

//   // Toggle view mode
//   const toggleViewMode = () => {
//     setViewMode(viewMode === "table" ? "card" : "table");
//   };

//   // Apply filter
//   const applyFilter = () => {
//     setShowFilterModal(false);
//   };

//   // Reset filters
//   const resetFilters = () => {
//     setFilterCriteria({
//       age: "",
//       gender: [],
//       membership_plan: [],
//       membership_status: [],
//       dateRange: { start: "", end: "" },
//       pincode: "",
//       emergency_contact: "",
//     });
//   };

//   if (isLoading)
//     return (
//       <div className={`flex items-center justify-center h-screen bg-gray-900 text-white ${poppins.className}`}>
//         <div className="text-center">
//           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
//           <p className="text-2xl font-light tracking-wider">Loading members...</p>
//         </div>
//       </div>
//     );

//   if (error)
//     return (
//       <div className={`flex items-center justify-center h-screen bg-gray-900 text-red-500 ${poppins.className}`}>
//         <div className="text-center">
//           <p className="text-2xl font-light tracking-wider">Error: {error}</p>
//         </div>
//       </div>
//     );

//   return (
//     <div className={`bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full ${poppins.className}`}>
//       {/* Global styles for focus rings and photo hover effects */}
//       <style jsx global>{`
//         /* Force focus rings to be visible on mobile */
//         button:focus, 
//         input:focus,
//         select:focus,
//         a:focus,
//         [tabindex]:focus,
//         [role="button"]:focus {
//           outline: none !important;
//           box-shadow: 0 0 0 1px rgba(255, 0, 0, 0.5) !important;
//         }

//         /* For touch devices - ensure focus state appears on tap */
//         @media (hover: none) and (pointer: coarse) {
//           button:active, 
//           input:active,
//           select:active,
//           a:active,
//           [tabindex]:active,
//           [role="button"]:active {
//             outline: none !important;
//             box-shadow: 0 0 0 1px rgba(255, 0, 0, 0.5) !important;
//           }
//         }

//         /* Photo hover effect */
//         .member-photo {
//           transition: all 0.3s ease;
//           transform-origin: center center;
//         }
        
//         .member-photo:hover {
//           transform: scale(1.8);
//           z-index: 10;
//           box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
//         }

//         /* Container to prevent layout shift */
//         .photo-container {
//           position: relative;
//           width: 40px;
//           height: 40px;
//           margin: 0 auto;
//         }

//         /* For card view */
//         .card-photo-container {
//           position: relative;
//           width: 64px;
//           height: 64px;
//         }

//         /* Custom scrollbar for card content */
//         .card-content-scroll {
//           max-height: 400px;
//           overflow-y: auto;
//           padding-right: 8px;
//         }

//         .card-content-scroll::-webkit-scrollbar {
//           width: 6px;
//         }

//         .card-content-scroll::-webkit-scrollbar-track {
//           background: rgba(255, 255, 255, 0.1);
//           border-radius: 10px;
//         }

//         .card-content-scroll::-webkit-scrollbar-thumb {
//           background: rgba(255, 0, 0, 0.5);
//           border-radius: 10px;
//         }

//         .card-content-scroll::-webkit-scrollbar-thumb:hover {
//           background: rgba(255, 0, 0, 0.7);
//         }
//       `}</style>

//       {/* Navbar */}
//       <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
//         <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
//           {/* Title with Back to Dashboard Button */}
//           <div className="flex items-center">
//             {/* Back to Dashboard Button */}
//             <Link 
//               href="/dashboard"
//               className="border border-gray-700/50 bg-black/20 p-2 rounded-xl hover:border-red-500 transition-all duration-300 transform hover:scale-110 shadow-lg group focus:outline-none flex items-center"
//             >
//               <ArrowLeft size={20} className="text-red-500 group-hover:text-red-400 transition-colors mr-1" />
//               <span className="text-red-500 group-hover:text-red-400 transition-colors">Dashboard</span>
//             </Link>
//             {/* Page Title */}
//             <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 ml-4">
//               Members List
//             </h1>
//           </div>

//           {/* Buttons */}
//           <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
//             {/* Toggle View Mode Button */}
//             <button
//               onClick={toggleViewMode}
//               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 focus:outline-none"
//             >
//               {viewMode === "table" ? "Card View" : "Table View"}
//             </button>

//             {/* Filter Button */}
//             <button
//               onClick={() => setShowFilterModal(!showFilterModal)}
//               className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center focus:outline-none"
//             >
//               <svg
//                 xmlns="http://www.w3.org/2000/svg"
//                 className="h-5 w-5 mr-2 text-red-500"
//                 fill="none"
//                 viewBox="0 0 24 24"
//                 stroke="currentColor"
//               >
//                 <path
//                   strokeLinecap="round"
//                   strokeLinejoin="round"
//                   strokeWidth={1.5}
//                   d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
//                 />
//               </svg>
//               <span className="font-medium">Filter View</span>
//             </button>

//             {/* Add Member Button */}
//             <button
//               onClick={() => router.push("/add-member")}
//               className="w-full md:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600 focus:outline-none"
//             >
//               <Plus size={20} />
//               <span>Add Member</span>
//             </button>
//           </div>
//         </div>
//       </div>

//       <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
//         <div className="w-full px-8 pt-10">
//           <div className="relative">
//             <span className="absolute inset-y-0 left-0 flex items-center pl-6">
//               <svg
//                 xmlns="http://www.w3.org/2000/svg"
//                 className={`h-5 w-5 ${
//                   searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
//                 }`}
//                 fill="none"
//                 viewBox="0 0 24 24"
//                 stroke="currentColor"
//                 strokeWidth={1.5}
//               >
//                 <path
//                   strokeLinecap="round"
//                   strokeLinejoin="round"
//                   d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
//                 />
//               </svg>
//             </span>
//             <input
//               type="text"
//               placeholder="Search by name, email, or membership status"
//               className={`w-full bg-gray-800/50 backdrop-blur-sm border
//                 border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
//                 dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
//                 text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
//                 text-lg bg-white dark:bg-gray-800 ${poppins.className}`}
//               value={searchTerm}
//               onChange={(e) => setSearchTerm(e.target.value)}
//               onFocus={() => setSearchFocused(true)}
//               onBlur={() => setSearchFocused(false)}
//             />
//           </div>
//         </div>
//       </div>

//       {/* Clear Filters Button */}
//       {(filterCriteria.age ||
//         filterCriteria.gender.length > 0 ||
//         filterCriteria.membership_plan.length > 0 ||
//         filterCriteria.membership_status.length > 0 ||
//         filterCriteria.dateRange.start ||
//         filterCriteria.dateRange.end ||
//         filterCriteria.pincode ||
//         filterCriteria.emergency_contact) && (
//         <div className="w-full px-8 pt-4">
//           <button
//             onClick={resetFilters}
//             className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600 focus:outline-none"
//           >
//             Clear Filters
//           </button>
//         </div>
//       )}

//       {viewMode === "table" ? (
//         <div className="w-full px-8 pt-10 pb-12">
//           {filteredMembers.length === 0 ? (
//             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
//               <svg
//                 xmlns="http://www.w3.org/2000/svg"
//                 className="h-20 w-20 mb-6 text-gray-600"
//                 fill="none"
//                 viewBox="0 0 24 24"
//                 stroke="currentColor"
//               >
//                 <path
//                   strokeLinecap="round"
//                   strokeLinejoin="round"
//                   strokeWidth={1}
//                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
//                 />
//               </svg>
//               <p className="text-2xl font-light tracking-wider">No members found.</p>
//             </div>
//           ) : (
//             <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
//               <div className="overflow-x-auto">
//                 <div className="max-h-[75vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800">
//                   <table className="w-full divide-y divide-gray-800">
//                     <thead>
//                       <tr className="bg-gray-900/50">
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Membership ID
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Photo
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Full Name
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Email
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Phone Number
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Age
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Gender
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Trainer Name
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Membership Plan
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Contract Date
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Renewal Date
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Pincode
//                         </th>
//                         <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
//                           Emergency Contact
//                         </th>
//                       </tr>
//                     </thead>
//                     <tbody className="divide-y divide-gray-800 bg-gray-800/20">
//                       {filteredMembers.map((member) => (
//                         <tr
//                           key={member.membershipID}
//                           className="hover:bg-gray-700/30 transition-colors duration-300 group"
//                         >
//                           <td className="py-5 px-6 text-sm font-light">
//                             {member.membershipID}
//                           </td>
//                           <td className="py-5 px-6 text-sm">
//                             <div className="photo-container">
//                               {member.passport_photo ? (
//                                 <img 
//                                   src={member.passport_photo} 
//                                   alt="Member" 
//                                   className="member-photo w-10 h-10 rounded-full object-cover border border-red-500"
//                                   onError={(e) => {
//                                     e.target.onerror = null;
//                                     e.target.src = "/default-user.png";
//                                   }}
//                                 />
//                               ) : (
//                                 <div className="member-photo p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center">
//                                   <User size={20} />
//                                 </div>
//                               )}
//                             </div>
//                           </td>
//                           <td className="py-5 px-6 text-sm font-medium text-white">
//                             {member.full_name}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.email}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.phone_number}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.age}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.gender}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.trainer_name}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.membership_plan}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.payment_date}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.renewal_date}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.pincode}
//                           </td>
//                           <td className="py-5 px-6 text-sm font-light text-gray-300">
//                             {member.emergency_contact}
//                           </td>
//                         </tr>
//                       ))}
//                     </tbody>
//                   </table>
//                 </div>
//               </div>
//             </div>
//           )}
//         </div>
//       ) : (
//         // Card View
//         <div className="w-full px-8 pt-10 pb-12">
//           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
//             {filteredMembers.map((member) => (
//               <div
//                 key={member.membershipID}
//                 className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300 focus:outline-none"
//               >
//                 <div className="flex items-center space-x-4">
//                   <div className="card-photo-container">
//                     {member.passport_photo ? (
//                       <img 
//                         src={member.passport_photo} 
//                         alt="Member" 
//                         className="member-photo w-16 h-16 rounded-full object-cover border border-red-500 absolute"
//                         onError={(e) => {
//                           e.target.onerror = null;
//                           e.target.src = "/default-user.png";
//                         }}
//                       />
//                     ) : (
//                       <div className="member-photo p-2 bg-black/30 border border-red-500 text-red-500 rounded-full absolute">
//                         <User size={20} />
//                       </div>
//                     )}
//                   </div>
//                   <div>
//                     <h3 className="text-lg font-medium text-white">
//                       {member.full_name}
//                     </h3>
//                     <p className="text-sm text-gray-300">
//                       {member.email}
//                     </p>
//                   </div>
//                 </div>
//                 <div className="mt-4 space-y-2 card-content-scroll">
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Membership ID:</span>{" "}
//                     {member.membershipID}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Phone Number:</span>{" "}
//                     {member.phone_number}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Age:</span>{" "}
//                     {member.age}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Gender:</span>{" "}
//                     {member.gender}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Trainer Name:</span>{" "}
//                     {member.trainer_name}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Membership Plan:</span>{" "}
//                     {member.membership_plan}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Contract Date:</span>{" "}
//                     {member.payment_date}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Renewal Date:</span>{" "}
//                     {member.renewal_date}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Pincode:</span>{" "}
//                     {member.pincode}
//                   </p>
//                   <p className="text-sm text-gray-300">
//                     <span className="font-medium">Emergency Contact:</span>{" "}
//                     {member.emergency_contact}
//                   </p>
//                 </div>
//               </div>
//             ))}
//           </div>
//           {filteredMembers.length === 0 && (
//             <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
//               <svg
//                 xmlns="http://www.w3.org/2000/svg"
//                 className="h-20 w-20 mb-6 text-gray-600"
//                 fill="none"
//                 viewBox="0 0 24 24"
//                 stroke="currentColor"
//               >
//                 <path
//                   strokeLinecap="round"
//                   strokeLinejoin="round"
//                   strokeWidth={1}
//                   d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
//                 />
//               </svg>
//               <p className="text-2xl font-light tracking-wider">No members found.</p>
//             </div>
//           )}
//         </div>
//       )}

//       {/* Filter Modal */}
//       {showFilterModal && (
//         <div className="fixed inset-0 flex items-center justify-center z-50">
//           <div
//             className="absolute inset-0 bg-black opacity-60"
//             onClick={() => setShowFilterModal(false)}
//           ></div>
//           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg max-h-[90vh] flex flex-col">
//             <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
//               Filter Members
//             </h2>
//             <div className="overflow-y-auto pr-4 flex-1">
//               <div className="space-y-6">
//                 <div>
//                   <label className="block text-white mb-2">Age</label>
//                   <input
//                     type="number"
//                     value={filterCriteria.age}
//                     onChange={(e) =>
//                       setFilterCriteria({
//                         ...filterCriteria,
//                         age: e.target.value,
//                       })
//                     }
//                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
//                     placeholder="Enter age"
//                   />
//                 </div>
//                 <div>
//                   <label className="block text-white mb-2">Gender</label>
//                   <div className="grid grid-cols-3 gap-2">
//                     {["Male", "Female", "Other"].map((gender) => (
//                       <div
//                         key={gender}
//                         className={`border rounded-lg p-2 cursor-pointer transition-colors ${
//                           filterCriteria.gender.includes(gender)
//                             ? "border-red-500 bg-red-900/30 text-white"
//                             : "border-gray-700 bg-gray-800 text-gray-400"
//                         } focus:outline-none`}
//                         onClick={() => {
//                           if (filterCriteria.gender.includes(gender)) {
//                             setFilterCriteria({
//                               ...filterCriteria,
//                               gender: filterCriteria.gender.filter(
//                                 (g) => g !== gender
//                               ),
//                             });
//                           } else {
//                             setFilterCriteria({
//                               ...filterCriteria,
//                               gender: [...filterCriteria.gender, gender],
//                             });
//                           }
//                         }}
//                         tabIndex={0}
//                       >
//                         {gender}
//                       </div>
//                     ))}
//                   </div>
//                 </div>
//                 <div>
//                   <label className="block text-white mb-2">Membership Plan</label>
//                   <div className="grid grid-cols-3 gap-2">
//                     {["Monthly", "Quarterly", "Yearly"].map((plan) => (
//                       <div
//                         key={plan}
//                         className={`border rounded-lg p-2 cursor-pointer transition-colors ${
//                           filterCriteria.membership_plan.includes(plan)
//                             ? "border-red-500 bg-red-900/30 text-white"
//                             : "border-gray-700 bg-gray-800 text-gray-400"
//                         } focus:outline-none`}
//                         onClick={() => {
//                           if (filterCriteria.membership_plan.includes(plan)) {
//                             setFilterCriteria({
//                               ...filterCriteria,
//                               membership_plan: filterCriteria.membership_plan.filter(
//                                 (p) => p !== plan
//                               ),
//                             });
//                           } else {
//                             setFilterCriteria({
//                               ...filterCriteria,
//                               membership_plan: [
//                                 ...filterCriteria.membership_plan,
//                                 plan,
//                               ],
//                             });
//                           }
//                         }}
//                         tabIndex={0}
//                       >
//                         {plan}
//                       </div>
//                     ))}
//                   </div>
//                 </div>
//                 <div>
//                   <label className="block text-white mb-2">Membership Status</label>
//                   <div className="grid grid-cols-3 gap-2">
//                     {["Active", "Inactive"].map((status) => (
//                       <div
//                         key={status}
//                         className={`border rounded-lg p-2 cursor-pointer transition-colors ${
//                           filterCriteria.membership_status.includes(status)
//                             ? "border-red-500 bg-red-900/30 text-white"
//                             : "border-gray-700 bg-gray-800 text-gray-400"
//                         } focus:outline-none`}
//                         onClick={() => {
//                           if (filterCriteria.membership_status.includes(status)) {
//                             setFilterCriteria({
//                               ...filterCriteria,
//                               membership_status: filterCriteria.membership_status.filter(
//                                 (s) => s !== status
//                               ),
//                             });
//                           } else {
//                             setFilterCriteria({
//                               ...filterCriteria,
//                               membership_status: [
//                                 ...filterCriteria.membership_status,
//                                 status,
//                               ],
//                             });
//                           }
//                         }}
//                         tabIndex={0}
//                       >
//                         {status}
//                       </div>
//                     ))}
//                   </div>
//                 </div>
//                 <div>
//                   <label className="block text-white mb-2">Pincode</label>
//                   <input
//                     type="text"
//                     value={filterCriteria.pincode}
//                     onChange={(e) =>
//                       setFilterCriteria({
//                         ...filterCriteria,
//                         pincode: e.target.value,
//                       })
//                     }
//                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
//                     placeholder="Enter pincode"
//                   />
//                 </div>
//                 <div>
//                   <label className="block text-white mb-2">Emergency Contact</label>
//                   <input
//                     type="text"
//                     value={filterCriteria.emergency_contact}
//                     onChange={(e) =>
//                       setFilterCriteria({
//                         ...filterCriteria,
//                         emergency_contact: e.target.value,
//                       })
//                     }
//                     className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
//                     placeholder="Enter emergency contact"
//                   />
//                 </div>
//                 <div className="grid grid-cols-2 gap-4">
//                   <div>
//                     <label className="block text-white mb-2">Contract Date</label>
//                     <input
//                       type="date"
//                       value={filterCriteria.dateRange.start}
//                       onChange={(e) =>
//                         setFilterCriteria({
//                           ...filterCriteria,
//                           dateRange: {
//                             ...filterCriteria.dateRange,
//                             start: e.target.value,
//                           },
//                         })
//                       }
//                       className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
//                     />
//                   </div>
//                   <div>
//                     <label className="block text-white mb-2">Renewal Date</label>
//                     <input
//                       type="date"
//                       value={filterCriteria.dateRange.end}
//                       onChange={(e) =>
//                         setFilterCriteria({
//                           ...filterCriteria,
//                           dateRange: {
//                             ...filterCriteria.dateRange,
//                             end: e.target.value,
//                           },
//                         })
//                       }
//                       className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
//                     />
//                   </div>
//                 </div>
//               </div>
//             </div>
//             <div className="mt-8 flex space-x-4 pt-4">
//               <button
//                 onClick={() => setShowFilterModal(false)}
//                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500 focus:outline-none"
//               >
//                 Cancel
//               </button>
//               <button
//                 onClick={applyFilter}
//                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 focus:outline-none"
//               >
//                 Apply Filters
//               </button>
//             </div>
//           </div>
//         </div>
//       )}

//       {/* Confirm Delete Dialog */}
//       {showConfirmDialog && (
//         <div className="fixed inset-0 flex items-center justify-center z-50">
//           <div
//             className="absolute inset-0 bg-black opacity-60"
//             onClick={() => setShowConfirmDialog(false)}
//           ></div>
//           <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-md w-full z-10 shadow-lg">
//             <h2 className="text-2xl font-light tracking-wider mb-4 text-center text-white">
//               Confirm Delete
//             </h2>
//             <p className="text-gray-300 mb-6 text-center">
//               Are you sure you want to delete{" "}
//               <span className="font-medium text-white">
//                 {memberToDelete?.full_name}
//               </span>
//               ? This action cannot be undone after 5 seconds.
//             </p>
//             <div className="flex space-x-4">
//               <button
//                 onClick={() => setShowConfirmDialog(false)}
//                 className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500 focus:outline-none"
//               >
//                 Cancel
//               </button>
//               <button
//                 onClick={() => {
//                   if (memberToDelete) {
//                     handleDelete(memberToDelete.membershipID);
//                   }
//                 }}
//                 className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 focus:outline-none"
//               >
//                 Delete
//               </button>
//             </div>
//           </div>
//         </div>
//       )}

//       {/* Undo Delete Toast */}
//       {deletedMember && undoTimer > 0 && (
//         <div className="fixed bottom-8 right-8 bg-gray-900 border border-gray-800 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
//           <p className="text-gray-300">
//             <span className="font-medium text-white">
//               {deletedMember.full_name}
//             </span>{" "}
//             deleted
//           </p>
//           <button
//             onClick={handleUndoDelete}
//             className="flex items-center space-x-1 text-red-500 hover:text-red-400 focus:outline-none rounded"
//           >
//             <Undo size={16} />
//             <span>Undo ({undoTimer}s)</span>
//           </button>
//         </div>
//       )}

//       {/* Save Success Toast */}
//       {saveSuccess && (
//         <div className="fixed bottom-8 right-8 bg-green-900/70 border border-green-500 rounded-lg p-4 shadow-lg flex items-center space-x-4 z-50">
//           <svg
//             xmlns="http://www.w3.org/2000/svg"
//             className="h-6 w-6 text-green-500"
//             fill="none"
//             viewBox="0 0 24 24"
//             stroke="currentColor"
//           >
//             <path
//               strokeLinecap="round"
//               strokeLinejoin="round"
//               strokeWidth={2}
//               d="M5 13l4 4L19 7"
//             />
//           </svg>
//           <p className="text-green-300">Member updated successfully!</p>
//         </div>
//       )}
//     </div>
//   );
// };

// export default MembersPage;
"use client";

import { useState, useEffect, useMemo } from "react";
import { useRouter } from "next/navigation";
import { Plus, User } from "lucide-react";
import { Poppins } from 'next/font/google';

const poppins = Poppins({ 
  weight: ['300', '400', '500', '600'],
  subsets: ['latin'],
  display: 'swap'
});

const MembersPage = () => {
  const router = useRouter();
  const [members, setMembers] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  const [searchTerm, setSearchTerm] = useState("");
  const [searchFocused, setSearchFocused] = useState(false);
  const [showFilterModal, setShowFilterModal] = useState(false);
  const [viewMode, setViewMode] = useState("table");
  const [filterCriteria, setFilterCriteria] = useState({
    age: "",
    gender: [],
    membership_plan: [],
    membership_status: [],
    dateRange: { start: "", end: "" },
    pincode: "",
    emergency_contact: "",
  });

  // Fetch members from the backend
  useEffect(() => {
    const fetchMembers = async () => {
      try {
        const response = await fetch("http://localhost:5000/api/admin/members", {
          method: "GET",
          headers: {
            "Content-Type": "application/json",
          },
        });
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
        const data = await response.json();

        const formattedMembers = data.map((member) => ({
          ...member,
          pincode: member.pincode || "",
          emergency_contact: member.emergency_contact || "",
          passport_photo: member.passport_photo 
            ? member.passport_photo.startsWith('data:') 
              ? member.passport_photo 
              : `data:${member.photo_mime_type || 'image/jpeg'};base64,${member.passport_photo}`
            : null
        }));

        setMembers(formattedMembers);
        setError(null);
      } catch (err) {
        setError("Failed to fetch members: " + err.message);
        console.error("Error fetching members:", err);
      } finally {
        setIsLoading(false);
      }
    };
    fetchMembers();
  }, []);

  // Handle search and filter
  const filteredMembers = useMemo(() => {
    return (members || []).filter((member) => {
      const full_name = member.full_name || "";
      const email = member.email || "";
      const membership_status = member.membership_status || "";
      const pincode = member.pincode || "";
      const emergency_contact = member.emergency_contact || "";

      const matchesSearch =
        searchTerm === "" ||
        full_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
        email.toLowerCase().includes(searchTerm.toLowerCase()) ||
        membership_status.toLowerCase().includes(searchTerm.toLowerCase()) ||
        pincode.toLowerCase().includes(searchTerm.toLowerCase()) ||
        emergency_contact.toLowerCase().includes(searchTerm.toLowerCase());

      const ageMatch =
        filterCriteria.age === "" ||
        (member.age !== null &&
          member.age !== undefined &&
          member.age.toString() === filterCriteria.age);

      const genderMatch =
        filterCriteria.gender.length === 0 ||
        filterCriteria.gender.includes(member.gender);

      const membershipPlanMatch =
        filterCriteria.membership_plan.length === 0 ||
        filterCriteria.membership_plan.includes(member.membership_plan);

      const membershipStatusMatch =
        filterCriteria.membership_status.length === 0 ||
        filterCriteria.membership_status.includes(member.membership_status);

      const memberPaymentDate = new Date(member.payment_date);
      const matchesPaymentDate =
        !filterCriteria.dateRange.start ||
        memberPaymentDate >= new Date(filterCriteria.dateRange.start);
      const memberRenewalDate = new Date(member.renewal_date);
      const matchesRenewalDate =
        !filterCriteria.dateRange.end ||
        memberRenewalDate <= new Date(filterCriteria.dateRange.end);

      const pincodeMatch =
        filterCriteria.pincode === "" ||
        (member.pincode && member.pincode.includes(filterCriteria.pincode));

      const emergencyContactMatch =
        filterCriteria.emergency_contact === "" ||
        (member.emergency_contact &&
          member.emergency_contact.includes(filterCriteria.emergency_contact));

      return (
        matchesSearch &&
        ageMatch &&
        genderMatch &&
        membershipPlanMatch &&
        membershipStatusMatch &&
        matchesPaymentDate &&
        matchesRenewalDate &&
        pincodeMatch &&
        emergencyContactMatch
      );
    });
  }, [members, searchTerm, filterCriteria]);

  // Toggle view mode
  const toggleViewMode = () => {
    setViewMode(viewMode === "table" ? "card" : "table");
  };

  // Apply filter
  const applyFilter = () => {
    setShowFilterModal(false);
  };

  // Reset filters
  const resetFilters = () => {
    setFilterCriteria({
      age: "",
      gender: [],
      membership_plan: [],
      membership_status: [],
      dateRange: { start: "", end: "" },
      pincode: "",
      emergency_contact: "",
    });
  };

  if (isLoading)
    return (
      <div className={`flex items-center justify-center h-screen bg-gray-900 text-white ${poppins.className}`}>
        <div className="text-center">
          <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"></div>
          <p className="text-2xl font-light tracking-wider">Loading members...</p>
        </div>
      </div>
    );

  if (error)
    return (
      <div className={`flex items-center justify-center h-screen bg-gray-900 text-red-500 ${poppins.className}`}>
        <div className="text-center">
          <p className="text-2xl font-light tracking-wider">Error: {error}</p>
        </div>
      </div>
    );

  return (
    <div className={`bg-gradient-to-b from-gray-900 to-black text-white min-h-screen w-full ${poppins.className}`}>
      <style jsx global>{`
        /* Force focus rings to be visible on mobile */
        button:focus, 
        input:focus,
        select:focus,
        a:focus,
        [tabindex]:focus,
        [role="button"]:focus {
          outline: none !important;
          box-shadow: 0 0 0 1px rgba(255, 0, 0, 0.5) !important;
        }

        /* For touch devices - ensure focus state appears on tap */
        @media (hover: none) and (pointer: coarse) {
          button:active, 
          input:active,
          select:active,
          a:active,
          [tabindex]:active,
          [role="button"]:active {
            outline: none !important;
            box-shadow: 0 0 0 1px rgba(255, 0, 0, 0.5) !important;
          }
        }

        /* Photo hover effect */
        .member-photo {
          transition: all 0.3s ease;
          transform-origin: center center;
        }
        
        .member-photo:hover {
          transform: scale(1.8);
          z-index: 10;
          box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
        }

        /* Container to prevent layout shift */
        .photo-container {
          position: relative;
          width: 40px;
          height: 40px;
          margin: 0 auto;
        }

        /* For card view */
        .card-photo-container {
          position: relative;
          width: 64px;
          height: 64px;
        }

        /* Custom scrollbar for card view container */
        .card-view-container {
          height: calc(100vh - 200px);
          overflow-y: auto;
          padding-right: 8px;
        }

        .card-view-container::-webkit-scrollbar {
          width: 8px;
        }

        .card-view-container::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
        }

        .card-view-container::-webkit-scrollbar-thumb {
          background: rgba(255, 0, 0, 0.5);
          border-radius: 10px;
        }

        .card-view-container::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 0, 0, 0.7);
        }
      `}</style>

      {/* Navbar */}
      <div className="sticky top-0 z-50 bg-gray-900 border-b border-gray-800">
        <div className="flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 space-y-4 md:space-y-0">
          {/* Page Title */}
          <h1 className="text-2xl md:text-3xl font-light tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">
            Members List
          </h1>

          {/* Buttons */}
          <div className="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
            {/* Toggle View Mode Button */}
            <button
              onClick={toggleViewMode}
              className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 focus:outline-none"
            >
              {viewMode === "table" ? "Card View" : "Table View"}
            </button>

            {/* Filter Button */}
            <button
              onClick={() => setShowFilterModal(!showFilterModal)}
              className="w-full md:w-auto bg-gray-800 border border-gray-700 text-white px-4 py-2 rounded-lg hover:border-red-500 transition-all duration-300 shadow-lg hover:shadow-red-500/20 flex items-center justify-center focus:outline-none"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className="h-5 w-5 mr-2 text-red-500"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={1.5}
                  d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
                />
              </svg>
              <span className="font-medium">Filter View</span>
            </button>

            {/* Add Member Button */}
            <button
              onClick={() => router.push("/add-member")}
              className="w-full md:w-auto bg-red-500 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-red-600 focus:outline-none"
            >
              <Plus size={20} />
              <span>Add Member</span>
            </button>
          </div>
        </div>
      </div>

      <div className="sticky top-16 z-40 bg-gray-900 border-b border-gray-800">
        <div className="w-full px-8 pt-10">
          <div className="relative">
            <span className="absolute inset-y-0 left-0 flex items-center pl-6">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className={`h-5 w-5 ${
                  searchFocused ? "dark:text-red-500 text-black" : "text-gray-500"
                }`}
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                strokeWidth={1.5}
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                />
              </svg>
            </span>
            <input
              type="text"
              placeholder="Search by name, email, or membership status"
              className={`w-full bg-gray-800/50 backdrop-blur-sm border
                border-black shadow-lg shadow-black/20 ring-[0.1px] ring-black
                dark:border-red-500 dark:shadow-lg dark:shadow-red-500/20 dark:ring-[0.1px]dark:ring-red-500
                text-black dark:text-white pl-14 pr-4 py-5 rounded-xl focus:outline-none
                text-lg bg-white dark:bg-gray-800 ${poppins.className}`}
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              onFocus={() => setSearchFocused(true)}
              onBlur={() => setSearchFocused(false)}
            />
          </div>
        </div>
      </div>

      {/* Clear Filters Button */}
      {(filterCriteria.age ||
        filterCriteria.gender.length > 0 ||
        filterCriteria.membership_plan.length > 0 ||
        filterCriteria.membership_status.length > 0 ||
        filterCriteria.dateRange.start ||
        filterCriteria.dateRange.end ||
        filterCriteria.pincode ||
        filterCriteria.emergency_contact) && (
        <div className="w-full px-8 pt-4">
          <button
            onClick={resetFilters}
            className="bg-red-500 px-4 py-2 rounded-lg text-white hover:bg-red-600 focus:outline-none"
          >
            Clear Filters
          </button>
        </div>
      )}

      {viewMode === "table" ? (
        <div className="w-full px-8 pt-10 pb-12">
          {filteredMembers.length === 0 ? (
            <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className="h-20 w-20 mb-6 text-gray-600"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={1}
                  d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              <p className="text-2xl font-light tracking-wider">No members found.</p>
            </div>
          ) : (
            <div className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl overflow-hidden shadow-2xl transition-all duration-300 hover:shadow-red-500/10">
              <div className="overflow-x-auto">
                <div className="max-h-[75vh] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800">
                  <table className="w-full divide-y divide-gray-800">
                    <thead>
                      <tr className="bg-gray-900/50">
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Membership ID
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Photo
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Full Name
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Email
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Phone Number
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Age
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Gender
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Trainer Name
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Membership Plan
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Contract Date
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Renewal Date
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Pincode
                        </th>
                        <th className="py-5 px-6 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">
                          Emergency Contact
                        </th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-gray-800 bg-gray-800/20">
                      {filteredMembers.map((member) => (
                        <tr
                          key={member.membershipID}
                          className="hover:bg-gray-700/30 transition-colors duration-300 group"
                        >
                          <td className="py-5 px-6 text-sm font-light">
                            {member.membershipID}
                          </td>
                          <td className="py-5 px-6 text-sm">
                            <div className="photo-container">
                              {member.passport_photo ? (
                                <img 
                                  src={member.passport_photo} 
                                  alt="Member" 
                                  className="member-photo w-10 h-10 rounded-full object-cover border border-red-500"
                                  onError={(e) => {
                                    e.target.onerror = null;
                                    e.target.src = "/default-user.png";
                                  }}
                                />
                              ) : (
                                <div className="member-photo p-2 bg-black/30 border border-red-500 text-red-500 rounded-full hover:bg-red-900/50 transition-colors duration-200 inline-flex items-center justify-center">
                                  <User size={20} />
                                </div>
                              )}
                            </div>
                          </td>
                          <td className="py-5 px-6 text-sm font-medium text-white">
                            {member.full_name}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.email}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.phone_number}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.age}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.gender}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.trainer_name}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.membership_plan}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.payment_date}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.renewal_date}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.pincode}
                          </td>
                          <td className="py-5 px-6 text-sm font-light text-gray-300">
                            {member.emergency_contact}
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          )}
        </div>
      ) : (
        // Card View with scrollable container
        <div className="w-full px-8 pt-10 pb-12 card-view-container">
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {filteredMembers.map((member) => (
              <div
                key={member.membershipID}
                className="bg-gray-800/30 backdrop-blur-sm border border-gray-800 rounded-2xl p-6 hover:shadow-red-500/10 transition-shadow duration-300 focus:outline-none"
              >
                <div className="flex items-center space-x-4">
                  <div className="card-photo-container">
                    {member.passport_photo ? (
                      <img 
                        src={member.passport_photo} 
                        alt="Member" 
                        className="member-photo w-16 h-16 rounded-full object-cover border border-red-500 absolute"
                        onError={(e) => {
                          e.target.onerror = null;
                          e.target.src = "/default-user.png";
                        }}
                      />
                    ) : (
                      <div className="member-photo p-2 bg-black/30 border border-red-500 text-red-500 rounded-full absolute">
                        <User size={20} />
                      </div>
                    )}
                  </div>
                  <div>
                    <h3 className="text-lg font-medium text-white">
                      {member.full_name}
                    </h3>
                    <p className="text-sm text-gray-300">
                      {member.email}
                    </p>
                  </div>
                </div>
                <div className="mt-4 space-y-2">
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Membership ID:</span>{" "}
                    {member.membershipID}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Phone Number:</span>{" "}
                    {member.phone_number}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Age:</span>{" "}
                    {member.age}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Gender:</span>{" "}
                    {member.gender}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Trainer Name:</span>{" "}
                    {member.trainer_name}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Membership Plan:</span>{" "}
                    {member.membership_plan}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Contract Date:</span>{" "}
                    {member.payment_date}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Renewal Date:</span>{" "}
                    {member.renewal_date}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Pincode:</span>{" "}
                    {member.pincode}
                  </p>
                  <p className="text-sm text-gray-300">
                    <span className="font-medium">Emergency Contact:</span>{" "}
                    {member.emergency_contact}
                  </p>
                </div>
              </div>
            ))}
          </div>
          {filteredMembers.length === 0 && (
            <div className="flex flex-col items-center justify-center py-24 text-gray-400 bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-800">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className="h-20 w-20 mb-6 text-gray-600"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={1}
                  d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              <p className="text-2xl font-light tracking-wider">No members found.</p>
            </div>
          )}
        </div>
      )}

      {/* Filter Modal */}
      {showFilterModal && (
        <div className="fixed inset-0 flex items-center justify-center z-50">
          <div
            className="absolute inset-0 bg-black opacity-60"
            onClick={() => setShowFilterModal(false)}
          ></div>
          <div className="relative bg-gray-900 border border-gray-800 rounded-2xl p-8 max-w-xl w-full z-10 shadow-lg max-h-[90vh] flex flex-col">
            <h2 className="text-2xl font-light tracking-wider mb-6 text-center text-white">
              Filter Members
            </h2>
            <div className="overflow-y-auto pr-4 flex-1">
              <div className="space-y-6">
                <div>
                  <label className="block text-white mb-2">Age</label>
                  <input
                    type="number"
                    value={filterCriteria.age}
                    onChange={(e) =>
                      setFilterCriteria({
                        ...filterCriteria,
                        age: e.target.value,
                      })
                    }
                    className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
                    placeholder="Enter age"
                  />
                </div>
                <div>
                  <label className="block text-white mb-2">Gender</label>
                  <div className="grid grid-cols-3 gap-2">
                    {["Male", "Female", "Other"].map((gender) => (
                      <div
                        key={gender}
                        className={`border rounded-lg p-2 cursor-pointer transition-colors ${
                          filterCriteria.gender.includes(gender)
                            ? "border-red-500 bg-red-900/30 text-white"
                            : "border-gray-700 bg-gray-800 text-gray-400"
                        } focus:outline-none`}
                        onClick={() => {
                          if (filterCriteria.gender.includes(gender)) {
                            setFilterCriteria({
                              ...filterCriteria,
                              gender: filterCriteria.gender.filter(
                                (g) => g !== gender
                              ),
                            });
                          } else {
                            setFilterCriteria({
                              ...filterCriteria,
                              gender: [...filterCriteria.gender, gender],
                            });
                          }
                        }}
                        tabIndex={0}
                      >
                        {gender}
                      </div>
                    ))}
                  </div>
                </div>
                <div>
                  <label className="block text-white mb-2">Membership Plan</label>
                  <div className="grid grid-cols-3 gap-2">
                    {["Monthly", "Quarterly", "Yearly"].map((plan) => (
                      <div
                        key={plan}
                        className={`border rounded-lg p-2 cursor-pointer transition-colors ${
                          filterCriteria.membership_plan.includes(plan)
                            ? "border-red-500 bg-red-900/30 text-white"
                            : "border-gray-700 bg-gray-800 text-gray-400"
                        } focus:outline-none`}
                        onClick={() => {
                          if (filterCriteria.membership_plan.includes(plan)) {
                            setFilterCriteria({
                              ...filterCriteria,
                              membership_plan: filterCriteria.membership_plan.filter(
                                (p) => p !== plan
                              ),
                            });
                          } else {
                            setFilterCriteria({
                              ...filterCriteria,
                              membership_plan: [
                                ...filterCriteria.membership_plan,
                                plan,
                              ],
                            });
                          }
                        }}
                        tabIndex={0}
                      >
                        {plan}
                      </div>
                    ))}
                  </div>
                </div>
                <div>
                  <label className="block text-white mb-2">Membership Status</label>
                  <div className="grid grid-cols-3 gap-2">
                    {["Active", "Inactive"].map((status) => (
                      <div
                        key={status}
                        className={`border rounded-lg p-2 cursor-pointer transition-colors ${
                          filterCriteria.membership_status.includes(status)
                            ? "border-red-500 bg-red-900/30 text-white"
                            : "border-gray-700 bg-gray-800 text-gray-400"
                        } focus:outline-none`}
                        onClick={() => {
                          if (filterCriteria.membership_status.includes(status)) {
                            setFilterCriteria({
                              ...filterCriteria,
                              membership_status: filterCriteria.membership_status.filter(
                                (s) => s !== status
                              ),
                            });
                          } else {
                            setFilterCriteria({
                              ...filterCriteria,
                              membership_status: [
                                ...filterCriteria.membership_status,
                                status,
                              ],
                            });
                          }
                        }}
                        tabIndex={0}
                      >
                        {status}
                      </div>
                    ))}
                  </div>
                </div>
                <div>
                  <label className="block text-white mb-2">Pincode</label>
                  <input
                    type="text"
                    value={filterCriteria.pincode}
                    onChange={(e) =>
                      setFilterCriteria({
                        ...filterCriteria,
                        pincode: e.target.value,
                      })
                    }
                    className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
                    placeholder="Enter pincode"
                  />
                </div>
                <div>
                  <label className="block text-white mb-2">Emergency Contact</label>
                  <input
                    type="text"
                    value={filterCriteria.emergency_contact}
                    onChange={(e) =>
                      setFilterCriteria({
                        ...filterCriteria,
                        emergency_contact: e.target.value,
                      })
                    }
                    className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
                    placeholder="Enter emergency contact"
                  />
                </div>
                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <label className="block text-white mb-2">Contract Date</label>
                    <input
                      type="date"
                      value={filterCriteria.dateRange.start}
                      onChange={(e) =>
                        setFilterCriteria({
                          ...filterCriteria,
                          dateRange: {
                            ...filterCriteria.dateRange,
                            start: e.target.value,
                          },
                        })
                      }
                      className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
                    />
                  </div>
                  <div>
                    <label className="block text-white mb-2">Renewal Date</label>
                    <input
                      type="date"
                      value={filterCriteria.dateRange.end}
                      onChange={(e) =>
                        setFilterCriteria({
                          ...filterCriteria,
                          dateRange: {
                            ...filterCriteria.dateRange,
                            end: e.target.value,
                          },
                        })
                      }
                      className="w-full bg-gray-800 border border-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div className="mt-8 flex space-x-4 pt-4">
              <button
                onClick={() => setShowFilterModal(false)}
                className="flex-1 bg-gray-800 border border-gray-700 text-white py-3 rounded-lg hover:border-red-500 focus:outline-none"
              >
                Cancel
              </button>
              <button
                onClick={applyFilter}
                className="flex-1 bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 focus:outline-none"
              >
                Apply Filters
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default MembersPage;